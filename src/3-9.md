# 3.9

This section lists the new features, enhancements, fixed issues and, removed or deprecated features for 3.9 (Early Access) release.

## New Features

The following are the new features introduced with 3.9 release.

##### Hazelcast IMDG Enterprise Features

- **WAN Replication on Amazon EC2**: With this new feature, you can run multiple clusters within EC2 environment without manually configuring IP addresses and use Hazelcast's WAN replication to keep them in sync. Please see the [Defining WAN Replication Using Discovery SPI section](http://docs.hazelcast.org/docs/3.9/manual/html-single/index.html#defining-wan-replication-using-discovery-spi).


##### Hazelcast IMDG Open Source Features

- **Dynamic Creation of Distributed Objects Configuration**: You can perform on the fly configuration of your distributed objects. Please see the [Dynamically Adding Configuration on a Cluster section](http://docs.hazelcast.org/docs/3.9/manual/html-single/index.html#dynamically-adding-configuration-on-a-cluster).



## Enhancements


The following are the enhancements introduced with 3.9 release.

##### Hazelcast IMDG Enterprise Enhancements


- **OpenSSL Integration**: OpenSSL is integrated into Hazelcast. Please see the [Integrating OpenSSL section](http://docs.hazelcast.org/docs/3.9/manual/html-single/index.html#integrating-openssl).
- **Dynamic Role Update**: You can update security permissions in a running cluster without performing a rolling restart.
- **Search Indexes in High-Density Memory Store**: Now, sorted and unsorted indexes for High-Density Memory Store are supported.
- **Members-only License Installation**: Licenses are installed only at the member side, not the client side.


##### Hazelcast IMDG Open Source Enhancements

- **Client Support for User Code Deployment**: You can now perform dynamic class loading from Hazelcast clients too. Please see the [Client User Code Deployment section](http://docs.hazelcast.org/docs/3.9/manual/html-single/index.html#client-user-code-deployment-beta).
- **Client Statistics in Management Center**: Hazelcast Management Center shows client statistics. Just enable the property `hazelcast.client.statistics.enabled`. Please see the [Client System Properties section](http://docs.hazelcast.org/docs/3.9/manual/html-single/index.html#client-system-properties).
- **Event Journal**: This new distributed data structure stores the history of mutation actions on data structures such as map or cache. Please see the [Event Journal section](http://docs.hazelcast.org/docs/3.9/manual/html-single/index.html#event-journal).
- **Filtering and Projection Support for MapPartitionIterator**: Purpose of this enhancement is to allow Hazelcast Jet to perform filtering and projections on IMap.
- **Fine-Grained Anti-Entropy Mechanism**: Allows to detect inconsistencies for each data structure in a single partition and replicate only the specific fragment of it instead of the whole partition. Please see the [Consistency and Replication Model chapter](http://docs.hazelcast.org/docs/3.9/manual/html-single/index.html#consistency-and-replication-model).
- **Offloadable and Readonly entry processors**: These interfaces introduced in order to significantly improve entry processors' throughput. Please see the [Entry Processor Performance Optimizations section](http://docs.hazelcast.org/docs/3.9/manual/html-single/index.html#entry-processor-performance-optimizations).
- **Gigantic Cache Migration Enhancements**: It enables manual control on the partition migrations. Partitions can be migrated/replicated in small fragments. Please refer to the <a href="http://docs.hazelcast.org/docs/3.9/manual/html/System_Properties.html" target="_blank">hazelcast.partition.migration.fragments.enabled</a> system property and <a href="http://docs.hazelcast.org/docs/latest-development/manual/html/Management/Cluster_Utilities/Managing_Cluster_and_Member_States.html" target="_blank">NO_MIGRATION</a> cluster state.
- **Keeping JCache Implementation Updated**: Hazelcast JCache implementation is updated for JSR 1.1 compliance when it is released.
- **Storing Near Cache Keys by Reference**: This enhancement provides a functionality to skip the serialization of keys for Near Caches to improve the performance of the Near Caches. Please see the `serialize-keys` option in the [Near Cache section](http://docs.hazelcast.org/docs/3.9/manual/html-single/index.html#near-cache).
- **Client Connection Strategy Enhancements**: Allows lazy initiation for Hazelcast Clients. Please see the [Configuring Client Connection Strategy section](http://docs.hazelcast.org/docs/3.9/manual/html-single/index.html#configuring-client-connection-strategy).
- **All Statistics as JMX Beans**: All statistics shown on the Hazelcast Management Center  are now available as JMX beans.
- **Default Group Password and Symmetric Encryption Default Credentials Policy**: Hazelcast requires the default group password and default symmetric encryption password/salt to be changed. Please see the [Validating Secrets Using Strength Policy section](http://docs.hazelcast.org/docs/3.9/manual/html-single/index.html#validating-secrets-using-strength-policy).
- **Hazelcast Consistency Model Documentation**: We added a new chapter explaining the full picture of Hazelcast's consistency model. Please see the [Consistency and Replication Model chapter](http://docs.hazelcast.org/docs/3.9/manual/html-single/index.html#consistency-and-replication-model).



The following are the other improvements performed to solve the enhancement issues opened by the Hazelcast customers/team.

- The attribute `override-java-serialization` should be added to the element `global-serializer` in `hazelcast-client-config.xsd`. <a href="https://github.com/hazelcast/hazelcast/issues/10449" target="_blank">[#10449]</a>
- Hazelcast should have a method like `gerOrCreateHazelcastInstance()` to detect a default configuration file and either create an instance or get an existing one. <a href="https://github.com/hazelcast/hazelcast/issues/10007" target="_blank">[#10007]</a>
- Allow binding any port without using the method `setPortAutoIncrement()` and specifying the port count. <a href="https://github.com/hazelcast/hazelcast/issues/9775" target="_blank">[#9775]</a>
- Consistent interface for IMap and TransactionalMap is needed. <a href="https://github.com/hazelcast/hazelcast/issues/8729" target="_blank">[#8729]</a>
- Hazelcast instance's name should be added as a prefix to the name of the threads managed by Hazelcast. <a href="https://github.com/hazelcast/hazelcast/issues/8542" target="_blank">[#8542]</a>
- When back pressure is enabled members always use back-off and clients always throws `HazelcastOverloadedException`. This is not consistent and the behavior should be configurable on both members and clients. <a href="https://github.com/hazelcast/hazelcast/issues/8533" target="_blank">[#8533]</a>
- For `OperationService`, the contention on the counters should be reduced. <a href="https://github.com/hazelcast/hazelcast/issues/4925" target="_blank">[#4925]</a>
- Some of the properties mentioned in `GroupProperties` are not used anymore, it should be cleaned up. <a href="https://github.com/hazelcast/hazelcast/issues/4505" target="_blank">[#4505]</a>
- When a grid member is configured to use port 0, it should be handled properly. <a href="https://github.com/hazelcast/hazelcast/issues/2506" target="_blank">[#2506]</a>


## Fixes

The following are the issues solved for Hazelcast 3.9 release.

- The system property `hazelcast.cache.invalidation.batchfrequency.seconds` does not work for IMap. <a href="https://github.com/hazelcast/hazelcast/issues/10743" target="_blank">[#10743]</a>



## Behavioral Changes

- Starting with Hazelcast 3.9, the format of member list shown in the logs is changed. Before Hazelcast 3.9, it was like the following:

  ```
  Members [3] {
      Member [127.0.0.1]:5701 - c1ccc8d4-a549-4bff-bf46-9213e14a9fd2 this
      Member [127.0.0.1]:5702 - 33a82dbf-85d6-4780-b9cf-e47d42fb89d4
      Member [127.0.0.1]:5703 - 813ec82f-9d9e-4712-bae1-6c95b32d6d7d
  }
  ```
  
  Starting with Hazelcast 3.9, it is shown as follows:
  
  ```
  Members {size:3, ver:3} [
    Member [127.0.0.1]:5701 - e40081de-056a-4ae5-8ffe-632caf8a6cf1 this
    Member [127.0.0.1]:5702 - 93e82109-16bf-4b16-9c87-f4a6d0873080
    Member [127.0.0.1]:5703 - 06fb4e61-9757-443b-a19f-7af1f3966f30
  ]
  ```
  
  Here, you can see the size of your cluster (`size`) and member list version (`ver`). The member list version will be incremented when changes happen to the cluster, e.g., a member leaving from or joining to the cluster.
  
  You can set the system property `hazelcast.legacy.memberlist.format.enabled` to `true` if you want to see the member list in its old format.

