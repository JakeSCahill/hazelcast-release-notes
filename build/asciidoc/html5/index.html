<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.6.1">
<title>Hazelcast IMDG Release Notes</title>
<style>
@import url(https://fonts.googleapis.com/css?family=Cousine);
/*! normalize.css v2.1.2 | MIT License | git.io/normalize */
/* ========================================================================== HTML5 display definitions ========================================================================== */
/** Correct `block` display not defined in IE 8/9. */
article, aside, details, figcaption, figure, footer, header, hgroup, main, nav, section, summary { display: block; }

/** Correct `inline-block` display not defined in IE 8/9. */
audio, canvas, video { display: inline-block; }

/** Prevent modern browsers from displaying `audio` without controls. Remove excess height in iOS 5 devices. */
audio:not([controls]) { display: none; height: 0; }

/** Address `[hidden]` styling not present in IE 8/9. Hide the `template` element in IE, Safari, and Firefox < 22. */
[hidden], template { display: none; }

script { display: none !important; }

/* ========================================================================== Base ========================================================================== */
/** 1. Set default font family to sans-serif. 2. Prevent iOS text size adjust after orientation change, without disabling user zoom. */
html { font-family: sans-serif; /* 1 */ -ms-text-size-adjust: 100%; /* 2 */ -webkit-text-size-adjust: 100%; /* 2 */ }

/** Remove default margin. */
body { margin: 0; }

/* ========================================================================== Links ========================================================================== */
/** Remove the gray background color from active links in IE 10. */
a { background: transparent; }

/** Address `outline` inconsistency between Chrome and other browsers. */
a:focus { outline: thin dotted; }

/** Improve readability when focused and also mouse hovered in all browsers. */
a:active, a:hover { outline: 0; }

/* ========================================================================== Typography ========================================================================== */
/** Address variable `h1` font-size and margin within `section` and `article` contexts in Firefox 4+, Safari 5, and Chrome. */
h1 { font-size: 2em; margin: 0.67em 0; }

/** Address styling not present in IE 8/9, Safari 5, and Chrome. */
abbr[title] { border-bottom: 1px dotted; }

/** Address style set to `bolder` in Firefox 4+, Safari 5, and Chrome. */
b, strong { font-weight: bold; }

/** Address styling not present in Safari 5 and Chrome. */
dfn { font-style: italic; }

/** Address differences between Firefox and other browsers. */
hr { -moz-box-sizing: content-box; box-sizing: content-box; height: 0; }

/** Address styling not present in IE 8/9. */
mark { background: #ff0; color: #000; }

/** Correct font family set oddly in Safari 5 and Chrome. */
code, kbd, pre, samp { font-family: monospace, serif; font-size: 1em; }

/** Improve readability of pre-formatted text in all browsers. */
pre { white-space: pre-wrap; }

/** Set consistent quote types. */
q { quotes: "\201C" "\201D" "\2018" "\2019"; }

/** Address inconsistent and variable font size in all browsers. */
small { font-size: 80%; }

/** Prevent `sub` and `sup` affecting `line-height` in all browsers. */
sub, sup { font-size: 75%; line-height: 0; position: relative; vertical-align: baseline; }

sup { top: -0.5em; }

sub { bottom: -0.25em; }

/* ========================================================================== Embedded content ========================================================================== */
/** Remove border when inside `a` element in IE 8/9. */
img { border: 0; }

/** Correct overflow displayed oddly in IE 9. */
svg:not(:root) { overflow: hidden; }

/* ========================================================================== Figures ========================================================================== */
/** Address margin not present in IE 8/9 and Safari 5. */
figure { margin: 0; }

/* ========================================================================== Forms ========================================================================== */
/** Define consistent border, margin, and padding. */
fieldset { border: 1px solid #c0c0c0; margin: 0 2px; padding: 0.35em 0.625em 0.75em; }

/** 1. Correct `color` not being inherited in IE 8/9. 2. Remove padding so people aren't caught out if they zero out fieldsets. */
legend { border: 0; /* 1 */ padding: 0; /* 2 */ }

/** 1. Correct font family not being inherited in all browsers. 2. Correct font size not being inherited in all browsers. 3. Address margins set differently in Firefox 4+, Safari 5, and Chrome. */
button, input, select, textarea { font-family: inherit; /* 1 */ font-size: 100%; /* 2 */ margin: 0; /* 3 */ }

/** Address Firefox 4+ setting `line-height` on `input` using `!important` in the UA stylesheet. */
button, input { line-height: normal; }

/** Address inconsistent `text-transform` inheritance for `button` and `select`. All other form control elements do not inherit `text-transform` values. Correct `button` style inheritance in Chrome, Safari 5+, and IE 8+. Correct `select` style inheritance in Firefox 4+ and Opera. */
button, select { text-transform: none; }

/** 1. Avoid the WebKit bug in Android 4.0.* where (2) destroys native `audio` and `video` controls. 2. Correct inability to style clickable `input` types in iOS. 3. Improve usability and consistency of cursor style between image-type `input` and others. */
button, html input[type="button"], input[type="reset"], input[type="submit"] { -webkit-appearance: button; /* 2 */ cursor: pointer; /* 3 */ }

/** Re-set default cursor for disabled elements. */
button[disabled], html input[disabled] { cursor: default; }

/** 1. Address box sizing set to `content-box` in IE 8/9. 2. Remove excess padding in IE 8/9. */
input[type="checkbox"], input[type="radio"] { box-sizing: border-box; /* 1 */ padding: 0; /* 2 */ }

/** 1. Address `appearance` set to `searchfield` in Safari 5 and Chrome. 2. Address `box-sizing` set to `border-box` in Safari 5 and Chrome (include `-moz` to future-proof). */
input[type="search"] { -webkit-appearance: textfield; /* 1 */ -moz-box-sizing: content-box; -webkit-box-sizing: content-box; /* 2 */ box-sizing: content-box; }

/** Remove inner padding and search cancel button in Safari 5 and Chrome on OS X. */
input[type="search"]::-webkit-search-cancel-button, input[type="search"]::-webkit-search-decoration { -webkit-appearance: none; }

/** Remove inner padding and border in Firefox 4+. */
button::-moz-focus-inner, input::-moz-focus-inner { border: 0; padding: 0; }

/** 1. Remove default vertical scrollbar in IE 8/9. 2. Improve readability and alignment in all browsers. */
textarea { overflow: auto; /* 1 */ vertical-align: top; /* 2 */ }

/* ========================================================================== Tables ========================================================================== */
/** Remove most spacing between table cells. */
table { border-collapse: collapse; border-spacing: 0; }

meta.foundation-mq-small { font-family: "only screen and (min-width: 768px)"; width: 768px; }

meta.foundation-mq-medium { font-family: "only screen and (min-width:1280px)"; width: 1280px; }

meta.foundation-mq-large { font-family: "only screen and (min-width:1440px)"; width: 1440px; }

*, *:before, *:after { -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; }

html, body { font-size: 16px; }

body { background: white; color: #222222; padding: 0; margin: 0; font-family: "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif; font-weight: normal; font-style: normal; line-height: 1; position: relative; cursor: auto; }

a:hover { cursor: pointer; }

img, object, embed { max-width: 100%; height: auto; }

object, embed { height: 100%; }

img { -ms-interpolation-mode: bicubic; }

#map_canvas img, #map_canvas embed, #map_canvas object, .map_canvas img, .map_canvas embed, .map_canvas object { max-width: none !important; }

.left { float: left !important; }

.right { float: right !important; }

.text-left { text-align: left !important; }

.text-right { text-align: right !important; }

.text-center { text-align: center !important; }

.text-justify { text-align: justify !important; }

.hide { display: none; }

.antialiased { -webkit-font-smoothing: antialiased; }

img { display: inline-block; vertical-align: middle; }

textarea { height: auto; min-height: 50px; }

select { width: 100%; }

object, svg { display: inline-block; vertical-align: middle; }

.center { margin-left: auto; margin-right: auto; }

.spread { width: 100%; }

p.lead, .paragraph.lead > p, #preamble > .sectionbody > .paragraph:first-of-type p { font-size: 1.21875em; line-height: 1.6; }

.subheader, .admonitionblock td.content > .title, .audioblock > .title, .exampleblock > .title, .imageblock > .title, .listingblock > .title, .literalblock > .title, .stemblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, table.tableblock > .title, .verseblock > .title, .videoblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title { line-height: 1.4; color: #777777; font-weight: 300; margin-top: 0.2em; margin-bottom: 0.5em; }

/* Typography resets */
div, dl, dt, dd, ul, ol, li, h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6, pre, form, p, blockquote, th, td { margin: 0; padding: 0; direction: ltr; }

/* Default Link Styles */
a { color: #4183c4; text-decoration: none; line-height: inherit; }
a:hover, a:focus { color: #4183c4; }
a img { border: none; }

/* Default paragraph styles */
p { font-family: helvetica, arial, freesans, clean, sans-serif; font-weight: normal; font-size: 1em; line-height: 1.5; margin-bottom: 0.9375em; text-rendering: optimizeLegibility; }
p aside { font-size: 0.875em; line-height: 1.35; font-style: italic; }

/* Default header styles */
h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { font-family: helvetica, arial, freesans, clean, sans-serif; font-weight: bold; font-style: normal; color: #333333; text-rendering: optimizeLegibility; margin-top: 0.2em; margin-bottom: 0.5em; line-height: 1.2125em; }
h1 small, h2 small, h3 small, #toctitle small, .sidebarblock > .content > .title small, h4 small, h5 small, h6 small { font-size: 60%; color: gray; line-height: 0; }

h1 { font-size: 1.25em; }

h2 { font-size: 0.875em; }

h3, #toctitle, .sidebarblock > .content > .title { font-size: 0.8125em; }

h4 { font-size: 0.6875em; }

h5 { font-size: 1em; }

h6 { font-size: 1em; }

hr { border: solid #dddddd; border-width: 1px 0 0; clear: both; margin: 1.25em 0 1.1875em; height: 0; }

/* Helpful Typography Defaults */
em, i { font-style: italic; line-height: inherit; }

strong, b { font-weight: bold; line-height: inherit; }

small { font-size: 60%; line-height: inherit; }

code { font-family: Cousine, Consolas, "Liberation Mono", Courier, monospace; font-weight: normal; color: #c83b41; }

/* Lists */
ul, ol, dl { font-size: 1em; line-height: 1.5; margin-bottom: 0.9375em; list-style-position: outside; font-family: helvetica, arial, freesans, clean, sans-serif; }

ul, ol { margin-left: 0.65625em; }
ul.no-bullet, ol.no-bullet { margin-left: 0.65625em; }

/* Unordered Lists */
ul li ul, ul li ol { margin-left: 1.25em; margin-bottom: 0; font-size: 1em; /* Override nested font-size change */ }
ul.square li ul, ul.circle li ul, ul.disc li ul { list-style: inherit; }
ul.square { list-style-type: square; }
ul.circle { list-style-type: circle; }
ul.disc { list-style-type: disc; }
ul.no-bullet { list-style: none; }

/* Ordered Lists */
ol li ul, ol li ol { margin-left: 1.25em; margin-bottom: 0; }

/* Definition Lists */
dl dt { margin-bottom: 0.3125em; font-weight: bold; }
dl dd { margin-bottom: 1.25em; }

/* Abbreviations */
abbr, acronym { text-transform: uppercase; font-size: 90%; color: #333333; border-bottom: 1px dotted #dddddd; cursor: help; }

abbr { text-transform: none; }

/* Blockquotes */
blockquote { margin: 0 0 0.9375em; padding: 0; border-left: none; }
blockquote cite { display: block; font-size: 0.8125em; color: #666666; }
blockquote cite:before { content: "\2014 \0020"; }
blockquote cite a, blockquote cite a:visited { color: #666666; }

blockquote, blockquote p { line-height: 1.5; color: #666666; }

/* Microformats */
.vcard { display: inline-block; margin: 0 0 1.25em 0; border: 1px solid #dddddd; padding: 0.625em 0.75em; }
.vcard li { margin: 0; display: block; }
.vcard .fn { font-weight: bold; font-size: 0.9375em; }

.vevent .summary { font-weight: bold; }
.vevent abbr { cursor: auto; text-decoration: none; font-weight: bold; border: none; padding: 0 0.0625em; }

@media only screen and (min-width: 768px) { h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { line-height: 1.4; }
  h1 { font-size: 1.875em; }
  h2 { font-size: 1.5em; }
  h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.125em; }
  h4 { font-size: 1em; } }
/* Tables */
table { background: white; margin-bottom: 1.25em; border: solid 1px #dddddd; }
table thead, table tfoot { background: whitesmoke; font-weight: bold; }
table thead tr th, table thead tr td, table tfoot tr th, table tfoot tr td { padding: 0.5em 0.625em 0.625em; font-size: 0.875em; color: #222222; text-align: left; }
table tr th, table tr td { padding: 0.5625em 0.625em; font-size: 0.9375em; color: #222222; }
table tr.even, table tr.alt, table tr:nth-of-type(even) { background: #f9f9f9; }
table thead tr th, table tfoot tr th, table tbody tr td, table tr td, table tfoot tr td { display: table-cell; line-height: 1.5; }

body { -moz-osx-font-smoothing: grayscale; -webkit-font-smoothing: antialiased; tab-size: 4; }

h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { line-height: 1.4; }

a:hover, a:focus { text-decoration: underline; }

.clearfix:before, .clearfix:after, .float-group:before, .float-group:after { content: " "; display: table; }
.clearfix:after, .float-group:after { clear: both; }

*:not(pre) > code { font-size: 0.9375em; font-style: normal !important; letter-spacing: 0; padding: 1px 5px 1px 5px; background-color: #f7f7f7; border: 1px solid #dddddd; -webkit-border-radius: 3px; border-radius: 3px; line-height: inherit; word-wrap: break-word; }
*:not(pre) > code.nobreak { word-wrap: normal; }
*:not(pre) > code.nowrap { white-space: nowrap; }

pre, pre > code { line-height: 1.45; color: #333333; font-family: Cousine, Consolas, "Liberation Mono", Courier, monospace; font-size: 0.9375em; font-weight: normal; }

em em { font-style: normal; }

strong strong { font-weight: normal; }

.keyseq { color: #666666; }

kbd { font-family: Cousine, Consolas, "Liberation Mono", Courier, monospace; display: inline-block; color: #333333; font-size: 0.65em; line-height: 1.45; background-color: #f7f7f7; border: 1px solid #ccc; -webkit-border-radius: 3px; border-radius: 3px; -webkit-box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 0.1em white inset; box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 0.1em white inset; margin: 0 0.15em; padding: 0.2em 0.5em; vertical-align: middle; position: relative; top: -0.1em; white-space: nowrap; }

.keyseq kbd:first-child { margin-left: 0; }

.keyseq kbd:last-child { margin-right: 0; }

.menuseq, .menuref { color: #000; }

.menuseq b:not(.caret), .menuref { font-weight: inherit; }

.menuseq { word-spacing: -0.02em; }
.menuseq b.caret { font-size: 1.25em; line-height: 0.8; }
.menuseq i.caret { font-weight: bold; text-align: center; width: 0.45em; }

b.button:before, b.button:after { position: relative; top: -1px; font-weight: normal; }

b.button:before { content: "["; padding: 0 3px 0 2px; }

b.button:after { content: "]"; padding: 0 2px 0 3px; }

#header, #content, #footnotes, #footer { width: 100%; margin-left: auto; margin-right: auto; margin-top: 0; margin-bottom: 0; max-width: 62.5em; *zoom: 1; position: relative; padding-left: 0.9375em; padding-right: 0.9375em; }
#header:before, #header:after, #content:before, #content:after, #footnotes:before, #footnotes:after, #footer:before, #footer:after { content: " "; display: table; }
#header:after, #content:after, #footnotes:after, #footer:after { clear: both; }

#content { margin-top: 1.25em; }

#content:before { content: none; }

#header > h1:first-child { color: #333333; font-weight: 300; margin-top: 2.25rem; margin-bottom: 0; }
#header > h1:first-child + #toc { margin-top: 8px; border-top: 1px solid #dddddd; }
#header > h1:only-child, body.toc2 #header > h1:nth-last-child(2) { border-bottom: 1px solid #dddddd; padding-bottom: 8px; }
#header .details { border-bottom: 1px solid #dddddd; line-height: 1.45; padding-top: 0.25em; padding-bottom: 0.25em; padding-left: 0.25em; color: #666666; display: -ms-flexbox; display: -webkit-flex; display: flex; -ms-flex-flow: row wrap; -webkit-flex-flow: row wrap; flex-flow: row wrap; }
#header .details span:first-child { margin-left: -0.125em; }
#header .details span.email a { color: #666666; }
#header .details br { display: none; }
#header .details br + span:before { content: "\00a0\2013\00a0"; }
#header .details br + span.author:before { content: "\00a0\22c5\00a0"; color: #666666; }
#header .details br + span#revremark:before { content: "\00a0|\00a0"; }
#header #revnumber { text-transform: capitalize; }
#header #revnumber:after { content: "\00a0"; }

#content > h1:first-child:not([class]) { color: #333333; font-weight: 300; border-bottom: 1px solid #dddddd; padding-bottom: 8px; margin-top: 0; padding-top: 1rem; margin-bottom: 1.25rem; }

#toc { border-bottom: 0 solid #dddddd; padding-bottom: 0.5em; }
#toc > ul { margin-left: 0.125em; }
#toc ul.sectlevel0 > li > a { font-style: italic; }
#toc ul.sectlevel0 ul.sectlevel1 { margin: 0.5em 0; }
#toc ul { font-family: helvetica, arial, freesans, clean, sans-serif; list-style-type: none; }
#toc li { line-height: 1.3334; margin-top: 0.3334em; }
#toc a { text-decoration: none; }
#toc a:active { text-decoration: underline; }

#toctitle { color: #777777; font-size: 1.2em; }

@media only screen and (min-width: 768px) { #toctitle { font-size: 1.375em; }
  body.toc2 { padding-left: 15em; padding-right: 0; }
  #toc.toc2 { margin-top: 0 !important; background-color: #f7f7f7; position: fixed; width: 15em; left: 0; top: 0; border-right: 1px solid #dddddd; border-top-width: 0 !important; border-bottom-width: 0 !important; z-index: 1000; padding: 1.25em 1em; height: 100%; overflow: auto; }
  #toc.toc2 #toctitle { margin-top: 0; margin-bottom: 0.8rem; font-size: 1.2em; }
  #toc.toc2 > ul { font-size: 0.9em; margin-bottom: 0; }
  #toc.toc2 ul ul { margin-left: 0; padding-left: 1em; }
  #toc.toc2 ul.sectlevel0 ul.sectlevel1 { padding-left: 0; margin-top: 0.5em; margin-bottom: 0.5em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 15em; }
  body.toc2.toc-right #toc.toc2 { border-right-width: 0; border-left: 1px solid #dddddd; left: auto; right: 0; } }
@media only screen and (min-width: 1280px) { body.toc2 { padding-left: 20em; padding-right: 0; }
  #toc.toc2 { width: 20em; }
  #toc.toc2 #toctitle { font-size: 1.375em; }
  #toc.toc2 > ul { font-size: 0.95em; }
  #toc.toc2 ul ul { padding-left: 1.25em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 20em; } }
#content #toc { border-style: solid; border-width: 1px; border-color: #dedede; margin-bottom: 1.25em; padding: 1.25em; background: #f7f7f7; -webkit-border-radius: 3px; border-radius: 3px; }
#content #toc > :first-child { margin-top: 0; }
#content #toc > :last-child { margin-bottom: 0; }

#footer { max-width: 100%; background-color: whitesmoke; padding: 1.25em; }

#footer-text { color: #333333; line-height: 1.35; }

#content { margin-bottom: 0.625em; }

.sect1 { padding-bottom: 0.625em; }

@media only screen and (min-width: 768px) { #content { margin-bottom: 1.25em; }
  .sect1 { padding-bottom: 1.25em; } }
.sect1:last-child { padding-bottom: 0; }

.sect1 + .sect1 { border-top: 0 solid #dddddd; }

#content h1 > a.anchor, h2 > a.anchor, h3 > a.anchor, #toctitle > a.anchor, .sidebarblock > .content > .title > a.anchor, h4 > a.anchor, h5 > a.anchor, h6 > a.anchor { position: absolute; z-index: 1001; width: 1.5ex; margin-left: -1.5ex; display: block; text-decoration: none !important; visibility: hidden; text-align: center; font-weight: normal; }
#content h1 > a.anchor:before, h2 > a.anchor:before, h3 > a.anchor:before, #toctitle > a.anchor:before, .sidebarblock > .content > .title > a.anchor:before, h4 > a.anchor:before, h5 > a.anchor:before, h6 > a.anchor:before { content: "\00A7"; font-size: 0.85em; display: block; padding-top: 0.1em; }
#content h1:hover > a.anchor, #content h1 > a.anchor:hover, h2:hover > a.anchor, h2 > a.anchor:hover, h3:hover > a.anchor, #toctitle:hover > a.anchor, .sidebarblock > .content > .title:hover > a.anchor, h3 > a.anchor:hover, #toctitle > a.anchor:hover, .sidebarblock > .content > .title > a.anchor:hover, h4:hover > a.anchor, h4 > a.anchor:hover, h5:hover > a.anchor, h5 > a.anchor:hover, h6:hover > a.anchor, h6 > a.anchor:hover { visibility: visible; }
#content h1 > a.link, h2 > a.link, h3 > a.link, #toctitle > a.link, .sidebarblock > .content > .title > a.link, h4 > a.link, h5 > a.link, h6 > a.link { color: #333333; text-decoration: none; }
#content h1 > a.link:hover, h2 > a.link:hover, h3 > a.link:hover, #toctitle > a.link:hover, .sidebarblock > .content > .title > a.link:hover, h4 > a.link:hover, h5 > a.link:hover, h6 > a.link:hover { color: #262626; }

.audioblock, .imageblock, .literalblock, .listingblock, .stemblock, .videoblock { margin-bottom: 1.25em; }

.admonitionblock td.content > .title, .audioblock > .title, .exampleblock > .title, .imageblock > .title, .listingblock > .title, .literalblock > .title, .stemblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, table.tableblock > .title, .verseblock > .title, .videoblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title { text-rendering: optimizeLegibility; text-align: left; }

table.tableblock > caption.title { white-space: nowrap; overflow: visible; max-width: 0; }

.paragraph.lead > p, #preamble > .sectionbody > .paragraph:first-of-type p { color: #333333; }

table.tableblock #preamble > .sectionbody > .paragraph:first-of-type p { font-size: inherit; }

.admonitionblock > table { border-collapse: separate; border: 0; background: none; width: 100%; }
.admonitionblock > table td.icon { text-align: center; width: 80px; }
.admonitionblock > table td.icon img { max-width: none; }
.admonitionblock > table td.icon .title { font-weight: bold; font-family: helvetica, arial, freesans, clean, sans-serif; text-transform: uppercase; }
.admonitionblock > table td.content { padding-left: 1.125em; padding-right: 1.25em; border-left: 1px solid #dddddd; color: #666666; }
.admonitionblock > table td.content > :last-child > :last-child { margin-bottom: 0; }

.exampleblock > .content { border-style: solid; border-width: 1px; border-color: #e6e6e6; margin-bottom: 1.25em; padding: 1.25em; background: white; -webkit-border-radius: 3px; border-radius: 3px; }
.exampleblock > .content > :first-child { margin-top: 0; }
.exampleblock > .content > :last-child { margin-bottom: 0; }

.sidebarblock { border-style: solid; border-width: 1px; border-color: #dedede; margin-bottom: 1.25em; padding: 1.25em; background: #f7f7f7; -webkit-border-radius: 3px; border-radius: 3px; }
.sidebarblock > :first-child { margin-top: 0; }
.sidebarblock > :last-child { margin-bottom: 0; }
.sidebarblock > .content > .title { color: #777777; margin-top: 0; border-width: 0 0 1px 0; border-style: solid; border-color: #cacaca; }

.exampleblock > .content > :last-child > :last-child, .exampleblock > .content .olist > ol > li:last-child > :last-child, .exampleblock > .content .ulist > ul > li:last-child > :last-child, .exampleblock > .content .qlist > ol > li:last-child > :last-child, .sidebarblock > .content > :last-child > :last-child, .sidebarblock > .content .olist > ol > li:last-child > :last-child, .sidebarblock > .content .ulist > ul > li:last-child > :last-child, .sidebarblock > .content .qlist > ol > li:last-child > :last-child { margin-bottom: 0; }

.literalblock pre, .listingblock pre:not(.highlight), .listingblock pre[class="highlight"], .listingblock pre[class^="highlight "], .listingblock pre.CodeRay, .listingblock pre.prettyprint { background: #f9f9f9; }
.sidebarblock .literalblock pre, .sidebarblock .listingblock pre:not(.highlight), .sidebarblock .listingblock pre[class="highlight"], .sidebarblock .listingblock pre[class^="highlight "], .sidebarblock .listingblock pre.CodeRay, .sidebarblock .listingblock pre.prettyprint { background: #f2f1f1; }

.literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { border: 2px solid #d4d4d4; -webkit-border-radius: 3px; border-radius: 3px; word-wrap: break-word; padding: 0.75em; font-size: 0.8125em; }
.literalblock pre.nowrap, .literalblock pre[class].nowrap, .listingblock pre.nowrap, .listingblock pre[class].nowrap { overflow-x: auto; white-space: pre; word-wrap: normal; }
@media only screen and (min-width: 768px) { .literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { font-size: 0.90625em; } }
@media only screen and (min-width: 1280px) { .literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { font-size: 1em; } }

.literalblock.output pre { color: #f9f9f9; background-color: #333333; }

.listingblock pre.highlightjs { padding: 0; }
.listingblock pre.highlightjs > code { padding: 0.75em; -webkit-border-radius: 3px; border-radius: 3px; }

.listingblock > .content { position: relative; }

.listingblock code[data-lang]:before { display: none; content: attr(data-lang); position: absolute; font-size: 0.75em; top: 0.425rem; right: 0.5rem; line-height: 1; text-transform: uppercase; color: #999; }

.listingblock:hover code[data-lang]:before { display: block; }

.listingblock.terminal pre .command:before { content: attr(data-prompt); padding-right: 0.5em; color: #999; }

.listingblock.terminal pre .command:not([data-prompt]):before { content: "$"; }

table.pyhltable { border-collapse: separate; border: 0; margin-bottom: 0; background: none; }

table.pyhltable td { vertical-align: top; padding-top: 0; padding-bottom: 0; line-height: 1.45; }

table.pyhltable td.code { padding-left: .75em; padding-right: 0; }

pre.pygments .lineno, table.pyhltable td:not(.code) { color: #999; padding-left: 0; padding-right: .5em; border-right: 1px solid #dddddd; }

pre.pygments .lineno { display: inline-block; margin-right: .25em; }

table.pyhltable .linenodiv { background: none !important; padding-right: 0 !important; }

.quoteblock { margin: 0 1em 0.9375em 1.5em; display: table; }
.quoteblock > .title { margin-left: -1.5em; margin-bottom: 0.75em; }
.quoteblock blockquote, .quoteblock blockquote p { color: #666666; font-size: 1.15rem; line-height: 1.75; word-spacing: 0.1em; letter-spacing: 0; font-style: italic; text-align: justify; }
.quoteblock blockquote { margin: 0; padding: 0; border: 0; }
.quoteblock blockquote:before { content: "\201c"; float: left; font-size: 2.75em; font-weight: bold; line-height: 0.6em; margin-left: -0.6em; color: #777777; text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1); }
.quoteblock blockquote > .paragraph:last-child p { margin-bottom: 0; }
.quoteblock .attribution { margin-top: 0.5em; margin-right: 0.5ex; text-align: right; }
.quoteblock .quoteblock { margin-left: 0; margin-right: 0; padding: 0.5em 0; border-left: 3px solid #666666; }
.quoteblock .quoteblock blockquote { padding: 0 0 0 0.75em; }
.quoteblock .quoteblock blockquote:before { display: none; }

.verseblock { margin: 0 1em 0.9375em 1em; }
.verseblock pre { font-family: "Open Sans", "DejaVu Sans", sans; font-size: 1.15rem; color: #666666; font-weight: 300; text-rendering: optimizeLegibility; }
.verseblock pre strong { font-weight: 400; }
.verseblock .attribution { margin-top: 1.25rem; margin-left: 0.5ex; }

.quoteblock .attribution, .verseblock .attribution { font-size: 0.8125em; line-height: 1.45; font-style: italic; }
.quoteblock .attribution br, .verseblock .attribution br { display: none; }
.quoteblock .attribution cite, .verseblock .attribution cite { display: block; letter-spacing: -0.025em; color: #666666; }

.quoteblock.abstract { margin: 0 0 0.9375em 0; display: block; }
.quoteblock.abstract blockquote, .quoteblock.abstract blockquote p { text-align: left; word-spacing: 0; }
.quoteblock.abstract blockquote:before, .quoteblock.abstract blockquote p:first-of-type:before { display: none; }

table.tableblock { max-width: 100%; border-collapse: separate; }
table.tableblock td > .paragraph:last-child p > p:last-child, table.tableblock th > p:last-child, table.tableblock td > p:last-child { margin-bottom: 0; }

table.tableblock, th.tableblock, td.tableblock { border: 0 solid #dddddd; }

table.grid-all > thead > tr > .tableblock, table.grid-all > tbody > tr > .tableblock { border-width: 0 1px 1px 0; }

table.grid-all > tfoot > tr > .tableblock { border-width: 1px 1px 0 0; }

table.grid-cols > * > tr > .tableblock { border-width: 0 1px 0 0; }

table.grid-rows > thead > tr > .tableblock, table.grid-rows > tbody > tr > .tableblock { border-width: 0 0 1px 0; }

table.grid-rows > tfoot > tr > .tableblock { border-width: 1px 0 0 0; }

table.grid-all > * > tr > .tableblock:last-child, table.grid-cols > * > tr > .tableblock:last-child { border-right-width: 0; }

table.grid-all > tbody > tr:last-child > .tableblock, table.grid-all > thead:last-child > tr > .tableblock, table.grid-rows > tbody > tr:last-child > .tableblock, table.grid-rows > thead:last-child > tr > .tableblock { border-bottom-width: 0; }

table.frame-all { border-width: 1px; }

table.frame-sides { border-width: 0 1px; }

table.frame-topbot { border-width: 1px 0; }

th.halign-left, td.halign-left { text-align: left; }

th.halign-right, td.halign-right { text-align: right; }

th.halign-center, td.halign-center { text-align: center; }

th.valign-top, td.valign-top { vertical-align: top; }

th.valign-bottom, td.valign-bottom { vertical-align: bottom; }

th.valign-middle, td.valign-middle { vertical-align: middle; }

table thead th, table tfoot th { font-weight: bold; }

tbody tr th { display: table-cell; line-height: 1.5; background: whitesmoke; }

tbody tr th, tbody tr th p, tfoot tr th, tfoot tr th p { color: #222222; font-weight: bold; }

p.tableblock > code:only-child { background: none; padding: 0; }

p.tableblock { font-size: 1em; }

td > div.verse { white-space: pre; }

ol { margin-left: 0.90625em; }

ul li ol { margin-left: 0.65625em; }

dl dd { margin-left: 1.125em; }

dl dd:last-child, dl dd:last-child > :last-child { margin-bottom: 0; }

ol > li p, ul > li p, ul dd, ol dd, .olist .olist, .ulist .ulist, .ulist .olist, .olist .ulist { margin-bottom: 0.46875em; }

ul.checklist, ul.none, ol.none, ul.no-bullet, ol.no-bullet, ol.unnumbered, ul.unstyled, ol.unstyled { list-style-type: none; }

ul.no-bullet, ol.no-bullet, ol.unnumbered { margin-left: 0.625em; }

ul.unstyled, ol.unstyled { margin-left: 0; }

ul.checklist { margin-left: 0.625em; }

ul.checklist li > p:first-child > .fa-square-o:first-child, ul.checklist li > p:first-child > .fa-check-square-o:first-child { width: 1.25em; font-size: 0.8em; position: relative; bottom: 0.125em; }

ul.checklist li > p:first-child > input[type="checkbox"]:first-child { margin-right: 0.25em; }

ul.inline { display: -ms-flexbox; display: -webkit-box; display: flex; -ms-flex-flow: row wrap; -webkit-flex-flow: row wrap; flex-flow: row wrap; list-style: none; margin: 0 0 0.46875em -0.9375em; }

ul.inline > li { margin-left: 0.9375em; }

.unstyled dl dt { font-weight: normal; font-style: normal; }

ol.arabic { list-style-type: decimal; }

ol.decimal { list-style-type: decimal-leading-zero; }

ol.loweralpha { list-style-type: lower-alpha; }

ol.upperalpha { list-style-type: upper-alpha; }

ol.lowerroman { list-style-type: lower-roman; }

ol.upperroman { list-style-type: upper-roman; }

ol.lowergreek { list-style-type: lower-greek; }

.hdlist > table, .colist > table { border: 0; background: none; }
.hdlist > table > tbody > tr, .colist > table > tbody > tr { background: none; }

td.hdlist1, td.hdlist2 { vertical-align: top; padding: 0 0.625em; }

td.hdlist1 { font-weight: bold; padding-bottom: 0.9375em; }

.literalblock + .colist, .listingblock + .colist { margin-top: -0.5em; }

.colist td:not([class]):first-child { padding: 0.4em 0.75em 0 0.75em; line-height: 1; vertical-align: top; }
.colist td:not([class]):first-child img { max-width: none; }
.colist td:not([class]):last-child { padding: 0.25em 0; }

.thumb, .th { line-height: 0; display: inline-block; border: solid 4px white; -webkit-box-shadow: 0 0 0 1px #dddddd; box-shadow: 0 0 0 1px #dddddd; }

.imageblock.left, .imageblock[style*="float: left"] { margin: 0.25em 0.625em 1.25em 0; }
.imageblock.right, .imageblock[style*="float: right"] { margin: 0.25em 0 1.25em 0.625em; }
.imageblock > .title { margin-bottom: 0; }
.imageblock.thumb, .imageblock.th { border-width: 6px; }
.imageblock.thumb > .title, .imageblock.th > .title { padding: 0 0.125em; }

.image.left, .image.right { margin-top: 0.25em; margin-bottom: 0.25em; display: inline-block; line-height: 0; }
.image.left { margin-right: 0.625em; }
.image.right { margin-left: 0.625em; }

a.image { text-decoration: none; display: inline-block; }
a.image object { pointer-events: none; }

sup.footnote, sup.footnoteref { font-size: 0.875em; position: static; vertical-align: super; }
sup.footnote a, sup.footnoteref a { text-decoration: none; }
sup.footnote a:active, sup.footnoteref a:active { text-decoration: underline; }

#footnotes { padding-top: 0.75em; padding-bottom: 0.75em; margin-bottom: 0.625em; }
#footnotes hr { width: 20%; min-width: 6.25em; margin: -0.25em 0 0.75em 0; border-width: 1px 0 0 0; }
#footnotes .footnote { padding: 0 0.375em 0 0.225em; line-height: 1.3334; font-size: 0.875em; margin-left: 1.2em; margin-bottom: 0.2em; }
#footnotes .footnote a:first-of-type { font-weight: bold; text-decoration: none; margin-left: -1.05em; }
#footnotes .footnote:last-of-type { margin-bottom: 0; }
#content #footnotes { margin-top: -0.625em; margin-bottom: 0; padding: 0.75em 0; }

.gist .file-data > table { border: 0; background: #fff; width: 100%; margin-bottom: 0; }
.gist .file-data > table td.line-data { width: 99%; }

div.unbreakable { page-break-inside: avoid; }

.big { font-size: larger; }

.small { font-size: smaller; }

.underline { text-decoration: underline; }

.overline { text-decoration: overline; }

.line-through { text-decoration: line-through; }

.aqua { color: #00bfbf; }

.aqua-background { background-color: #00fafa; }

.black { color: black; }

.black-background { background-color: black; }

.blue { color: #0000bf; }

.blue-background { background-color: #0000fa; }

.fuchsia { color: #bf00bf; }

.fuchsia-background { background-color: #fa00fa; }

.gray { color: #606060; }

.gray-background { background-color: #7d7d7d; }

.green { color: #006000; }

.green-background { background-color: #007d00; }

.lime { color: #00bf00; }

.lime-background { background-color: #00fa00; }

.maroon { color: #600000; }

.maroon-background { background-color: #7d0000; }

.navy { color: #000060; }

.navy-background { background-color: #00007d; }

.olive { color: #606000; }

.olive-background { background-color: #7d7d00; }

.purple { color: #600060; }

.purple-background { background-color: #7d007d; }

.red { color: #bf0000; }

.red-background { background-color: #fa0000; }

.silver { color: #909090; }

.silver-background { background-color: #bcbcbc; }

.teal { color: #006060; }

.teal-background { background-color: #007d7d; }

.white { color: #bfbfbf; }

.white-background { background-color: #fafafa; }

.yellow { color: #bfbf00; }

.yellow-background { background-color: #fafa00; }

span.icon > .fa { cursor: default; }
a span.icon > .fa { cursor: inherit; }

.admonitionblock td.icon [class^="fa icon-"] { font-size: 2.5em; text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5); cursor: default; }
.admonitionblock td.icon .icon-note:before { content: "\f05a"; color: #2e6295; }
.admonitionblock td.icon .icon-tip:before { content: "\f0eb"; text-shadow: 1px 1px 2px rgba(155, 155, 0, 0.8); color: #111; }
.admonitionblock td.icon .icon-warning:before { content: "\f071"; color: #bf6900; }
.admonitionblock td.icon .icon-caution:before { content: "\f06d"; color: #bf3400; }
.admonitionblock td.icon .icon-important:before { content: "\f06a"; color: #bf0000; }

.conum[data-value] { display: inline-block; color: #fff !important; background-color: #333333; -webkit-border-radius: 100px; border-radius: 100px; text-align: center; font-size: 0.75em; width: 1.67em; height: 1.67em; line-height: 1.67em; font-family: "Open Sans", "DejaVu Sans", sans-serif; font-style: normal; font-weight: bold; }
.conum[data-value] * { color: #fff !important; }
.conum[data-value] + b { display: none; }
.conum[data-value]:after { content: attr(data-value); }
pre .conum[data-value] { position: relative; top: -0.125em; }

b.conum * { color: inherit !important; }

.conum:not([data-value]):empty { display: none; }

p.lead, .paragraph.lead > p, #preamble > .sectionbody > .paragraph:first-of-type p { font-size: 1em; color: #666666; }

h2 { color: #325D72; border-bottom: 1px solid #dddddd; }

#content h1 > a.anchor, h2 > a.anchor, h3 > a.anchor, #toctitle > a.anchor, .sidebarblock > .content > .title > a.anchor, h4 > a.anchor, h5 > a.anchor, h6 > a.anchor { color: #333333; }

#header, #content, #footnotes { max-width: 700px; padding-left: 0; padding-right: 0; }

body.toc2.toc-left #toc.toc2 #toctitle { font-size: 0.9375em; }

.olist.procedure > ol { counter-reset: li; list-style: none; position: relative; }
.olist.procedure > ol > li { position: relative; padding: 5px 0 5px 55px; margin-bottom: 5px; }
.olist.procedure > ol > li:before { content: counter(li); counter-increment: li; position: absolute; top: 0; left: 0; height: 100%; width: 30px; padding: 0 10px 0 0; color: #999; font-size: 1.375em; font-weight: bold; line-height: 1.6; text-align: right; border-right: 1px solid #ddd; }

.quoteblock blockquote { padding-left: 1em; }

.sidebarblock > .content > .title { margin-top: -20px; margin-right: -20px; margin-left: -20px; margin-bottom: 20px; padding: 1em; font-size: 0.75em; background: #eaeaea; }

.literalblock pre, .listingblock pre { background: #f9f9f9; }

</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css">
<style>
/* Stylesheet for CodeRay to match GitHub theme | MIT License | http://foundation.zurb.com */
/*pre.CodeRay {background-color:#f7f7f8;}*/
.CodeRay .line-numbers{border-right:1px solid #d8d8d8;padding:0 0.5em 0 .25em}
.CodeRay span.line-numbers{display:inline-block;margin-right:.5em;color:rgba(0,0,0,.3)}
.CodeRay .line-numbers strong{color:rgba(0,0,0,.4)}
table.CodeRay{border-collapse:separate;border-spacing:0;margin-bottom:0;border:0;background:none}
table.CodeRay td{vertical-align: top;line-height:1.45}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.line-numbers>pre{padding:0;color:rgba(0,0,0,.3)}
table.CodeRay td.code{padding:0 0 0 .5em}
table.CodeRay td.code>pre{padding:0}
.CodeRay .debug{color:#fff !important;background:#000080 !important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:#000080}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:#008080}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:#008080}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#000}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:#008080}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword {color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:#008080}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>Hazelcast IMDG Release Notes</h1>
<div id="toc" class="toc2">
<div id="toctitle">Hazelcast IMDG Release Notes</div>
<ul class="sectlevel1">
<li><a href="#3-10">3.10</a></li>
<li><a href="#3-9-3">3.9.3</a></li>
<li><a href="#3-9-2">3.9.2</a></li>
<li><a href="#3-9-1">3.9.1</a></li>
<li><a href="#3-9">3.9</a></li>
<li><a href="#3-8-9">3.8.9</a></li>
<li><a href="#3-8-8">3.8.8</a></li>
<li><a href="#3-8-7">3.8.7</a></li>
<li><a href="#3-8-6">3.8.6</a></li>
<li><a href="#3-8-5">3.8.5</a></li>
<li><a href="#3-8-4">3.8.4</a></li>
<li><a href="#3-8-3">3.8.3</a></li>
<li><a href="#3-8-2">3.8.2</a></li>
<li><a href="#3-8-1">3.8.1</a></li>
<li><a href="#3-8">3.8</a></li>
<li><a href="#3-7-8">3.7.8</a></li>
<li><a href="#3-7-7">3.7.7</a></li>
<li><a href="#3-7-6">3.7.6</a></li>
<li><a href="#3-7-5">3.7.5</a></li>
<li><a href="#3-7-4">3.7.4</a></li>
<li><a href="#3-7-3">3.7.3</a></li>
<li><a href="#3-7-2">3.7.2</a></li>
<li><a href="#3-7-1">3.7.1</a></li>
<li><a href="#3-7">3.7</a></li>
<li><a href="#3-6-8">3.6.8</a></li>
<li><a href="#3-6-7">3.6.7</a></li>
<li><a href="#3-6-6">3.6.6</a></li>
<li><a href="#3-6-5">3.6.5</a></li>
<li><a href="#3-6-4">3.6.4</a></li>
<li><a href="#3-6-3">3.6.3</a></li>
<li><a href="#3-6-2">3.6.2</a></li>
<li><a href="#3-6-1">3.6.1</a></li>
<li><a href="#3-6">3.6</a></li>
<li><a href="#3-5-5">3.5.5</a></li>
<li><a href="#3-5-4">3.5.4</a></li>
<li><a href="#3-5-3">3.5.3</a></li>
<li><a href="#3-5-2">3.5.2</a></li>
<li><a href="#3-5-1">3.5.1</a></li>
<li><a href="#3-5">3.5</a></li>
<li><a href="#3-4-8">3.4.8</a></li>
<li><a href="#3-4-7">3.4.7</a></li>
<li><a href="#3-4-6">3.4.6</a></li>
<li><a href="#3-4-5">3.4.5</a></li>
<li><a href="#3-4-4">3.4.4</a></li>
<li><a href="#3-4-3">3.4.3</a></li>
<li><a href="#3-4-2">3.4.2</a></li>
<li><a href="#3-4-1">3.4.1</a></li>
<li><a href="#3-4">3.4</a></li>
<li><a href="#3-3-5">3.3.5</a></li>
<li><a href="#3-3-4">3.3.4</a></li>
<li><a href="#3-3-3">3.3.3</a></li>
<li><a href="#3-3-2">3.3.2</a></li>
<li><a href="#3-3-1">3.3.1</a></li>
<li><a href="#3-3">3.3</a></li>
<li><a href="#3-2-7">3.2.7</a></li>
<li><a href="#3-2-6">3.2.6</a></li>
<li><a href="#3-2-5">3.2.5</a></li>
<li><a href="#3-2-4">3.2.4</a></li>
<li><a href="#3-2-3">3.2.3</a></li>
<li><a href="#3-2-2">3.2.2</a></li>
<li><a href="#3-2-1">3.2.1</a></li>
<li><a href="#3-2">3.2</a></li>
<li><a href="#3-1-9">3.1.9</a></li>
<li><a href="#3-1-8">3.1.8</a></li>
<li><a href="#3-0-3">3.0.3</a></li>
<li><a href="#2-6-9">2.6.9</a></li>
<li><a href="#2-6-8">2.6.8</a></li>
<li><a href="#2-6-6">2.6.6</a></li>
<li><a href="#2-6-3">2.6.3</a></li>
<li><a href="#2-6-2">2.6.2</a></li>
<li><a href="#2-6-1">2.6.1</a></li>
<li><a href="#2-6">2.6</a></li>
<li><a href="#2-5-1">2.5.1</a></li>
<li><a href="#2-5">2.5</a></li>
<li><a href="#2-4-1">2.4.1</a></li>
<li><a href="#2-4">2.4</a></li>
<li><a href="#2-3-1">2.3.1</a></li>
<li><a href="#2-3">2.3</a></li>
<li><a href="#2-2">2.2</a></li>
<li><a href="#2-1-3">2.1.3</a></li>
<li><a href="#2-1-2">2.1.2</a></li>
<li><a href="#2-1-1">2.1.1</a></li>
<li><a href="#2-1">2.1</a></li>
<li><a href="#2-0-4">2.0.4</a></li>
<li><a href="#2-0-3">2.0.3</a></li>
<li><a href="#2-0">2.0</a></li>
<li><a href="#1-9-4-9">1.9.4.9</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Welcome to the Hazelcast IMDG Release Notes. This document includes the new features, enhancements and fixed issues for
Hazelcast IMDG, Open Source edition releases.</p>
</div>
<div class="paragraph">
<p>Please select a release from the Table of Contents on the left panel to see its release notes.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The linked numbers in the square brackets refer to the issue number in Hazelcast IMDG GitHub repository.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-10"><a class="anchor" href="#3-10"></a><a class="link" href="#3-10">3.10</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="enhancements"><a class="anchor" href="#enhancements"></a><a class="link" href="#enhancements">Enhancements</a></h3>
<div class="paragraph">
<p><strong><em>Hazelcast IMDG Enterprise Enhancements:</em></strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Split-Brain Healing for Hazelcast Data Structures with High-Density (HD) Memory Store</strong>: Added implementations to allow the merging of HD Memory Store backed data structures.</p>
</li>
<li>
<p><strong>Multiple Users/Roles in a Single Security Mapping</strong>: Added support for allowing multiple principals, i.e., users or roles/groups, to be attributed to a security realm. Please see the <a href="http://docs.hazelcast.org/docs/3.10/manual/html-single/index.html#authorization">Authorization section</a> for more information.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong><em>Hazelcast IMDG Open Source Enhancements:</em></strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Extended Split-Brain Protection</strong>: Split-Brain protection has been implemented for all the Hazelcast data structures (it was only for IMap, ICache, IQueue and ILock before 3.10). Please see the <a href="http://docs.hazelcast.org/docs/3.10/manual/html-single/index.html#distributed-data-structures">Distributed Data Structures chapter</a>.</p>
</li>
<li>
<p><strong>Shorter Split-Brain Detection Window</strong>: In addition to the current quorum function, which uses the list of members to determine whether a minimum number of members is available in the cluster, a new quorum implementation has been introduced to shorten the time between the occurrence of a network partitioning and its detection: it takes advantage of information about the cluster health (heartbeats and ICMP pings).</p>
</li>
<li>
<p><strong>Extended Merge Policies</strong>: Merge policies applied after a Split-Brain syndrome has been implemented for more Hazelcast data structures (it was for IMap, ICache and Replicated Map before 3.10).</p>
</li>
<li>
<p><strong>Flake ID Generator</strong>: Introduced to overcome the duplicate ID generation in case of a network split, by the deprecated <code>IdGenerator</code> data structure. Please see the <a href="http://docs.hazelcast.org/docs/3.10/manual/html-single/index.html#flakeidgenerator">FlakeIdGenerator section</a>.</p>
</li>
<li>
<p><strong>PN Counter</strong>: Introduced CRDT PN Counter (Positive-Negative Counter), which allows incrementing and decrementing a counter value and propagating the results to all cluster members. Please see the <a href="http://docs.hazelcast.org/docs/3.10/manual/html-single/index.html#pn-counter">PN Counter section</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following are the other improvements performed to solve the enhancement issues opened by the Hazelcast customers/team.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Split-brain merge policy design issues: the SPI design requires downcasting in the merge policy classes. It is also unclear which merge policy is compatible with which data structure. <a href="https://github.com/hazelcast/hazelcast/issues/12721">[#12721</a>]</p>
</li>
<li>
<p><code>MemberMap.SINGLETON_MEMBER_LIST_VERSION</code> value should be configurable. <a href="https://github.com/hazelcast/hazelcast/issues/12528">[#12528</a>]</p>
</li>
<li>
<p>Group passwords should not be serialized in <code>ConfigCheck</code>. <a href="https://github.com/hazelcast/hazelcast/issues/12303">[#12303</a>]</p>
</li>
<li>
<p>When custom merge policy is not appropriate, there should be a fail-fast. <a href="https://github.com/hazelcast/hazelcast/issues/12284">[#12284</a>]</p>
</li>
<li>
<p>Code comments for <code>Hazelcast.shutdownAll()</code> should be improved: it talks about shutting down all running Hazelcast instances in the JVM. However, native clients, which are also Hazelcast instances, are not shut down when this method is called. <a href="https://github.com/hazelcast/hazelcast/issues/12217">[#12217</a>]</p>
</li>
<li>
<p>An initialization exception should be thrown when Symmetric Encryption is configured on Hazelcast Open Source edition. <a href="https://github.com/hazelcast/hazelcast/issues/12203">[#12203</a>]</p>
</li>
<li>
<p><code>IAtomicLong</code> and <code>IAtomicReference</code> miss <code>MergePolicyConfig</code> support in <code>ClientDynamicClusterConfig</code>. <a href="https://github.com/hazelcast/hazelcast/issues/12126">[#12126</a>]</p>
</li>
<li>
<p><code>ConfigXmlGenerator</code> masking should be optional: it masks certain fields like passwords. This is unnecessary since the user creating the <code>hazelcast.xml</code> should already know the values or they should be input by the user installing the application. By masking the fields automatically, the user is forced to manually edit the <code>hazelcast.xml</code> creating a manual step. <a href="https://github.com/hazelcast/hazelcast/issues/12012">[#12012</a>]</p>
</li>
<li>
<p>The <code>CharConverter</code> conversion behavior should be improved: When given an empty string, <code>IllegalArgumentException</code> should be thrown instead of the obscure <code>StringIndexOutOfBoundsException</code>. Also, when given a <code>Number</code>, a <code>Character</code> should be returned instead of an <code>Integer</code>. <a href="https://github.com/hazelcast/hazelcast/issues/11981">[#11981</a>]</p>
</li>
<li>
<p>Currently when reading from event journal, the reader throws <code>StaleSequenceException</code> when the consumer is behind the current head of the journal. The exception contains the new head of the journal, however by the time the client gets to read again this new head can be stale again. It can mean that the reader is never able to catch up once it falls behind. <a href="https://github.com/hazelcast/hazelcast/issues/11895">[#11895</a>]</p>
</li>
<li>
<p>The Javadoc for IMap must be enhanced to clarify the value vs. reference semantics. <a href="https://github.com/hazelcast/hazelcast/issues/11816">[#11816</a>]</p>
</li>
<li>
<p>The class <code>com.hazelcast.query.Predicates</code> contains public factory methods for query predicates. Most of the methods are missing Javadoc. <a href="https://github.com/hazelcast/hazelcast/issues/11734">[#11734</a>]</p>
</li>
<li>
<p>The value of Main-Class in <code>hazelcast-all.jar</code> should be fixed. The class <code>StartServer</code> should be used instead of <code>ConsoleApp</code>. Currently, when the JAR is executed, the ConsoleApp demo application is started. <a href="https://github.com/hazelcast/hazelcast/issues/11655">[#11655</a>]</p>
</li>
<li>
<p>The error message for failed client connections should not talk about "address in the config" as multicast discovery may have been used. <a href="https://github.com/hazelcast/hazelcast/issues/11652">[#11652</a>]</p>
</li>
<li>
<p>Doing a rolling upgrade without a Hazelcast Enterprise key should produce a better error message. <a href="https://github.com/hazelcast/hazelcast/issues/11602">[#11602</a>]</p>
</li>
<li>
<p>IMap contract should describe how it interacts with Map{Loader/Store}. <a href="https://github.com/hazelcast/hazelcast/issues/10969">[#10969</a>]</p>
</li>
<li>
<p>New HTTP connections should be logged with DEBUG or a lower level. <a href="https://github.com/hazelcast/hazelcast/issues/10924">[#10924</a>]</p>
</li>
<li>
<p>Out-of-the-box Hazelcast on Docker experience should be improved due to the "This node is not requested endpoint" errors. <a href="https://github.com/hazelcast/hazelcast/issues/9219">[#9219</a>]</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="fixes"><a class="anchor" href="#fixes"></a><a class="link" href="#fixes">Fixes</a></h3>
<div class="ulist">
<ul>
<li>
<p>Split-brain merge policy configuration validation is not properly working: The merge policy checks in <code>ConfigValidator</code> are based on false assumptions regarding <code>SomeConfig.isStatisticsEnabled()</code> and valid split-brain merge types. <a href="https://github.com/hazelcast/hazelcast/issues/12722">[#12722</a>]</p>
</li>
<li>
<p><code>XmlConfigBuilder</code> wrongly uses Locale dependent number format for <code>nativeMemory.metadataSpacePercentage</code>. <a href="https://github.com/hazelcast/hazelcast/issues/12656">[#12656</a>]</p>
</li>
<li>
<p><code>NullPointerException</code> is thrown when the method <code>QueryCache#getAll</code> is called. <a href="https://github.com/hazelcast/hazelcast/issues/12656">[#12656</a>]</p>
</li>
<li>
<p>Query cache is not consistent with its IMap: After the construction of a continuous query cache, all changes on the underlying IMap are immediately reflected to this cache as a stream of events. Therefore, this cache will be an always up-to-date view of the IMap. This is not always true. <a href="https://github.com/hazelcast/hazelcast/issues/12599">[#12599</a>]</p>
</li>
<li>
<p>When minority of members have network delays, there occurs transactional exceptions on the client. <a href="https://github.com/hazelcast/hazelcast/issues/12252">[#12252</a>]</p>
</li>
<li>
<p>Delayed resolutions for other types in <code>CacheConfig</code> should be implemented: In addition to key and value types, the following need to be deferred:
<code>cacheLoaderFactory</code>, <code>cacheWriterFactory</code>, <code>expiryPolicyFactory</code> and `listenerConfiguration`s. <a href="https://github.com/hazelcast/hazelcast/issues/11905">[#11905</a>]</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="3-10-beta-2"><a class="anchor" href="#3-10-beta-2"></a><a class="link" href="#3-10-beta-2">3.10-BETA-2</a></h4>
<div class="ulist">
<ul>
<li>
<p><code>ReplicatedMapConfig</code> must not be mutated while constructing read-only variant. <a href="https://github.com/hazelcast/hazelcast/pull/12620">[#12620</a>]</p>
</li>
<li>
<p>Added ID count to flake ID generators statistics. <a href="https://github.com/hazelcast/hazelcast/pull/12612">[#12612</a>]</p>
</li>
<li>
<p>Exception in Node constructor doesn&#8217;t shutdown services properly. <a href="https://github.com/hazelcast/hazelcast/issues/12587">[#12587</a>]</p>
</li>
<li>
<p><code>CacheNotExistsException</code> must be thrown when cache configuration does not exist. <a href="https://github.com/hazelcast/hazelcast/pull/12593">[#12593</a>]</p>
</li>
<li>
<p>Index configurations must be respected in query caches. <a href="https://github.com/hazelcast/hazelcast/pull/12577">[#12577</a>]</p>
</li>
<li>
<p>Issues with replicated map and lite members: (i) replicated map cannot be used after lite member promotion, (ii) replicated map runs into <code>NPE</code> after a split-brain healing. <a href="https://github.com/hazelcast/hazelcast/issues/12537">[#12537</a>]</p>
</li>
<li>
<p>It is still required to provide a group and password while configuring with Spring: the attribute <code>required</code> should be removed from the tag <code>group</code> both for name and password elements. <a href="https://github.com/hazelcast/hazelcast/issues/12462">[#12462</a>]</p>
</li>
<li>
<p>Eviction causes absence of an entry in IMap and MapStore at the same time: just after the method <code>evictAll</code> is invoked, the map is cleared and the eviction is done in a different thread. This causes the objects not being available both IMap and MapStore. <a href="https://github.com/hazelcast/hazelcast/issues/12455">[#12455</a>]</p>
</li>
<li>
<p>JCache 1.1 TCK: the test <code>org.jsr107.tck.event.CacheListenerTest</code> passes, but there are assertion errors in the log. <a href="https://github.com/hazelcast/hazelcast/issues/12390">[#12390</a>]</p>
</li>
<li>
<p>An index aware predicate does not invoke its <code>apply</code> method:  only the index operation is performed and the apply filter is silently ignored. <a href="https://github.com/hazelcast/hazelcast/issues/12352">[#12352</a>]</p>
</li>
<li>
<p>Query with predicates on IMap does not use index when running locally. <a href="https://github.com/hazelcast/hazelcast/issues/12351">[#12351</a>]</p>
</li>
<li>
<p><code>EventJournal</code> loses data if two members terminate: Scenario is starting a cluster with four members and a client, producing data for the event journal, terminating one member and terminating another member after some time. When checking the total count of events, it is seen that some data is lost. <a href="https://github.com/hazelcast/hazelcast/issues/12300">[#12300</a>]</p>
</li>
<li>
<p>When minority of members are removed from the network, read/write failures occur on the cluster. <a href="https://github.com/hazelcast/hazelcast/issues/12240">[#12240</a>]</p>
</li>
<li>
<p>A merge policy cannot be defined for replicated maps using declarative configuration (XML). <a href="https://github.com/hazelcast/hazelcast/issues/12223">[#12223</a>]</p>
</li>
<li>
<p>All dynamic configurations are sent out in a prejoin operation regardless of the cluster version. <a href="https://github.com/hazelcast/hazelcast/issues/12151">[#12151</a>]</p>
</li>
<li>
<p>When using <code>PagingPredicate</code>, setting a too big page ends up with <code>IllegalArgumentException</code>. <a href="https://github.com/hazelcast/hazelcast/issues/12079">[#12079</a>]</p>
</li>
<li>
<p>There is a performance regression on predicate queries for 3.9.1 and 3.8.7 versions. <a href="https://github.com/hazelcast/hazelcast/issues/12018">[#12018</a>]</p>
</li>
<li>
<p>Each new configuration method introduced in 3.10 must be overridden in the client-side dynamic configuration support class. <a href="https://github.com/hazelcast/hazelcast/issues/12010">[#12010</a>]</p>
</li>
<li>
<p>For some of the scheduled jobs, the method <code>getLastRunDuration()</code> returns negative values for quick executions. <a href="https://github.com/hazelcast/hazelcast/issues/11929">[#11929</a>]</p>
</li>
<li>
<p>Exception in <code>ResponseThreadRunnable</code> causes the REST API to fail: When there is an exception while processing a single command, the entire thread is killed. It causes an unrecoverable condition when the system does not process any incoming REST commands, and hence the memory leak (incoming commands are accumulated in blockingQueue). <a href="https://github.com/hazelcast/hazelcast/issues/11722">[#11722</a>]</p>
</li>
<li>
<p>Accessing a query cache with a reasonable amount of data can result in an <code>NPE</code>. <a href="https://github.com/hazelcast/hazelcast/issues/11675">[#11675</a>]</p>
</li>
<li>
<p><code>IMap.add</code> and <code>IMap.remove</code>: EntryListener randomly hangs. <a href="https://github.com/hazelcast/hazelcast/issues/11470">[#11470</a>]</p>
</li>
<li>
<p>Members not rejoining cluster after an elongated network disconnectivity: Assuming that, initially there is a cluster of 8 members and when the connectivity for a member is broken it gets eliminated from the cluster. The original cluster contains now 7 members and this is working as expected. However, when the connectivity is restored, the disconnected member is not able to join the original cluster and remains isolated. <a href="https://github.com/hazelcast/hazelcast/issues/11267">[#11267</a>]</p>
</li>
<li>
<p>There is a minor decrease in the performance of indexed searches for 3.7.6 and higher versions. <a href="https://github.com/hazelcast/hazelcast/issues/11231">[#11231</a>]</p>
</li>
<li>
<p>The code comments for time-to-live expiration is not clear. <a href="https://github.com/hazelcast/hazelcast/issues/11787">[#11787</a>]</p>
</li>
<li>
<p>When setting the same key value twice, <code>NPE</code> is thrown on the member. <a href="https://github.com/hazelcast/hazelcast/issues/10556">[#10556</a>]</p>
</li>
<li>
<p>JCache fails to initialize when the type of a key or value is not available on a remote member. <a href="https://github.com/hazelcast/hazelcast/issues/8972">[#8972</a>]</p>
</li>
<li>
<p>In Hazelcast 3.7, <code>PollOperation</code> invocation is failing to complete due to <code>operation-heartbeat-timeout</code>. <a href="https://github.com/hazelcast/hazelcast/issues/8831">[#8831</a>]</p>
</li>
<li>
<p>Custom <code>LoggerFactory</code> is instantiating two times. <a href="https://github.com/hazelcast/hazelcast/issues/5641">[#5641</a>]</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="3-10-beta-1"><a class="anchor" href="#3-10-beta-1"></a><a class="link" href="#3-10-beta-1">3.10-BETA-1</a></h4>
<div class="ulist">
<ul>
<li>
<p>Health Monitor reports load statistics incorrectly. <a href="https://github.com/hazelcast/hazelcast/issues/12190">[#12190</a>]</p>
</li>
<li>
<p>Time-to-live for IMap is not working as documented: outdated warnings should be removed from the code comments. <a href="https://github.com/hazelcast/hazelcast/issues/12144">[#12144</a>]</p>
</li>
<li>
<p>There are multiple top-level types missing in <code>HazelcastNamespaceHandler</code>, for example <code>serializer</code>. <a href="https://github.com/hazelcast/hazelcast/issues/12121">[#12121</a>]</p>
</li>
<li>
<p>The full stack trace of <code>QuorumException</code> should be logged into the log file instead of the console. <a href="https://github.com/hazelcast/hazelcast/issues/12188">[#12188</a>]</p>
</li>
<li>
<p><code>ConfigXmlGeneratorTest</code>: There are missing tests for many attributes of multiple data structures. <a href="https://github.com/hazelcast/hazelcast/issues/12119">[#12119</a>]</p>
</li>
<li>
<p>Beta annotation from DurableExecutor classes should be removed. <a href="https://github.com/hazelcast/hazelcast/issues/12083">[#12083</a>]</p>
</li>
<li>
<p>Hazelcast should not allow to add dynamic configurations for concurrent data structures during rolling upgrades: new configurations have been introduced for <code>IAtomicLong</code> and <code>IAtomicReference</code> for the split-brain healing. There may come more for the split-brain protection; these should not be added dynamically when the cluster is on version 3.9, since old members will fail to process them. <a href="https://github.com/hazelcast/hazelcast/issues/12000">[#12000</a>]</p>
</li>
<li>
<p>Using <code>MemberAddressProvider</code> with custom discovery strategy SPI does not seem to work. <a href="https://github.com/hazelcast/hazelcast/issues/11997">[#11997</a>]</p>
</li>
<li>
<p>Hit count gets incremented by two (instead of one) when entry is updated using <code>EntryProcessor</code>. <a href="https://github.com/hazelcast/hazelcast/issues/11993">[#11993</a>]</p>
</li>
<li>
<p>The objects <code>BufferObjectDataInput</code> and <code>BufferObjectDataOutput</code> are pooled. While being used for serialization, their version may be set, however when cleared (so they can be returned to the pool), their version is not reset to <code>UNKNOWN</code>. <a href="https://github.com/hazelcast/hazelcast/issues/11900">[#11900</a>]</p>
</li>
<li>
<p>The default network interface selection chooses a wrong interface in some cases. <a href="https://github.com/hazelcast/hazelcast/issues/11795">[#11795</a>]</p>
</li>
<li>
<p>The memory limit setting for a queue store is ignored and the entries are getting inserted into both the store and the queue, even If the limit is reached. <a href="https://github.com/hazelcast/hazelcast/issues/11682">[#11682</a>]</p>
</li>
<li>
<p>When trying to integrate Spring and Hazelcast with MapStore implementation, the JdbcTemplate cannot be autowired in the MapStore class. <a href="https://github.com/hazelcast/hazelcast/issues/11656">[#11656</a>]</p>
</li>
<li>
<p>PER_NODE capacity calculation algorithm is not precise. <a href="https://github.com/hazelcast/hazelcast/issues/11646">[#11646</a>]</p>
</li>
<li>
<p>Currently ILock operations are not logged at any level. It would be very helpful diagnostic log output can be enabled, with the log lines containing the name of the ILock, the operation (create, lock, unlock, destroy) and the usual timestamp, and thread ID information. <a href="https://github.com/hazelcast/hazelcast/issues/11622">[#11622</a>]</p>
</li>
<li>
<p>The <code>Echo</code> task used to execute the operations demo in <code>ConsoleApp</code> fails to deserialize because of missing no-arg constructor. <a href="https://github.com/hazelcast/hazelcast/issues/11612">[#11612</a>]</p>
</li>
<li>
<p>Wrong Hazelcast configuration XSD schema is used when minor/major or minor has more than 1 digit (e.g., 3.1x). <a href="https://github.com/hazelcast/hazelcast/issues/11586">[#11586</a>]</p>
</li>
<li>
<p>The XSD (<code>hazelcast-spring.xsd</code>) should work independently of the <code>hazelcast-spring.jar</code>. <a href="https://github.com/hazelcast/hazelcast/issues/11577">[#11577</a>]</p>
</li>
<li>
<p>IMap with MapStore has duplicate keys. <a href="https://github.com/hazelcast/hazelcast/issues/11462">[#11462</a>]</p>
</li>
<li>
<p>Backups' view of the Ringbuffer differs from that of the primary&#8217;s in case of an exception is thrown by the store underlying the Ringbuffer. <a href="https://github.com/hazelcast/hazelcast/issues/11209">[#11209</a>]</p>
</li>
<li>
<p>It does not seem to be possible to configure a list of cipher suites nor a list of SSL/TLS protocols. Client authorization is implemented, but it has to be passed in a populated <code>Properties</code> object. <a href="https://github.com/hazelcast/hazelcast/issues/10750">[#10750</a>]</p>
</li>
<li>
<p>Transaction could not obtain a lock for the key while calling the method <code>TransactionalMap.getForUpdate()</code>. <a href="https://github.com/hazelcast/hazelcast/issues/9374">[#9374</a>]</p>
</li>
<li>
<p>JCache fails to initialize when the type of a key or value is not available on a remote member. <a href="https://github.com/hazelcast/hazelcast/issues/8972">[#8972</a>]</p>
</li>
<li>
<p>There is no way to set the HazelcastClient name and/or InstanceName programmatically. So, the method <code>HazelcastClient.getHazelcastClientByName(String name)</code> does not work. <a href="https://github.com/hazelcast/hazelcast/issues/7289">[#7289</a>]</p>
</li>
<li>
<p>IMap JMX statistics are evicted together with the map entry: When system starts and caches are populated,  and get the hits, the statistics presents the relevant values for <code>localHits</code> and <code>localGetOperationCount</code> attributes. But after 1 hour of idle and some entries are evicted, these attributes become less and less, till 0. Looks like these statistics are stored together with the entry itself and they are evicted together with the entry. <a href="https://github.com/hazelcast/hazelcast/issues/4321">[#4321</a>]</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="coverity-fixes"><a class="anchor" href="#coverity-fixes"></a><a class="link" href="#coverity-fixes">Coverity Fixes</a></h4>
<div class="ulist">
<ul>
<li>
<p>The methods <code>readObject(&#8230;&#8203;)</code> and <code>writeObject(&#8230;&#8203;)</code> should call the method from the superclass instead of handling the <code>attributeName</code> field themselves in the classes <code>LikePredicate</code> and <code>RegexPredicate</code>. <a href="https://github.com/hazelcast/hazelcast/issues/11768">[#11768</a>]</p>
</li>
<li>
<p>The field <code>retryCounter</code> is not atomically updated in the method <code>RestartingMemberIterator.retry(Set)</code>. <a href="https://github.com/hazelcast/hazelcast/issues/11750">[#11750</a>]</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="behavioral-changes"><a class="anchor" href="#behavioral-changes"></a><a class="link" href="#behavioral-changes">Behavioral Changes</a></h3>
<div class="paragraph">
<p>Up to 3.9.x, the method <code>Config.findCacheConfig</code> looks up a <code>CacheSimpleConfig</code>: if none is found, then <code>null</code> is returned. This behavior has been not like all the other <code>findXXConfig</code> methods in the following ways:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>findXXConfig</code> never returns <code>null</code>, it falls back to defaults, creates the missing data structure configuration and stores it in <code>Config</code>.</p>
</li>
<li>
<p><code>findXXConfig</code> returns a read-only copy of the actual configuration, while <code>findCacheConfig</code> returns the found configuration object itself.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>With 3.10, the method <code>Config.findCacheConfig</code> is aligned to behave like the other <code>findXXConfig</code> methods; it now returns a read-only copy and does fallback to defaults. If you who want the old behavior for this method in 3.10.x, you should use the method <code>Config.findCacheConfigOrNull</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="known-problems"><a class="anchor" href="#known-problems"></a><a class="link" href="#known-problems">Known Problems</a></h3>
<div class="ulist">
<ul>
<li>
<p>`PartitionPredicate`s only works if you upgrade all of your members to 3.9.3. It may not work</p>
</li>
<li>
<p>when running a mixed cluster having members from 3.9.0, 3.9.1, 3.9.2 and 3.9.3, and</p>
</li>
<li>
<p>when rolling up from 3.8.x to 3.9.x.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="removed-deprecated-features"><a class="anchor" href="#removed-deprecated-features"></a><a class="link" href="#removed-deprecated-features">Removed/Deprecated Features</a></h3>
<div class="ulist">
<ul>
<li>
<p>The data structure <code>IdGenerator</code> is deprecated. It could produce duplicate IDs in case of a network split, even with split-brain protection being enabled. Use <a href="http://docs.hazelcast.org/docs/3.10/manual/html-single/index.html#flakeidgenerator">Flake ID Generator</a> for an alternative implementation which does not suffer from the mentioned issue.</p>
</li>
<li>
<p>Following system properties are deprecated:</p>
</li>
<li>
<p><code>hazelcast.master.confirmation.interval.seconds</code></p>
</li>
<li>
<p><code>hazelcast.max.no.master.confirmation.seconds</code></p>
</li>
<li>
<p><code>hazelcast.mc.max.visible.instance.count</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-9-3"><a class="anchor" href="#3-9-3"></a><a class="link" href="#3-9-3">3.9.3</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="enhancements-2"><a class="anchor" href="#enhancements-2"></a><a class="link" href="#enhancements-2">Enhancements</a></h3>
<div class="ulist">
<ul>
<li>
<p><strong>Ping Failure Detector for Hazelcast Java Client:</strong> Ping Failure Detector provides a quicker and more deterministic detection of hardware and other lower level events. It has been available for Hazelcast members; now, it can also be used for Hazelcast Java clients. The related PR is <a href="https://github.com/hazelcast/hazelcast/pull/12049">[#12049</a>]. Please see the <a href="http://docs.hazelcast.org/docs/3.9.3/manual/html-single/index.html#client-ping-failure-detector">Client Ping Failure Detector section</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following are the other improvements performed to solve the enhancement issues opened by the Hazelcast customers/team.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Enhancements in the WAN Diagnostics: Introduced latency tracking for WAN endpoints and
counters for sent and received WAN events. Please note that WAN Replication is an Hazelcast IMDG Enterprise Edition feature. <a href="https://github.com/hazelcast/hazelcast/pull/12165">[#12615</a>]</p>
</li>
<li>
<p>Introduced a system property to allow overriding the configured serialization byte order for better testing. <a href="https://github.com/hazelcast/hazelcast/issues/12145">[#12145</a>]</p>
</li>
<li>
<p>Performed updates for JCache 1.1 compatibility. <a href="https://github.com/hazelcast/hazelcast/pull/12014">[#12014</a>]</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="fixes-2"><a class="anchor" href="#fixes-2"></a><a class="link" href="#fixes-2">Fixes</a></h3>
<div class="ulist">
<ul>
<li>
<p><code>CacheMergeOperation</code> does not publish WAN events. <a href="https://github.com/hazelcast/hazelcast/issues/12186">[#12186</a>]</p>
</li>
<li>
<p>Java serialization compression issue: Since GZipInputStream read more bytes than it needs, the fields coming after a compressed data is not able to be read. <a href="https://github.com/hazelcast/hazelcast/issues/12104">[#12104</a>]</p>
</li>
<li>
<p>Setting the property <code>hazelcast.mc.max.visible.instance.count</code> to <code>Integer.MAX</code> or a huge value causes OOME. <a href="https://github.com/hazelcast/hazelcast/issues/12095">[#12095</a>]</p>
</li>
<li>
<p>The Javadoc for <code>SHUFFLE_MEMBER_LIST</code> in the class <code>ClientProperty</code> is not correct. The shuffling is done when the related property (<code>hazelcast.client.shuffle.member.list</code>) is set to <code>true</code>. Also the description in the Hazelcast Reference Manual should be corrected accordingly. <a href="https://github.com/hazelcast/hazelcast/issues/12082">[#12082</a>]</p>
</li>
<li>
<p>Endianness not taken into account consistently for serializer type IDs. <a href="https://github.com/hazelcast/hazelcast/issues/12077">[#12077</a>]</p>
</li>
<li>
<p>Hazelcast client throws "AuthenticationException: Invalid credentials after owner member left". Clients should detect when a member is gone ungracefully. <a href="https://github.com/hazelcast/hazelcast/issues/12038">[#12038</a>]</p>
</li>
<li>
<p>Query results should be converted to OBJECT in-memory format while creating the query-result-set, if the transaction is not originated from the client. <a href="https://github.com/hazelcast/hazelcast/issues/12050">[#12050</a>]</p>
</li>
<li>
<p>IMap&#8217;s <code>aggregate</code>, <code>projection</code>, <code>localKeySet</code> and <code>executeOnEntries</code> methods throws exception when <code>PartitionPredicate</code> is being used. <a href="https://github.com/hazelcast/hazelcast/issues/11962">[#11962</a>]</p>
</li>
<li>
<p>There is a race condition in the client&#8217;s Near Cache: "File is already being used by this Hazelcast instance". This was caused by the a problem with the synchronization between Near Cache creation and the <code>destroy</code> inside the Near Cache manager. <a href="https://github.com/hazelcast/hazelcast/issues/11648">[#11648</a>]</p>
</li>
<li>
<p>The map screen of Management Center does not show throughput info for `TransactionalMap`s. <a href="https://github.com/hazelcast/hazelcast/issues/11640">[#11640</a>]</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="behavioral-changes-2"><a class="anchor" href="#behavioral-changes-2"></a><a class="link" href="#behavioral-changes-2">Behavioral Changes</a></h3>
<div class="ulist">
<ul>
<li>
<p>Default value of the system property <code>hazelcast.mc.max.visible.instance.count</code> changed from 100 to Integer.MAX_VALUE. So you may see more than usual data in your Management Center, if you have more than 100 data structures in your Hazelcast cluster.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-9-2"><a class="anchor" href="#3-9-2"></a><a class="link" href="#3-9-2">3.9.2</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="enhancements-3"><a class="anchor" href="#enhancements-3"></a><a class="link" href="#enhancements-3">Enhancements</a></h3>
<div class="ulist">
<ul>
<li>
<p>Expiration operations can be stopped/canceled during the <code>SHUTTING_DOWN</code> state. Otherwise it causes graceful shutdowns which take longer, especially on clusters with a large amount of data, e.g., High-Density Memory Store backed maps. It is not necessary to block the shutdown for these operations since it will eventually be handled on the new owner of the entries. <a href="https://github.com/hazelcast/hazelcast/issues/11919">[#11919</a>]</p>
</li>
<li>
<p>Changed Hazelcast base images from Debian to Alpine Linux. Hence, the size of the image is reduced. <a href="https://github.com/hazelcast/hazelcast-docker/pull/48">[#48</a>]</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="fixes-3"><a class="anchor" href="#fixes-3"></a><a class="link" href="#fixes-3">Fixes</a></h3>
<div class="ulist">
<ul>
<li>
<p><code>PartitionPredicate</code> on <code>MapAggregation</code> throws exception when it is called from the client. <a href="https://github.com/hazelcast/hazelcast/issues/11923">[#11923</a>]</p>
</li>
<li>
<p>Some client <code>TransactionalMap</code> operations deserializes on the server side, while <code>IMap.values()</code> does not do so. This causes serialization exceptions on a client-member setup when members do not have the serialization information, e.g., in case where portables are used. <a href="https://github.com/hazelcast/hazelcast/issues/11885">[#11885</a>]</p>
</li>
<li>
<p>Replicated map&#8217;s Javadoc contains only member behaviors/requirements which the client cannot meet due to its technical difference. <a href="https://github.com/hazelcast/hazelcast/issues/11707">[#11707</a>]</p>
</li>
<li>
<p>Ringbuffer access throws HazelcastInstanceNotActiveException when cluster state is PASSIVE. <a href="https://github.com/hazelcast/hazelcast/issues/11664">[#11664</a>]</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="coverity-fixes-2"><a class="anchor" href="#coverity-fixes-2"></a><a class="link" href="#coverity-fixes-2">Coverity Fixes</a></h4>
<div class="ulist">
<ul>
<li>
<p>The method <code>addressTranslator.translate(target)</code> of <code>com.hazelcast.client.connection.nio.ClientConnectionManagerImpl.InitConnectionTask.run()</code> may return null. The returned value is used as an argument for the method <code>createSocketConnection(Address)</code> which uses the value without a null-check. <a href="https://github.com/hazelcast/hazelcast/issues/11771">[#11771</a>]</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-9-1"><a class="anchor" href="#3-9-1"></a><a class="link" href="#3-9-1">3.9.1</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="new-features"><a class="anchor" href="#new-features"></a><a class="link" href="#new-features">New Features</a></h3>
<div class="ulist">
<ul>
<li>
<p><strong>Ping Failure Detector:</strong> Ping Failure Detector provides a quicker and
more deterministic detection of hardware and other lower level events.
Please see the
<a href="http://docs.hazelcast.org/docs/3.9.1/manual/html-single/index.html#ping-failure-detector">Ping
Failure Detector section</a>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="fixes-4"><a class="anchor" href="#fixes-4"></a><a class="link" href="#fixes-4">Fixes</a></h3>
<div class="ulist">
<ul>
<li>
<p><code>MulticastJoiner</code> may cause <code>OutOfMemoryException</code> due to the
self-amplification in <code>SplitBrainJoinMessage</code> sending.
<a href="https://github.com/hazelcast/hazelcast/issues/11836">[#11836</a>]</p>
</li>
<li>
<p>Dynamic configuration added on the lite member is not found after a
Split-Brain healing.
<a href="https://github.com/hazelcast/hazelcast/issues/11815">[#11815</a>]</p>
</li>
<li>
<p>Client transactions does not respect to unisocket behavior.
<a href="https://github.com/hazelcast/hazelcast/issues/11802">[#11802</a>]</p>
</li>
<li>
<p>Incorrect null log message in <code>DelegatingAddressPicker</code>.
<a href="https://github.com/hazelcast/hazelcast/issues/11783">[#11783</a>]</p>
</li>
<li>
<p>A high number of <code>EntryEventType[]</code> is created in a client application
which receives many entry events. In a specific application,
<code>EntryEventType[]</code> dominates the application’s overall memory
allocation.
<a href="https://github.com/hazelcast/hazelcast/issues/11777">[#11777</a>]</p>
</li>
<li>
<p>Hazelcast client fails to connect to the cluster if the first cluster
member is down.
<a href="https://github.com/hazelcast/hazelcast/issues/11735">[#11735</a>]</p>
</li>
<li>
<p>After promoting a member
(<code>HazelcastInstance.getCluster().promoteLocalLiteMember()</code>) the instance
of the member retrieved by <code>getMembers()</code> is not updated.
<a href="https://github.com/hazelcast/hazelcast/issues/11720">[#11720</a>]</p>
</li>
<li>
<p>Enqueued item gets lost when the client stops and reconnects sooner
than <code>hazelcast.client.endpoint.remove.delay.seconds</code>.
<a href="https://github.com/hazelcast/hazelcast/issues/11700">[#11700</a>]</p>
</li>
<li>
<p>While trying to setup Hazelcast on AWS, the order of member
initialization is wrong.
<a href="https://github.com/hazelcast/hazelcast/issues/11681">[#11681</a>]</p>
</li>
<li>
<p>Query cache on an IMap that is subsequently destroyed and recreated
does not work.
<a href="https://github.com/hazelcast/hazelcast/issues/11666">[#11666</a>]</p>
</li>
<li>
<p>The method <code>DefaultQueryCache::getAll</code> does not check for null values.
<a href="https://github.com/hazelcast/hazelcast/issues/11665">[#11665</a>]</p>
</li>
<li>
<p>When the method <code>HazelcastInstance.shutdown()</code> is called, the
following error is thrown: ``Could not retrieve ringbuffer service to
destroy event journal''.
<a href="https://github.com/hazelcast/hazelcast/issues/11662">[#11662</a>]</p>
</li>
<li>
<p>Defining management center in the configuration causes partition
migrations even though there is no data.
<a href="https://github.com/hazelcast/hazelcast/issues/11598">[#11598</a>]</p>
</li>
<li>
<p>Weird Split-Brain like issue with Hazelcast 3.8.4.
<a href="https://github.com/hazelcast/hazelcast/issues/11533">[#11533</a>]</p>
</li>
<li>
<p>Consider logging new HTTP connections with DEBUG or lower level.
<a href="https://github.com/hazelcast/hazelcast/issues/11196">[#11196</a>]</p>
</li>
<li>
<p><code>HashSet</code> and <code>HashMap</code> are initialized with a too small size.
<a href="https://github.com/hazelcast/hazelcast/issues/9445">[#9445</a>]</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="coverity-fixes-3"><a class="anchor" href="#coverity-fixes-3"></a><a class="link" href="#coverity-fixes-3">Coverity Fixes</a></h4>
<div class="ulist">
<ul>
<li>
<p>Dereference null return value in the
method`ClientConnectionManagerImpl.encodeAuthenticationRequest()`.
<a href="https://github.com/hazelcast/hazelcast/issues/11767">[#11767</a>]</p>
</li>
<li>
<p>Using invalid iterator in the method
<code>SmartClientListenerService.deregisterListenerInternal(String)</code>.
<a href="https://github.com/hazelcast/hazelcast/issues/11760">[#11760</a>]</p>
</li>
<li>
<p>Resource leak in client’s <code>ProxyManager</code>.
<a href="https://github.com/hazelcast/hazelcast/issues/11751">[#11751</a>]</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-9"><a class="anchor" href="#3-9"></a><a class="link" href="#3-9">3.9</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="new-features-2"><a class="anchor" href="#new-features-2"></a><a class="link" href="#new-features-2">New Features</a></h3>
<div class="paragraph">
<p><strong><em>Hazelcast IMDG Enterprise Features:</em></strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>WAN Replication Using Discovery API</strong>: With this new feature, you can
run multiple clusters within environments, that have Hazelcast’s
Discovery SPI implemented, without manually configuring IP addresses and
use Hazelcast’s WAN replication to keep them in sync. Please see the
<a href="http://docs.hazelcast.org/docs/3.9/manual/html-single/index.html#defining-wan-replication-using-discovery-spi">Defining
WAN Replication Using Discovery SPI section</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong><em>Hazelcast IMDG Open Source Features:</em></strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Dynamic Creation of Distributed Objects Configuration</strong>: You can
perform on the fly configuration of your distributed objects. Please see
the
<a href="http://docs.hazelcast.org/docs/3.9/manual/html-single/index.html#dynamically-adding-configuration-on-a-cluster">Dynamically
Adding Configuration on a Cluster section</a>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="enhancements-4"><a class="anchor" href="#enhancements-4"></a><a class="link" href="#enhancements-4">Enhancements</a></h3>
<div class="paragraph">
<p><strong><em>Hazelcast IMDG Enterprise Enhancements:</em></strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>OpenSSL Integration</strong>: OpenSSL is integrated into Hazelcast. Please
see the
<a href="http://docs.hazelcast.org/docs/3.9/manual/html-single/index.html#integrating-openssl">Integrating
OpenSSL section</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong><em>Hazelcast IMDG Open Source Enhancements:</em></strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Client Support for User Code Deployment</strong>: You can now perform dynamic
class loading from Hazelcast clients too. Please see the
<a href="http://docs.hazelcast.org/docs/3.9/manual/html-single/index.html#client-user-code-deployment-beta">Client
User Code Deployment section</a>.</p>
</li>
<li>
<p><strong>Event Journal</strong>: This new distributed data structure stores the
history of mutation actions on data structures such as map or cache.
Please see the
<a href="http://docs.hazelcast.org/docs/3.9/manual/html-single/index.html#event-journal">Event
Journal section</a>.</p>
</li>
<li>
<p><strong>Fine-Grained Anti-Entropy Mechanism</strong>: Allows to detect
inconsistencies for each data structure in a single partition and
replicate only the specific fragment of it instead of the whole
partition. Please see the
<a href="http://docs.hazelcast.org/docs/3.9/manual/html-single/index.html#consistency-and-replication-model">Consistency
and Replication Model chapter</a>.</p>
</li>
<li>
<p><strong>Gigantic Cache Migration Enhancements</strong>: It enables manual control on
the partition migrations. Partitions can be migrated/replicated in small
fragments. Please refer to the
<a href="http://docs.hazelcast.org/docs/3.9/manual/html-single/index.html#system-properties">hazelcast.partition.migration.fragments.enabled</a>
system property and
<a href="http://docs.hazelcast.org/docs/3.9/manual/html-single/index.html#managing-cluster-and-member-states">NO_MIGRATION</a>
cluster state.</p>
</li>
<li>
<p><strong>Storing Near Cache Keys by Reference</strong>: This enhancement provides a
functionality to skip the serialization of keys for Near Caches to
improve the performance of the Near Caches. Please see the
<code>serialize-keys</code> option in the
<a href="http://docs.hazelcast.org/docs/3.9/manual/html-single/index.html#configuring-near-cache">Near
Cache section</a>.</p>
</li>
<li>
<p><strong>Client Connection Strategy Enhancements</strong>: Allows lazy initiation for
Hazelcast Clients. Please see the
<a href="http://docs.hazelcast.org/docs/3.9/manual/html-single/index.html#client-connection-strategy">Configuring
Client Connection Strategy section</a>.</p>
</li>
<li>
<p><strong>Default Group Password and Symmetric Encryption Default Credentials
Policy</strong>: Hazelcast requires the default group password and default
symmetric encryption password/salt to be changed. Please see the
<a href="http://docs.hazelcast.org/docs/3.9/manual/html-single/index.html#validating-secrets-using-strength-policy">Validating
Secrets Using Strength Policy section</a>.</p>
</li>
<li>
<p><strong>Hazelcast Consistency Model Documentation</strong>: We added a new chapter
explaining the full picture of Hazelcast’s consistency model. Please see
the
<a href="http://docs.hazelcast.org/docs/3.9/manual/html-single/index.html#consistency-and-replication-model">Consistency
and Replication Model chapter</a>.</p>
</li>
<li>
<p><strong>Keeping JCache Implementation Updated</strong>: Hazelcast JCache
implementation is updated for JSR 1.1 compliance when it is released.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following are the other improvements performed to solve the
enhancement issues opened by the Hazelcast customers/team.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Support for <code>properties</code> in <code>RingbufferStoreConfig</code> must be added.
<a href="https://github.com/hazelcast/hazelcast/issues/11077">[#11077</a>]</p>
</li>
<li>
<p>There should be the ability to add a timeout to get operations for
Spring <code>HazelcastCache</code>.
<a href="https://github.com/hazelcast/hazelcast/issues/10756">[#10756</a>]</p>
</li>
<li>
<p>Exception causes get lost when using <code>IExecutorService</code> with the
Hazelcast client.
<a href="https://github.com/hazelcast/hazelcast/issues/10591">[#10591</a>]</p>
</li>
<li>
<p>The attribute <code>override-java-serialization</code> should be added to the
element <code>global-serializer</code> in <code>hazelcast-client-config.xsd</code>. [#10449]</p>
</li>
<li>
<p>Hazelcast should have a method like <code>gerOrCreateHazelcastInstance()</code>
to detect a default configuration file and either create an instance or
get an existing one. [#10007]</p>
</li>
<li>
<p>Allow binding any port without using the method
<code>setPortAutoIncrement()</code> and specifying the port count. [#9775]</p>
</li>
<li>
<p>Consistent interface for IMap and TransactionalMap is needed. [#8729]</p>
</li>
<li>
<p>Hazelcast instance’s name should be added as a prefix to the name of
the threads managed by Hazelcast. [#8542]</p>
</li>
<li>
<p>When back pressure is enabled members always use back-off and clients
always throws <code>HazelcastOverloadedException</code>. This is not consistent and
the behavior should be configurable on both members and clients. [#8533]</p>
</li>
<li>
<p>There should be a Spring property placeholder for
<code>cache-deserialized-values</code> in the map configuration.
<a href="https://github.com/hazelcast/hazelcast/issues/8487">[#8487</a>]</p>
</li>
<li>
<p>For <code>OperationService</code>, the contention on the counters should be
reduced. [#4925]</p>
</li>
<li>
<p>Some of the properties mentioned in <code>GroupProperties</code> are not used
anymore, it should be cleaned up. [#4505]</p>
</li>
<li>
<p>When a grid member is configured to use port 0, it should be handled
properly. [#2506]</p>
</li>
<li>
<p>There should be the ability to configure the distributed objects on
the fly. <a href="https://github.com/hazelcast/hazelcast/issues/592">[#592</a>]</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="fixes-5"><a class="anchor" href="#fixes-5"></a><a class="link" href="#fixes-5">Fixes</a></h3>
<div class="ulist">
<ul>
<li>
<p>Members cannot join to 3.9 cluster when using cache with a key/value
type that is only resolvable from the user code deployment repository.
<a href="https://github.com/hazelcast/hazelcast/issues/11505">[#11505</a>]</p>
</li>
<li>
<p>Hazelcast listeners may fail to be registered to a new joined member.
This is caused by a race condition between <code>PostJoinOperations</code> and the
member doing the listener registration.
<a href="https://github.com/hazelcast/hazelcast/issues/11490">[#11490</a>]</p>
</li>
<li>
<p>Regression occurs after returning <code>ResultSet</code> instead of
<code>SortedQueryResultSet</code>.
<a href="https://github.com/hazelcast/hazelcast/issues/11489">[#11489</a>]</p>
</li>
<li>
<p>Performance issue in <code>MapProxyImpl.readFromEventJournal</code> with
projection. Projection cloning on the method <code>readFromEventJournal</code> must
be skipped.
<a href="https://github.com/hazelcast/hazelcast/issues/11410">[#11410</a>]</p>
</li>
<li>
<p>There is an issue with <code>MapStore</code>: the method
<code>hcInstance.getMap(mapName)</code> gets blocked when a new member joins and
data is being loaded.
<a href="https://github.com/hazelcast/hazelcast/issues/11407">[#11407</a>]</p>
</li>
<li>
<p>Migration operation during the member startup raises <code>ERROR</code> level
exception. <a href="https://github.com/hazelcast/hazelcast/issues/11406">[#11406</a>]</p>
</li>
<li>
<p><code>SpringAware</code> and <code>NodeAware</code> are not taken into account when
injecting dependencies to various cache resources.
<a href="https://github.com/hazelcast/hazelcast/issues/11406">[#11406</a>]</p>
</li>
<li>
<p>When the method <code>execute()</code> from <code>OperationServiceImpl</code> is used and if
it times out, the operation cannot send a response since
<code>responseHandler</code> is null (assuming the caller did not set it
initially). This leads to <code>NullPointerException</code>.
<a href="https://github.com/hazelcast/hazelcast/issues/11375">[#11375</a>]</p>
</li>
<li>
<p>In the method <code>DataRecordComparator.isEqual()</code>, the objects are always
serialized so that the binary form is used to determine if something
equals another object. This can lead to a lot of unwanted
serializations.
<a href="https://github.com/hazelcast/hazelcast/issues/11290">[#11290</a>]</p>
</li>
<li>
<p>There is an inconsistent behavior for the method <code>exists()</code> of
<code>CacheEntryProcessorEntry</code>.
<a href="https://github.com/hazelcast/hazelcast/issues/11266">[#11266</a>]</p>
</li>
<li>
<p>Hazelcast 3.8.4 source code does not match the JAR classes.
<a href="https://github.com/hazelcast/hazelcast/issues/11261">[#11261</a>]</p>
</li>
<li>
<p><code>OperationTimeoutException</code> should include the cause of exception.
<a href="https://github.com/hazelcast/hazelcast/issues/11233">[#11233</a>]</p>
</li>
<li>
<p>There is no way to configure the ``port-count'' element within Spring
context. <a href="https://github.com/hazelcast/hazelcast/issues/11224">[#11224</a>]</p>
</li>
<li>
<p>Registration objects cause a memory leak while using
<code>ScheduledExecutor</code>.
<a href="https://github.com/hazelcast/hazelcast/issues/11221">[#11221</a>]</p>
</li>
<li>
<p>Incorrect <code>UnsupportedOperationException</code> message: <code>Event journal
actions are not available when cluster version is 3.9 or higher''. It
should be </code>….are available…''.
<a href="https://github.com/hazelcast/hazelcast/issues/11220">[#11220</a>]</p>
</li>
<li>
<p><code>loadClasses</code> of client user code deployment throws
<code>ClassNotFoundException</code>.
<a href="https://github.com/hazelcast/hazelcast/issues/11217">[#11217</a>]</p>
</li>
<li>
<p>Dead cluster member causes a high reconnect count.
<a href="https://github.com/hazelcast/hazelcast/issues/11176">[#11176</a>]</p>
</li>
<li>
<p><code>MapGetInvalidationMetaDataOperation</code> throws <code>NullPointerException</code> in
a Near Cache scenario.
<a href="https://github.com/hazelcast/hazelcast/issues/11147">[#11147</a>]</p>
</li>
<li>
<p>REST endpoints for cluster version management should be documented.
<a href="https://github.com/hazelcast/hazelcast/issues/11139">[#11139</a>]</p>
</li>
<li>
<p><code>CacheDestroyOperation</code> must be invoked on the generic operation
thread. <a href="https://github.com/hazelcast/hazelcast/issues/11137">[#11137</a>]</p>
</li>
<li>
<p>Hazelcast members keep leaving and rejoining from/to the cluster in
Docker (via the plugin Hazelcast AWS).
<a href="https://github.com/hazelcast/hazelcast/issues/11118">[#11118</a>]</p>
</li>
<li>
<p>The method <code>ICache.getAndRemove()</code> doesn’t invalidate the Near Cache.
<a href="https://github.com/hazelcast/hazelcast/issues/11110">[#11110</a>]</p>
</li>
<li>
<p><code>IScheduledExecutorService</code> with <code>@SpringAware</code> does not inject
ApplicationContext or Beans.
<a href="https://github.com/hazelcast/hazelcast/issues/11108">[#11108</a>]</p>
</li>
<li>
<p>IMap allows passing null collection in <code>putAll</code> and <code>getAll</code>, and null
keys in <code>loadAll</code>.
<a href="https://github.com/hazelcast/hazelcast/issues/11099">[#11099</a>]</p>
</li>
<li>
<p>MapLoader <code>NullPointerException</code> occurs on <code>loadAll(Collection)</code> when
the value is null and MapLoader implements <code>PostProcessingMapStore</code> or
has an Interceptor.
<a href="https://github.com/hazelcast/hazelcast/issues/11081">[#11081</a>]</p>
</li>
<li>
<p>``CacheNotExistsException'' is thrown when a new member joins a
cluster where the primary member is creating and destroying JCaches.
<a href="https://github.com/hazelcast/hazelcast/issues/11047">[#11047</a>]</p>
</li>
<li>
<p><code>NullPointerException</code> on <code>ScheduledExecutor</code> when handling multiple
migration requests on the same source should be fixed.
<a href="https://github.com/hazelcast/hazelcast/issues/11047">[#11047</a>]</p>
</li>
<li>
<p>The exception
<code>NoClassDefFoundError: com/hazelcast/com/eclipsesource/json/JsonObject</code>
is thrown when using Payara Server and Hazelcast-AWS.
<a href="https://github.com/hazelcast/hazelcast/issues/10994">[#10994</a>]</p>
</li>
<li>
<p>There should be a warning or an information message when
<code>DiscoveryStrategy</code> SPI is not on the classpath.
<a href="https://github.com/hazelcast/hazelcast/issues/10993">[#10993</a>]</p>
</li>
<li>
<p>There is a rolling upgrade compatibility issue for native queries in
Hazelcast 3.9. It will fail when a 3.8 member send a <code>QueryOperation</code> to
3.9. <a href="https://github.com/hazelcast/hazelcast/issues/10973">[#10973</a>]</p>
</li>
<li>
<p>SSL Incorrect Error Message: Memcached not enabled. Connecting to a
Hazelcast Cluster that has SSL/Security disabled with a Hazelcast Client
that has SSL enabled gives this error.
<a href="https://github.com/hazelcast/hazelcast/issues/10971">[#10971</a>]</p>
</li>
<li>
<p>Statistics <code>getTotalGetLatency</code>, <code>getTotalRemoveLatency</code>, and
<code>getTotalPutLatency</code> works incorrectly.
<a href="https://github.com/hazelcast/hazelcast/issues/10938">[#10938</a>]</p>
</li>
<li>
<p>Map destroy doesn’t remove invalidation sequences and this causes
<code>OutOfMemoryException</code>.
<a href="https://github.com/hazelcast/hazelcast/issues/10936">[#10936</a>]</p>
</li>
<li>
<p>Ensure dynamic configuration is available before <code>HazelcastInstance</code>
is returned to user.
<a href="https://github.com/hazelcast/hazelcast/issues/10926">[#10926</a>]</p>
</li>
<li>
<p>Illegal character exception is thrown at index for the character
''^''. <a href="https://github.com/hazelcast/hazelcast/issues/10921">[#10921</a>]</p>
</li>
<li>
<p>The method <code>ScheduledTaskHandler.of(urn)</code> fails when IPv6 address is
used. <a href="https://github.com/hazelcast/hazelcast/issues/10898">[#10898</a>]</p>
</li>
<li>
<p>There is a thread leak after calling the method
<code>HazelcastInstance.shutdown()</code> in 3.8.2; so, JVM won’t exit.
<a href="https://github.com/hazelcast/hazelcast/issues/10886">[#10886</a>]</p>
</li>
<li>
<p>Transactional Queue: Backup reserve is failed, itemId: is not found.
<a href="https://github.com/hazelcast/hazelcast/issues/10867">[#10867</a>]</p>
</li>
<li>
<p>Map configurations inconsistency between members.
<a href="https://github.com/hazelcast/hazelcast/issues/10860">[#10860</a>]</p>
</li>
<li>
<p><code>PostJoinMapOperation</code> is running on a generic thread; it means it
cannot create high-density memory store indexes. It should probably
spawn partition specific operations.
<a href="https://github.com/hazelcast/hazelcast/issues/10841">[#10841</a>]</p>
</li>
<li>
<p>The element <code>config-permission</code> cannot be configured in Hazelcast
Spring XML.
<a href="https://github.com/hazelcast/hazelcast/issues/10835">[#10835</a>]</p>
</li>
<li>
<p><code>DynamicSecurityConfig</code> and <code>SecurityService</code> lifecycle should be
clarified. <a href="https://github.com/hazelcast/hazelcast/issues/10834">[#10834</a>]</p>
</li>
<li>
<p>Eliminate synchronization when checking task permissions.
<a href="https://github.com/hazelcast/hazelcast/issues/10833">[#10833</a>]</p>
</li>
<li>
<p>Dynamic configuration tasks should be non-blocking.
<a href="https://github.com/hazelcast/hazelcast/issues/10813">[#10813</a>]</p>
</li>
<li>
<p>Hazelcast declares <code>commons-logging</code> (OSGi) as a required dependency,
but it is not required.
<a href="https://github.com/hazelcast/hazelcast/issues/10770">[#10770</a>]</p>
</li>
<li>
<p>Comparing <code>Version.UNKNOWN</code> with other versions results in strange
results. <a href="https://github.com/hazelcast/hazelcast/issues/10755">[#10755</a>]</p>
</li>
<li>
<p>Multiple threads from Spring boot application are able to acquire lock
on the same document id ( String ).
<a href="https://github.com/hazelcast/hazelcast/issues/10754">[#10754</a>]</p>
</li>
<li>
<p>The system property
<code>hazelcast.cache.invalidation.batchfrequency.seconds</code> does not work for
IMap. [#10743]</p>
</li>
<li>
<p>The method <code>isEnterprise()</code> for <code>BuildInfoProvider</code> does not work in
Hazelcast 3.7.x.
<a href="https://github.com/hazelcast/hazelcast/issues/10740">[#10740</a>]</p>
</li>
<li>
<p>Infinite loop trying to initialize Cache configuration when
deserialization fails.
<a href="https://github.com/hazelcast/hazelcast/issues/10728">[#10728</a>]</p>
</li>
<li>
<p>There is a race between <code>CacheConfig</code> addition and Proxy creation when
a new member joins cluster.
<a href="https://github.com/hazelcast/hazelcast/issues/10727">[#10727</a>]</p>
</li>
<li>
<p>There is an infinite loop trying to initialize cache configuration
when deserialization fails.
<a href="https://github.com/hazelcast/hazelcast/issues/10723">[#10723</a>]</p>
</li>
<li>
<p>Fail fast should occur when the cache’s in-memory format is
incompatible with its eviction configuration.
<a href="https://github.com/hazelcast/hazelcast/issues/10716">[#10716</a>]</p>
</li>
<li>
<p>When a Java application is run with Hazelcast 3.8.2 within Docker, and
after switching from <code>openjdk:8u121-jre-alpine</code> to
<code>openjdk:8u131-jre-alpine</code>, <code>IllegalArgumentException</code> is thrown during
cluster bootstrap. [#10704]</p>
</li>
<li>
<p>Performance Issue in Hazelcast 3.8.1: <code>QueueStore.loadAll()</code> is called
way too often when draining items from Queue. [#10621]</p>
</li>
<li>
<p>Hazelcast instance is not injected into predicate. It occurs when the
predicate is not serialized and deserialized because it was invoked on
the partition owner.
<a href="https://github.com/hazelcast/hazelcast/issues/10620">[#10620</a>].</p>
</li>
<li>
<p>Hazelcast client always tries to connect to localhost when using
<code>DiscoveryStrategy</code>.
<a href="https://github.com/hazelcast/hazelcast/issues/10606">[#10606</a>]</p>
</li>
<li>
<p>Scheduled task remains cancelled after migration. [#10603]</p>
</li>
<li>
<p><code>SplitBrainMergeValidationOperation</code> ignores the join check from
[NODEB]:5701, because that node is not master.
<a href="https://github.com/hazelcast/hazelcast/issues/10587">[#10587</a>]</p>
</li>
<li>
<p>Problem setting up a cluster into Docker Swarm (overlay network).</p>
</li>
<li>
<p>New cache eviction is populated among nodes very slowly. [#10470]</p>
</li>
<li>
<p>WAN backup events are published twice. The
<code>publishWanReplicationEventBackups</code> method is called in the <code>run</code> and
<code>afterRun</code> method in the <code>PartitionWideEntryBackupOperation</code>. Elsewhere
it is only called in <code>afterRun</code>. This needs to be checked but possibly
the fix is just to remove the call in <code>run</code>. [#10457]</p>
</li>
<li>
<p>``PortableFactory[-22] is already registered'' error when using Spring
Boot 1.4.2 and Hazelcast 3.7.x.
<a href="https://github.com/hazelcast/hazelcast/issues/10438">[#10438</a>]</p>
</li>
<li>
<p>Source parameter is null on <code>JCache.loadAll()</code> call. [#10328]</p>
</li>
<li>
<p><code>TransactionalMapProxy</code> depends on <code>MapContainer</code>. Also, creating a
<code>TransactionalMapProxy</code> should not trigger creation of the backing
<code>MapContainer</code>.
<a href="https://github.com/hazelcast/hazelcast/issues/10254">[#10254</a>]</p>
</li>
<li>
<p>It is impossible to stop a Hazelcast Client service if it has never
connected to the server.
<a href="https://github.com/hazelcast/hazelcast/issues/10237">[#10237</a>]</p>
</li>
<li>
<p><code>TcpIpJoiner</code> throws the
exception`ConcurrentModificationException: null`. [#10207]</p>
</li>
<li>
<p><code>Cache.cacheManager</code> may be overwritten with a different
<code>CacheManager</code>.
<a href="https://github.com/hazelcast/hazelcast/issues/10200">[#10200</a>]</p>
</li>
<li>
<p>It seems like the Near Cache statistics seem to be off-by-one for at
least the <code>ownedEntryCount</code>. Sometimes the <code>ownedEntryMemoryCost</code> seems
to be affected as well. [#10193]</p>
</li>
<li>
<p><code>PagingPredicate</code> does not work for the method <code>executeOnEntries()</code>.
<a href="https://github.com/hazelcast/hazelcast/issues/10174">[#10174</a>]</p>
</li>
<li>
<p>Setting up a Hazelcast listener in a Spring configuration format does
not seem to work when using the class property of <code>hz:listener</code>.</p>
</li>
<li>
<p>Test coverage for <code>NearCacheClientCacheProxy</code> should be increased.</p>
</li>
<li>
<p>Fast Aggregations for <code>any</code> operator on empty arrays do not work.</p>
</li>
<li>
<p><code>CachingProvider</code> should attempt to get or create <code>HazelcastInstance</code>
with the default configuration when only instance name is provided.
<a href="https://github.com/hazelcast/hazelcast/issues/10094">[#10094</a>]</p>
</li>
<li>
<p><code>MulticastDiscoveryStrategy</code> does not work correctly with client
discovery. <a href="https://github.com/hazelcast/hazelcast/issues/10089">[#10089</a>]</p>
</li>
<li>
<p>Updates with <code>IMap#putTransient</code> should trigger
<code>EntryUpdatedListener</code>.
<a href="https://github.com/hazelcast/hazelcast/issues/10077">[#10077</a>]</p>
</li>
<li>
<p>The method <code>loadAll(boolean replaceExistingValues)</code> does not reload
the map store after the method <code>cache.evictAll</code> is called.
<a href="https://github.com/hazelcast/hazelcast/issues/10057">[#10057</a>]</p>
</li>
<li>
<p>Hazelcast XML configuration does not allow <code>RANDOM</code> eviction as an
eviction policy. [#10053]</p>
</li>
<li>
<p>There is a race condition in <code>TestClientRegistry</code> where the tests are
calling <code>blockFrom</code> and <code>blockTo</code> before any connection was made (via
<code>createSocketConnection</code>). This causes <code>NullPointerException</code> in those
block methods. [#10021]</p>
</li>
<li>
<p>Client side query cache declarative configuration does not support
wildcard usage <code>mapName</code> configuration.
<a href="https://github.com/hazelcast/hazelcast/issues/9990">[#9990</a>]</p>
</li>
<li>
<p>When health check is enabled, the user can send a garbage request like
<code><a href="http://&lt;your" class="bare">http://&lt;your</a> member&#8217;s host IP&gt;:5701/hazelcast/healthqqq</code> and it returns
a correct response. [#9967]</p>
</li>
<li>
<p>Durable Executor Service re-executes the completed tasks in case of a
member failure. [#9965]</p>
</li>
<li>
<p>There is a problem with virtual IP assignments when Hazelcast is used
into a Docker Swarm cluster.
<a href="https://github.com/hazelcast/hazelcast/issues/9963">[#9963</a>]</p>
</li>
<li>
<p>Currently there is no Spring support for Near Cache preloader.
<a href="https://github.com/hazelcast/hazelcast/issues/9771">[#9771</a>]</p>
</li>
<li>
<p>MapStore: write delay is not precisely respected as it has been in the
previous Hazelcast releases (before 3.7.4).
<a href="https://github.com/hazelcast/hazelcast/issues/9745">[#9745</a>]</p>
</li>
<li>
<p>The option <code>cache-local-entries</code> is not supported at the client side
Near Cache configuration. [#9712]</p>
</li>
<li>
<p>Latest member-list may not be received when <code>FinalizeJoinOperation</code>
invocation timeouts. [#9501]</p>
</li>
<li>
<p>Cluster member-list update operations are not ordered, new member
addition and removal operations can get reordered on
receiving/processing side. Also periodic member-list publish operation
has no order with other member adding/removing operations. That can
cause having different member lists on different members. [#9486]</p>
</li>
<li>
<p>Hazelcast Client API (3.7.3) is not able to execute get/put/delete
operations on the maps when used in AWS with smart-routing enabled
(values and clear operation work).
<a href="https://github.com/hazelcast/hazelcast/issues/9419">[#9419</a>]</p>
</li>
<li>
<p>Single map with ten items and three members, Split-Brain case: After
isolating one member, the merge occurs only with some of the keys, not
all of them. <a href="https://github.com/hazelcast/hazelcast/issues/9358">[#9358</a>]</p>
</li>
<li>
<p>When attempting to start a cluster member (3.6.5) with JMX enabled,
<code>IllegalArgumentException</code> is thrown and the member is self-terminated
immediately. <a href="https://github.com/hazelcast/hazelcast/issues/9293">[#9293</a>]</p>
</li>
<li>
<p>Backup is lost if <code>maxIdle</code> property is used. [#9153]</p>
</li>
<li>
<p>MultiMap lock: Thread is getting stuck when calling <code>lock(key)</code>.
<a href="https://github.com/hazelcast/hazelcast/issues/9055">[#9055</a>]</p>
</li>
<li>
<p>Near Cache on the Hazelcast Client side returns old values.
<a href="https://github.com/hazelcast/hazelcast/issues/8838">[#8838</a>]</p>
</li>
<li>
<p>Behavior of TTL when it is a negative value should be clarified.
<a href="https://github.com/hazelcast/hazelcast/issues/7729">[#7729</a>]</p>
</li>
<li>
<p>Heartbeat only removes a member if it is related to the master member.
<a href="https://github.com/hazelcast/hazelcast/issues/5253">[#5253</a>]</p>
</li>
<li>
<p>Multicast discovery does not work after loading some data.
<a href="https://github.com/hazelcast/hazelcast/issues/4721">[#4721</a>]</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="behavioral-changes-3"><a class="anchor" href="#behavioral-changes-3"></a><a class="link" href="#behavioral-changes-3">Behavioral Changes</a></h3>
<div class="ulist">
<ul>
<li>
<p>Maximum timeout of heartbeat for a member to assume it is dead was 300
seconds. Starting with Hazelcast 3.9, it is reduced to 60 seconds.
Related property is <code>hazelcast.max.no.heartbeat.seconds</code>. Also, starting
with Hazelcast 3.9, maximum timeout of master confirmation from other
members is reduced to 150 seconds from 450 seconds. Related property is
<code>hazelcast.max.no.master.confirmation.seconds</code>.</p>
</li>
<li>
<p>Starting with Hazelcast 3.9, the default <code>Cache</code> merge policy is <strong>Put
if Absent</strong>. It was <strong>Pass Through</strong> before Hazelcast 3.9.</p>
</li>
<li>
<p>Starting with Hazelcast 3.9, the format of member list shown in the
logs is changed. Before Hazelcast 3.9, it was like the following:</p>
<div class="literalblock">
<div class="content">
<pre>Members [3] {
    Member [127.0.0.1]:5701 - c1ccc8d4-a549-4bff-bf46-9213e14a9fd2 this
    Member [127.0.0.1]:5702 - 33a82dbf-85d6-4780-b9cf-e47d42fb89d4
    Member [127.0.0.1]:5703 - 813ec82f-9d9e-4712-bae1-6c95b32d6d7d
}</pre>
</div>
</div>
<div class="paragraph">
<p>Starting with Hazelcast 3.9, it is shown as follows:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Members {size:3, ver:3} [
  Member [127.0.0.1]:5701 - e40081de-056a-4ae5-8ffe-632caf8a6cf1 this
  Member [127.0.0.1]:5702 - 93e82109-16bf-4b16-9c87-f4a6d0873080
  Member [127.0.0.1]:5703 - 06fb4e61-9757-443b-a19f-7af1f3966f30
]</pre>
</div>
</div>
<div class="paragraph">
<p>Here, you can see the size of your cluster (<code>size</code>) and member list
version (<code>ver</code>). The member list version will be incremented when
changes happen to the cluster, e.g., a member leaving from or joining to
the cluster.</p>
</div>
<div class="paragraph">
<p>You can set the system property
<code>hazelcast.legacy.memberlist.format.enabled</code> to <code>true</code> if you want to
see the member list in its old format.</p>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-8-9"><a class="anchor" href="#3-8-9"></a><a class="link" href="#3-8-9">3.8.9</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>No changes for the Hazelcast IMDG Open Source edition. This release is
due to a change in the Hazelcast IMDG Enterprise Edition.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-8-8"><a class="anchor" href="#3-8-8"></a><a class="link" href="#3-8-8">3.8.8</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following is the enhancement for Hazelcast 3.8.8 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>MulticastJoiner’s Split-Brain handler should broadcast a new
Split-Brain message only when it detects the other side should join, not
on every merge interval.
<a href="https://github.com/hazelcast/hazelcast/pull/11888">[#11888</a>]</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-8-7"><a class="anchor" href="#3-8-7"></a><a class="link" href="#3-8-7">3.8.7</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following are fixed issues and enhancements for Hazelcast 3.8.7
release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>MapStore: Map initialization is blocked when new members join during
the data loading.
<a href="https://github.com/hazelcast/hazelcast/issues/11407">[#11407</a>]</p>
</li>
<li>
<p>Split-brain is not working as expected on a 2-member cluster. There
occurs a cluster merge deadlock when the core size is 1.
<a href="https://github.com/hazelcast/hazelcast/issues/11403">[#11403</a>]</p>
</li>
<li>
<p>Unable to connect any address in the configuration.
<a href="https://github.com/hazelcast/hazelcast/issues/11288">[#11288</a>]</p>
</li>
<li>
<p><code>OperationTimeoutException</code> thrown at Hazelcast clients should include
a more informative text.
<a href="https://github.com/hazelcast/hazelcast/issues/11241">[#11241</a>],
<a href="https://github.com/hazelcast/hazelcast/issues/11236">[#11236</a>]</p>
</li>
<li>
<p>Stale reads must be guaranteed from the map inside a transaction, when
Near Cache and delayed MapStore are enabled.
<a href="https://github.com/hazelcast/hazelcast/issues/9248">[#9248</a>]</p>
</li>
<li>
<p>A GroupProperty <code>INDEX_COPY_BEHAVIOR</code> was added to enable fine-tuning
of index query behavior. Related to performance degradation reported in
<a href="https://github.com/hazelcast/hazelcast/issues/11280">[#11280</a>]</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-8-6"><a class="anchor" href="#3-8-6"></a><a class="link" href="#3-8-6">3.8.6</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following are fixed issues and enhancements for Hazelcast 3.8.6
release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Fixed local execution Spring context injection on the Scheduled
Executor tasks.
<a href="https://github.com/hazelcast/hazelcast/pull/11374/">[#11374</a>]</p>
</li>
<li>
<p><code>toHeapData</code> should be used when converting native data to heap data.
<a href="https://github.com/hazelcast/hazelcast/pull/11361/">[#11361</a>]</p>
</li>
<li>
<p>Prefix for the diagnostics file name should be configurable.
<a href="https://github.com/hazelcast/hazelcast/issues/11345">[#11345</a>]</p>
</li>
<li>
<p>Client 3.8.4 (and newer versions) with near cache gets
<code>java.lang.UnsupportedOperationException</code> when it is connected to 3.7.x
cluster. <a href="https://github.com/hazelcast/hazelcast/issues/11343">[#11343</a>]</p>
</li>
<li>
<p>Notifications from a Hazelcast member through ITopic listeners
(MessageListener) are being lost.
<a href="https://github.com/hazelcast/hazelcast/issues/11264">[#11264</a>]</p>
</li>
<li>
<p>Address validation for the client network configuration is missing.
<a href="https://github.com/hazelcast/hazelcast/issues/11242">[#11242</a>]</p>
</li>
<li>
<p>The client is unable to connect to any address in the configuration,
after some hours.
<a href="https://github.com/hazelcast/hazelcast/issues/11194">[#11194</a>]</p>
</li>
<li>
<p>There are errors when using discovery strategy in the Hazelcast
client. <a href="https://github.com/hazelcast/hazelcast/issues/11116">[#11116</a>]</p>
</li>
<li>
<p>Hazelcast terminates the listeners incorrectly (for 3.7.6).
<a href="https://github.com/hazelcast/hazelcast/issues/10101">[#10101</a>]</p>
</li>
<li>
<p>The explanation for <code>InvalidConfigurationException</code> (for query caches)
should be more clear.
<a href="https://github.com/hazelcast/hazelcast/issues/9988">[#9988</a>]</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-8-5"><a class="anchor" href="#3-8-5"></a><a class="link" href="#3-8-5">3.8.5</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following are fixed issues and enhancements for Hazelcast 3.8.5
release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Fix for map-loader put in case of size-based eviction NPE.
<a href="https://github.com/hazelcast/hazelcast/pull/11253/">[#11253</a>]</p>
</li>
<li>
<p>Checked existence of key in-memory before proceeding.
<a href="https://github.com/hazelcast/hazelcast/pull/11251/">[#11251</a>]</p>
</li>
<li>
<p>Registration objects cause memory leak while using ScheduledExecutor.
<a href="https://github.com/hazelcast/hazelcast/pull/11227/">[#11227</a>]</p>
</li>
<li>
<p>Implement HTTPCommunicator using Apache HttpClient.
<a href="https://github.com/hazelcast/hazelcast/pull/11214/">[#11214</a>]</p>
</li>
<li>
<p>Notify invocations when a member leaves in FROZEN/PASSIVE cluster
state. <a href="https://github.com/hazelcast/hazelcast/pull/11202/">[#11202</a>]</p>
</li>
<li>
<p>The client should not use localhost if it is not explicitly configured
and the discovery is configured.
<a href="https://github.com/hazelcast/hazelcast/pull/11199/">[#11199</a>]</p>
</li>
<li>
<p>Query cache fix for map destroy.
<a href="https://github.com/hazelcast/hazelcast/pull/11197/">[#11197</a>]</p>
</li>
<li>
<p>Add system property to process WAN map remove events as delete.
<a href="https://github.com/hazelcast/hazelcast/pull/11178/">[#11178</a>]</p>
</li>
<li>
<p>Add forgotten public address check from cache.
<a href="https://github.com/hazelcast/hazelcast/pull/11169/">[#11169</a>]</p>
</li>
<li>
<p><code>CacheDestroyOperation</code> must be invoked from generic operation thread.
<a href="https://github.com/hazelcast/hazelcast/pull/11165/">[#11165</a>]</p>
</li>
<li>
<p><code>RemoveOperation</code> returns old value causing <code>SerializationException</code>
in WAN replication when sources are not available and the store type is
binary. <a href="https://github.com/hazelcast/hazelcast/issues/11157/">[#11157</a>]</p>
</li>
<li>
<p>Error in Spring configuration: <code>`</code>${hazelcast.queue.capacity}` is not
a valid value for ’integer''. The property <code>queue-capacity</code>’s type
should be changed.
<a href="https://github.com/hazelcast/hazelcast/issues/11150/">[#11150</a>]</p>
</li>
<li>
<p>The Javadoc for the method <code>MapEvictionPolicy.compare</code> is not correct.
<a href="https://github.com/hazelcast/hazelcast/issues/11074/">[#11074</a>]</p>
</li>
<li>
<p>When handling multiple migration requests on the same source,
<code>NullPointerException</code> can be thrown due to the null future reference
from the previous migration processing.
<a href="https://github.com/hazelcast/hazelcast/pull/11067/">[#11067</a>]</p>
</li>
<li>
<p>An exception can’t be rethrown from a different thread; it will lead
to exceptions with very obscure stacktraces.
<a href="https://github.com/hazelcast/hazelcast/issues/11022/">[#11022</a>]</p>
</li>
<li>
<p>Wrong property name <code>partition.count</code> in XSD files.
<a href="https://github.com/hazelcast/hazelcast/issues/10544/">[#10544</a>]</p>
</li>
<li>
<p>Hazelcast 3.7: <code>PollOperation</code> invocation fails to complete due to
<code>operation-heartbeat-timeout</code>.
<a href="https://github.com/hazelcast/hazelcast/issues/8831/">[#8831</a>]</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-8-4"><a class="anchor" href="#3-8-4"></a><a class="link" href="#3-8-4">3.8.4</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following are fixed issues and enhancements for Hazelcast 3.8.4
release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Added timeout option for the <code>get</code> operation when Hazelcast is used
within the Spring context.
<a href="https://github.com/hazelcast/hazelcast/pull/11001/">[#11001</a>]</p>
</li>
<li>
<p>HTTP HEAD support added to the REST interface.
<a href="https://github.com/hazelcast/hazelcast/pull/11000/">[#11000</a>]</p>
</li>
<li>
<p><code>ClientProxy</code> gets <code>NullPointerException</code> from the method <code>getClient</code>.
<a href="https://github.com/hazelcast/hazelcast/issues/10961">[#10961</a>]</p>
</li>
<li>
<p>Added support for collecting and tracking statistics for all reliable
topic proxies on a local member. The statistics are destroyed when the
proxy is destroyed.
<a href="https://github.com/hazelcast/hazelcast/pull/10932/">[#10932</a>]</p>
</li>
<li>
<p>The method <code>containsKey</code> returns ``true'' even the key does not exist
in the map.
<a href="https://github.com/hazelcast/hazelcast/issues/10923">[#10923</a>]</p>
</li>
<li>
<p>Assuming a scenario in which invalidations are generated previously
for some other near caches and then later a new near cached map is
created, all entries that are near cached before the first
reconciliation period will be removed.
<a href="https://github.com/hazelcast/hazelcast/issues/10913">[#10913</a>]</p>
</li>
<li>
<p>HTTP upload to Hazelcast fails. The code fails with the exception
<code>BufferOverflowException</code>.
<a href="https://github.com/hazelcast/hazelcast/issues/10878">[#10878</a>]</p>
</li>
<li>
<p>The method <code>MapProxyImpl.executeOnKeys()</code> does not work when
<code>ConcurrentSkipListSet</code> is passed and throws <code>NullPointerException</code>.
<a href="https://github.com/hazelcast/hazelcast/issues/10877">[#10877</a>]</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="known-issues"><a class="anchor" href="#known-issues"></a><a class="link" href="#known-issues">Known Issues</a></h3>
<div class="ulist">
<ul>
<li>
<p><strong>Upgrading from 3.6.x to 3.8.x (Hazelcast IMDG Enterprise) when using
<code>JCache</code>:</strong> Due to a compatibility problem, <code>CacheConfig</code> serialization
may not work if your member is 3.8.x where x &lt; 5. Hence, you will need
to use Hazelcast 3.8.5 or higher version where the problem is being
fixed. This issue affects Hazelcast IMDG Enterprise only.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-8-3"><a class="anchor" href="#3-8-3"></a><a class="link" href="#3-8-3">3.8.3</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following are the fixed issues for Hazelcast 3.8.3 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Hazelcast 3.8.1: calling <code>replace(K, old, new)</code> keeps the expiry time
as creation time + duration. But Hazelcast doesn’t seem to honor this
expiration even after calling <code>get()</code>.
<a href="https://github.com/hazelcast/hazelcast/issues/10817">[#10817</a>]</p>
</li>
<li>
<p>When using a client side Near Cache, the cache statistics seem
incorrect when asking for a key that doesn’t exist.
<a href="https://github.com/hazelcast/hazelcast/issues/10806">[#10806</a>]</p>
</li>
<li>
<p>Ringbuffer is not adjusting <code>headSeq</code> while setting <code>tailSeq</code> due to
capacity. <a href="https://github.com/hazelcast/hazelcast/issues/10774">[#10774</a>]</p>
</li>
<li>
<p>Older versions of Mulesoft clash with Hazelcast Client classpath.
<a href="https://github.com/hazelcast/hazelcast/issues/10706">[#10706</a>]</p>
</li>
<li>
<p>In the case when the master node is terminated in the middle of a
2-phase transaction, the rollback for that transaction is not performed.
This causes loss of data.
<a href="https://github.com/hazelcast/hazelcast/issues/10637">[#10637</a>]</p>
</li>
<li>
<p>Adding/removing listeners fails if a member is removed in the
progress. <a href="https://github.com/hazelcast/hazelcast/issues/10595">[#10595</a>]</p>
</li>
<li>
<p>When two callbacks are registered as callback to
<code>ClientDelegatingFuture</code>, if one of them wants to deserialize the
response while the other is does not, Hazelcast falsely gives null
response to the one waiting a deserialized value.
<a href="https://github.com/hazelcast/hazelcast/issues/10581">[#10581</a>]</p>
</li>
<li>
<p>Eviction and <code>max-size</code> for less then 271 cause map to never populate.
<a href="https://github.com/hazelcast/hazelcast/issues/10179">[#10179</a>]</p>
</li>
<li>
<p><code>IOException</code> at the client side must be produced only if
<code>hazelcast.client.invocation.timeout.seconds</code> is passed.
<a href="https://github.com/hazelcast/hazelcast/issues/9696">[#9696</a>]</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-8-2"><a class="anchor" href="#3-8-2"></a><a class="link" href="#3-8-2">3.8.2</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following are the fixed issues for Hazelcast 3.8.1 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Even though a <code>CachePermission</code> already exists, the respective
<code>PermissionType</code> does not exist and cannot be configured
programmatically or declaratively.
<a href="https://github.com/hazelcast/hazelcast/issues/10503">[#10503</a>]</p>
</li>
<li>
<p>Management Center reports incorrect values for backups. Given that
there is one copy of the data across a native map, it is expected to see
identical memory footprint on the entry and the backups with identical
sum across a server. But it is not the case.
<a href="https://github.com/hazelcast/hazelcast/issues/10454">[#10454</a>]</p>
</li>
<li>
<p>There is a memory leak caused by <code>ThreadGroup</code>.
<a href="https://github.com/hazelcast/hazelcast/issues/10394">[#10394</a>]</p>
</li>
<li>
<p>Split-Brain messages still occupy the memory after recovery.
<a href="https://github.com/hazelcast/hazelcast/issues/10325">[#10325</a>]</p>
</li>
<li>
<p>When shutting down a client with a topic subscription, it logs a
warning level exception which seems harmless. It is not good to log a
harmless exception as warning.
<a href="https://github.com/hazelcast/hazelcast/issues/10291">[#10291</a>]</p>
</li>
<li>
<p>There is a race condition in the back pressure at the client side
which causes the back pressure not to work.
<a href="https://github.com/hazelcast/hazelcast/issues/10253">[#10253</a>]</p>
</li>
<li>
<p>Ringbuffer OutOfMemoryError: GC overhead limit exceeded.
<a href="https://github.com/hazelcast/hazelcast/issues/10189">[#10189</a>]</p>
</li>
<li>
<p><code>ClientContext</code> is created for every proxy and it causes unneeded
resource allocations.
<a href="https://github.com/hazelcast/hazelcast/issues/10117">[#10117</a>]</p>
</li>
<li>
<p>Hazelcast terminates listeners incorrectly.
<a href="https://github.com/hazelcast/hazelcast/issues/10101">[#10101</a>]</p>
</li>
<li>
<p>When hostname is used in the Hazelcast member configuration instead of
IP address, <code>NullPointerException</code> is thrown.
<a href="https://github.com/hazelcast/hazelcast/issues/9884">[#9884</a>]</p>
</li>
<li>
<p>When using a Hazelcast Client instance, if the <code>redoOperation</code> is set
to true, operations which failed to be sent to the cluster are retried,
but failures from executing the operation itself in the cluster are not.
<a href="https://github.com/hazelcast/hazelcast/issues/8545">[#8545</a>]</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="behavioral-changes-4"><a class="anchor" href="#behavioral-changes-4"></a><a class="link" href="#behavioral-changes-4">Behavioral Changes</a></h3>
<div class="ulist">
<ul>
<li>
<p>Starting with 3.8.2, members with the same group name but with
different group passwords (that do not use authentication) form a
cluster. Before this release, group passwords needed to be the same too.
Please see
<a href="http://docs.hazelcast.org/docs/3.8.2/manual/html-single/index.html#creating-cluster-groups">Cluster
Groups</a> for more information on creating cluster groups.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-8-1"><a class="anchor" href="#3-8-1"></a><a class="link" href="#3-8-1">3.8.1</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following are the enhancements introduced with 3.8.1 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Mutual authentication with TLS certificates: It allows the clients
also to have their keyStores and members to have their trustStores so
that the members can know which clients they can trust.</p>
</li>
<li>
<p>Introduced Offloadable and Readonly entry processors in order to
significantly improve entry processors’ throughput. Please see the
<a href="http://docs.hazelcast.org/docs/3.9/manual/html-single/index.html#entry-processor-performance-optimizations">Entry
Processor Performance Optimizations section</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following are the fixed issues for Hazelcast 3.8.1 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>BackupEntryProcessor</code> returned from <code>AbstractEntryProcessor</code> does not
support <code>HazelcastInstanceAware</code>.
<a href="https://github.com/hazelcast/hazelcast/issues/10083">[#10083</a>]</p>
</li>
<li>
<p>Updates performed with IMap’s <code>putTransient</code> method should trigger
<code>EntryUpdatedListener</code>.
<a href="https://github.com/hazelcast/hazelcast/issues/10077">[#10077</a>]</p>
</li>
<li>
<p>Missing documentation for configuring log4j2 as logging framework.
<a href="https://github.com/hazelcast/hazelcast/issues/9970">[#9970</a>]</p>
</li>
<li>
<p>Management Center section in the Reference Manual is misleading when
it explains tool’s behavior for clusters having more than two members.
<a href="https://github.com/hazelcast/hazelcast/issues/9969">[#9969</a>]</p>
</li>
<li>
<p>JCache bootstrap should have a way to reconciliate the existing
<code>HazelcastInstance</code>.
<a href="https://github.com/hazelcast/hazelcast/issues/9958">[#9958</a>]</p>
</li>
<li>
<p>Multicast configuration’s <code>trusted-interfaces</code> element is not handled
properly on startup of the members.
<a href="https://github.com/hazelcast/hazelcast/issues/9953">[#9953</a>]</p>
</li>
<li>
<p>For Hazelcast 3.7.*, MigrationListener’s <code>migrationStarted</code> and
<code>migrationCompleted</code> methods are called for all partitions.
<a href="https://github.com/hazelcast/hazelcast/issues/9919">[#9919</a>]</p>
</li>
<li>
<p>While performing async operations test, OOME is thrown due to
exceeding garbage collection overhead, at the client side.
<a href="https://github.com/hazelcast/hazelcast/issues/9665">[#9665</a>]</p>
</li>
<li>
<p>Behavior of aggregators when extracted value is null should be
well-documented.
<a href="https://github.com/hazelcast/hazelcast/issues/9858">[#9858</a>]</p>
</li>
<li>
<p>Hazelcast Java client disconnects from the cluster with heartbeat
problems. <a href="https://github.com/hazelcast/hazelcast/issues/8956">[#8956</a>]</p>
</li>
<li>
<p>Currently the near cache updates does not guarantee the order of
events for a certain key. The updates are performed via asynchronous
executor runs and it does not guarantee the order of updates.
Furthermore, the invalidations via event service is also not ordered.
<a href="https://github.com/hazelcast/hazelcast/issues/8652">[#8652</a>]</p>
</li>
<li>
<p>Client’s near cache implementation uses <code>userExecutor</code> which is also
used for other purposes such as making callbacks to lifecycle listeners.
A client may block an operation of the near cache updates by a slow
lifecycle listener. This needs to be addressed.
<a href="https://github.com/hazelcast/hazelcast/issues/8651">[#8651</a>]</p>
</li>
<li>
<p>Client has a configurable
<code>hazelcast.client.max.concurrent.invocations</code> property which limits the
outstanding client requests. It is observed that at some cases, for
async calls, it is possible that this limit may not work as expected and
this may cause outstanding requests to grow which may cause OOM.
<a href="https://github.com/hazelcast/hazelcast/issues/8568">[#8568</a>]</p>
</li>
<li>
<p>When using a Hazelcast Client instance, if the <code>redoOperation</code> is set
to true, operations which failed to be sent to the cluster are retried,
but failures from executing the operation itself in the cluster are not.
<a href="https://github.com/hazelcast/hazelcast/issues/8545">[#8545</a>]</p>
</li>
<li>
<p>While updating the Hazelcast maps in the clustered environment, the
exception <code>TargetNotMember</code> is thrown.
<a href="https://github.com/hazelcast/hazelcast/issues/7584">[#7584</a>]</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-8"><a class="anchor" href="#3-8"></a><a class="link" href="#3-8">3.8</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section lists the new features, enhancements, fixed issues and,
removed or deprecated features for 3.8 release.</p>
</div>
<div class="sect2">
<h3 id="new-features-3"><a class="anchor" href="#new-features-3"></a><a class="link" href="#new-features-3">New Features</a></h3>
<div class="paragraph">
<p>The following are the new features introduced with 3.8 release.</p>
</div>
<div class="paragraph">
<p><strong><em>Hazelcast IMDG Enterprise Features:</em></strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Rolling Member Upgrades for Minor Releases</strong>: You can upgrade your
Hazelcast members to the next minor release without service
interruption. Please refer to the <a href="http://docs.hazelcast.org/docs/3.8/manual/html-single/index.html#rolling-member-upgrades">Rolling Member Upgrades chapter</a>.</p>
</li>
<li>
<p><strong>Restore Hot Restart Data in a Different Cluster</strong>: You will be able to
restore Hot Restart data on a completely new cluster with different IP
addresses or on a cluster of machines formed by existing and new IP
addresses. Since this is a removal of a restriction or limitation,
nothing will change for current Hot Restart Store users. Please refer to
the <a href="http://docs.hazelcast.org/docs/3.8/manual/html-single/index.html#moving-copying-hot-restart-data">Moving/Copying Hot Restart Data section</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong><em>Hazelcast IMDG Open Source Features:</em></strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Continuous Query Cache</strong>: With this release, the previously Enterprise
feature Continuous Query Cache becomes open source. Please refer to the <a href="http://docs.hazelcast.org/docs/3.8/manual/html-single/index.html#continuous-query-cache">Continuous Query Cache section</a>.</p>
</li>
<li>
<p><strong>Cardinality Estimator</strong>: Cardinality Estimator data structure is
implemented on top of Hazelcast to estimate cardinality. Please refer to
the <a href="http://docs.hazelcast.org/docs/3.8/manual/html-single/index.html#cardinality-estimator-service">Cardinality Estimator Service section</a>.</p>
</li>
<li>
<p><strong>Scheduled Executor Service</strong>: Distributed implementation of Java’s
<code>ScheduledExecutorService</code> API. Please refer to the <a href="http://docs.hazelcast.org/docs/3.8/manual/html-single/index.html#scheduled-executor-service" class="bare">http://docs.hazelcast.org/docs/3.8/manual/html-single/index.html#scheduled-executor-service</a> [Scheduled Executor
Service section].</p>
</li>
<li>
<p><strong>User Code Deployment</strong>: Load your new classes to Hazelcast IMDG
members dynamically without restarting all of them.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="enhancements-5"><a class="anchor" href="#enhancements-5"></a><a class="link" href="#enhancements-5">Enhancements</a></h3>
<div class="paragraph">
<p>The following are the enhancements introduced with 3.8 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Fast Aggregations for Queries</strong>: Please refer to the <a href="http://docs.hazelcast.org/docs/3.8/manual/html-single/index.html#fast-aggregations">Fast Aggregations
section</a>.</p>
</li>
<li>
<p><strong>Projections for Queries</strong>: Please refer to the <a href="http://docs.hazelcast.org/docs/3.8/manual/html-single/index.html#projections">Projections section</a>.</p>
</li>
<li>
<p><strong>Eventually Consistent Near Cache</strong>: With this improvement, possible
losses of invalidation events are detected and stale reads are
prevented. Please refer to the <a href="http://docs.hazelcast.org/docs/latest/manual/html-single/index.html#eventual-consistency">Near Cache Eventual Consistency section</a>.</p>
</li>
<li>
<p><strong>Cluster Split-Brain Protection for Queue and Lock</strong>: Split-brain
protection is now available for the queue and lock data structures.
Please refer to the sections <a href="http://docs.hazelcast.org/docs/3.8/manual/html-single/index.html#split-brain-protection-for-lock">Lock Split-Brain Protection</a> and <a href="http://docs.hazelcast.org/docs/3.8/manual/html-single/index.html#split-brain-protection-for-queue">Queue
Split-Brain Protection.</a></p>
</li>
<li>
<p><strong>Unified Near Cache Implementation</strong>: Different near cache
implementations for JCache, map, client side and member side are
unified. You can refer to the <a href="http://docs.hazelcast.org/docs/3.8/manual/html-single/index.html#near-cache">Near Cache section</a>.</p>
</li>
<li>
<p><strong>High Performance Near Cache</strong>: A near cache preloader is introduced to
preserve the information about which keys are used in a populated near
cache. You can refer to the <a href="http://docs.hazelcast.org/docs/3.8/manual/html-single/index.html#near-cache-preloader">Near Cache Preloader section</a>.</p>
</li>
<li>
<p><strong><code>removeAll(predicate)</code> for Map</strong>: You can remove all map entries that
match your predicate. You can refer to the <a href="http://docs.hazelcast.org/docs/3.8/manual/html-single/index.html#removing-bulk-map-entries-with-predicates">Removing Bulk Map Entries
with Predicates section</a>.</p>
</li>
<li>
<p><strong>Ringbuffer with Persistent Datastore</strong>: Implemented for the Ringbuffer
which is similar to the existing queue store mechanism. Please refer to the <a href="http://docs.hazelcast.org/docs/3.8/manual/html-single/index.html#ringbuffer-with-persistent-datastore">Ringbuffer with Persistent Datastore section</a>.</p>
</li>
<li>
<p><strong>Hazelcast Striim Hot Cache Adapter</strong>: Hot Cache functionality based on
Striim’s Change Data Capture (CDC) for the underlying database updates.
Please note that this enhancement is available for Hazelcast Enterprise.
Please refer to the <a href="http://docs.hazelcast.org/docs/3.8/manual/html-single/index.html#hazelcast-striim-hot-cache">Hazelcast Striim Hot Cache section</a>.</p>
</li>
<li>
<p><strong>One-off WAN Synchronization with Dynamically Added Endpoint</strong>:
Improvement to allow copying the maps’ all content to a target cluster
dynamically in runtime. Please note that this enhancement is available
for Hazelcast Enterprise.</p>
</li>
<li>
<p><strong>Hot Restart Usability Improvements</strong>: When a cluster with Hot Restart
enabled is restarted, it starts in the ACTIVE state. Please note that
this enhancement is available for Hazelcast Enterprise. Please refer to
the <a href="http://docs.hazelcast.org/docs/3.8/manual/html-single/index.html#hot-restart-types">Hot Restart Types section</a>.</p>
</li>
<li>
<p><strong>Hot Restart with Incomplete Members</strong>: The restart procedure for a
cluster having Hot Restart enabled is now more flexible by allowing you
to do a partial start, which basically means that once the cluster is
shutdown, it can be restarted with some missing members. Please note
that this enhancement is available for Hazelcast Enterprise. Please
refer to the <a href="http://docs.hazelcast.org/docs/3.8/manual/html-single/index.html#partial-start">Partial Start section</a>.</p>
</li>
<li>
<p><strong>Copy Hot Restart Store data from Source to Target</strong>: You can copy Hot
Restart Store data from a running cluster to a target without shutting
down the source cluster. Please note that this enhancement is available
for Hazelcast Enterprise. Please refer to the <a href="http://docs.hazelcast.org/docs/3.8/manual/html-single/index.html#movingcopying-hot-restart-data">Moving/Copying Hot Restart Data section</a>.</p>
</li>
<li>
<p><strong>Improvement in WAN Queue Full Behavior</strong>: Now, Hazelcast throws an
exception when the queue is full and replication is active, unless it is
stopped on the Management Center. Please note that this enhancement is
available for Hazelcast Enterprise. Please refer to the <a href="http://docs.hazelcast.org/docs/3.8/manual/html-single/index.html#queue-full-behavior">Queue Full
Behavior section</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following are the other improvements performed to solve the
enhancement issues opened by the Hazelcast customers/team.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Currently there are only MERGING and MERGED states for lifecycle, but
no event is fired for a failed merge. This would be informative and
further give an idea to user to understand a reason of a SHUTTING_DOWN
event since a failed merge is followed by a shutdown. [9856]</p>
</li>
<li>
<p>Tests are needed to prove that <code>removeAll</code> does not deserialize
portables. [9474]</p>
</li>
<li>
<p>Client support for distributed scheduled executor service. [9385]</p>
</li>
<li>
<p>When a member without JCache service joins a cluster where JCache
service is enabled but not used, the member should not fail. [9301]</p>
</li>
<li>
<p>It would be nice to have names assigned to all threads created by
Hazelcast (and not the default ones, e.g., <code>pool-2-thread-1</code>,
<code>pool-2-thread-2</code>). [9210]</p>
</li>
<li>
<p>There should be a more detailed and clarifying information in the
diagnostics of <code>PartitionIteratingOperation</code>. [8855]</p>
</li>
<li>
<p>When there is no access to <code>NodeEngine</code>, the logger should be able to
be used from a static context without any side effects to the logging
configuration. [8760]</p>
</li>
<li>
<p>Client tasks should be bounced back when a member has not completely
start yet. [8715]</p>
</li>
<li>
<p>A method <code>size(Predicate)</code> should be added to determine the size of
predicate results. [8555]</p>
</li>
<li>
<p>Currently the property
<code>com.hazelcast.map.impl.eviction.ExpirationManager.PERIOD</code> is hard-coded
to 5 seconds. Making it a configurable property will help in tuning the
eviction. [8277]</p>
</li>
<li>
<p>The method <code>com.hazelcast.topic.impl.TopicProxy#publish</code> serializes
the message even if the message is never sent due to having no
subscribers. In the case of non-global-ordering and non-client use, the
implementation should defer serialization until it has established that
there are subscribers. [8262]</p>
</li>
<li>
<p>Hazelcast should provide an abstract Mapper implementation which
invokes the Supplier given to <code>Aggregation#getMapper()</code>. [7477]</p>
</li>
<li>
<p>Configuration setting for WAN replication queue should be only for
primary entries. [7124]</p>
</li>
<li>
<p>Currently if you want to use Container-Managed Transactions with
Hazelcast within a JEE Application Server, you need to use the provided
JCA Adapter. This JCA Adapter creates a Hazelcast instance. This should
be allowed: configuration of the JCA Adapter to be either Server or
Client-based. [5667]</p>
</li>
<li>
<p>Currently <code>PartitionIteratingOperation</code> consumes a generic operation
thread, while the operations for the partitions are running. This means
that the generic thread pool can dry out and this can cause a lot of
problems for important tasks that cannot be executed since the thread
pool is empty. A <code>PartitionIteratingService</code> should be introduced where
the system can lookup TraceableOperations. [4889]</p>
</li>
<li>
<p>Hazelcast Shutdown Hook calls the method <code>terminate()</code> instead of
<code>shutdown()</code>. [4648]</p>
</li>
<li>
<p>Hazelcast should support <code>ScheduledExecutorService</code>. [115]</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="fixes-6"><a class="anchor" href="#fixes-6"></a><a class="link" href="#fixes-6">Fixes</a></h3>
<div class="paragraph">
<p>The following are the issues solved for Hazelcast 3.8 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>TaskDefinition</code> should be removed from the client protocol. [9846]</p>
</li>
<li>
<p><code>AggregationResult</code> should be serialized via Codec instead of IDS.</p>
</li>
<li>
<p><code>MetaDataResponse</code> should be serialized via Codec instead of IDS.</p>
</li>
<li>
<p>The script <code>stop.bat</code> does not stop the running Hazelcast instances.</p>
</li>
<li>
<p>The script <code>start.bat</code> allows multiple instances to be started in the
same folder; it should not. [9820]</p>
</li>
<li>
<p>Ordering consistency for the the method <code>writePortable</code> should be
explained in the Reference Manual. [9813]</p>
</li>
<li>
<p>A client cannot add index to map using Portable values without
registering Portable classes on member. [9808]</p>
</li>
<li>
<p>Index is not updated after entry processors change values. [9801]</p>
</li>
<li>
<p>When using Entry Processor and index on a field the Entry Processor
uses, wrong data is returned when executing a Predicate. [9798]</p>
</li>
<li>
<p><code>NullPointerException</code> in <code>LockServiceImpl</code>: an NPE is thrown in
<code>LockServiceImpl</code> when creating one map with a quorum configuration
(which activates the <code>QuorumServiceImpl</code> for all <code>QuorumAware</code>
operations) and then calling a <code>QuorumAware</code> operation on another data
structure without a quorum configuration. [9792]</p>
</li>
<li>
<p><code>ClusterVersion</code> is missing convenience methods for comparing easily.</p>
</li>
<li>
<p>When scheduling tasks with multiple executors, calling
<code>getAllScheduled</code> on one of them returns tasks scheduled per member but
for all executors, rather than for the one we called the
<code>getAllScheduled</code> from. [9784]</p>
</li>
<li>
<p>There are too many log entries when quorum is not present. [9781]</p>
</li>
<li>
<p>Hazelcast terminates listener incorrectly. [9766]</p>
</li>
<li>
<p>When <code>storeAll</code>/<code>deleteAll</code> methods are used in the MapStore
interface, it is possible that the underlying implementation has
stored/deleted some entries from the supplied batch and then gets an
exception on some particular entry in the middle of the batch. In order
to handle this scenario properly the MapStore could remove from the
supplied batch entries which were properly stored in the underlying
persistent store. The only thing to improve in the
<code>DefaultWiteBehindProcessor</code> is to properly synchronize the map passed
to <code>processBatch</code> method with the initial <code>batchMap</code>. [9733]</p>
</li>
<li>
<p>If <code>hazelcast.discovery.enabled</code> on the client side: If neither
<code>DiscoveryServiceProvider</code> nor <code>DiscoveryStrategyConfig</code> is specified,
an NPE is thrown. A more helpful exception should be provided. [9722]</p>
</li>
<li>
<p>The <code>hazelcast-all.jar</code>, which is the one included in Hazelcast
Docker, downloaded from Maven repo, contains an outdated version of
<code>hazelcast-aws</code> library. [9698]</p>
</li>
<li>
<p>When scheduling on random partitions and trying to get all the
scheduled tasks from the service, the number of tasks is wrong. The
returned figure seems to match ``num_of_tasks * backup_count''. [9694]</p>
</li>
<li>
<p>When a scheduled Callable/Runnable throws an exception, invoking
<code>future.get()</code> on the client side does not throw the expected
<code>ExecutionException</code>. [9685]</p>
</li>
<li>
<p>The client is not updating listener registrations when the member
restarts with a new version. [9677]</p>
</li>
<li>
<p><code>IScheduledExecutorService</code> does not use <code>HazelcastInstanceAware</code> on
local operations. [9675]</p>
</li>
<li>
<p>Near cache compatibility with 3.7 clients is broken for TTL
expirations. [9674]</p>
</li>
<li>
<p>Fix inconsistent Ringbuffer TTL defaults: when starting a
<code>HazelcastInstance</code> without an explicit configuration
(<code>HazelcastInstance hz = Hazelcast.newHazelcastInstance();</code>), the
default Ringbuffer TTL was 30 seconds, instead of correct value 0. This
change may break existing applications relying on the default
configuration. [9610]</p>
</li>
<li>
<p>Replicated Map configured with <code>async-fillup</code> as <code>false</code> prevents
further members from joining the cluster. Members are stuck in an
endless loop. [9592]</p>
</li>
<li>
<p>When an exception is thrown from an <code>InitializingObject</code>’s initialize
method, it is logged in WARNING level but then swallowed and the proxy
object is added to the <code>ProxyRegistry</code>. Instead, the exception should
result in removing the object from the <code>ProxyRegistry</code>, as it is already
done for exceptions thrown from <code>service.createDistributedObject</code>.</p>
</li>
<li>
<p>Near cache pre-loader fails when invalidations are enabled. [9536]</p>
</li>
<li>
<p>There is a memory leak in <code>MetaDataGenerator</code> when (1) near cache
invalidations are enabled, (2) map/cache is created and destroyed, and
(3) the map name is stays referenced from <code>MetaDataGenerator</code>. [9495]</p>
</li>
<li>
<p>JCache client needs access to <code>CacheLoader</code> implementation to work.</p>
</li>
<li>
<p>The matching wildcard is strict, but no declaration can be found for
element <code>hz:hazelcast</code>. [9406]</p>
</li>
<li>
<p><code>`Connection Reset'' warning shows up in the class `CloudyUtility</code>.</p>
</li>
<li>
<p>Key state marking in near cached <code>getAll</code> should be improved. Instead
of key based marking, partition based approach can be used. [9403]</p>
</li>
<li>
<p>Scheduled executor service tests are too slow. [9386]</p>
</li>
<li>
<p>The method <code>getAll</code> is not updating the <code>localMapStats</code>. [9373]</p>
</li>
<li>
<p>Hazelcast 3.7.3 and Spring Boot 1.4.2 get the error
<code>PortableFactory[-22] is already registered</code>. [9353]</p>
</li>
<li>
<p>There is an issue when integrating with WebLogic 12c. Classloading
logging should be added when <code>DefaultNodeExtension</code> is loaded by
multiple classloaders. [9291]</p>
</li>
<li>
<p>The method <code>MapLoader.loadAll(true)</code> does not reload after reloading
with new keys. [9255]</p>
</li>
<li>
<p>Problems with timeout in blocking calls. [9250]</p>
</li>
<li>
<p>Stale reads from Map inside a transaction should be guaranteed, when
Near Cache and delayed MapStore are enabled. [9248]</p>
</li>
<li>
<p>Client protocol cannot handle ``null''s in the collection. [9240]</p>
</li>
<li>
<p><code>LifecycleState</code> events are not received when Hazelcast docker image
is used. [9189]</p>
</li>
<li>
<p>If there is no network, multicast socket exception is thrown. [9081]</p>
</li>
<li>
<p>Hazelcast is not handling XML configuration attribute for
<code>DurableExecutorService</code>. [9078]</p>
</li>
<li>
<p>If <code>DurableExecutorService.retrieveResult(long)</code> is run from a client
for a task that does not exist, two exceptions appear at the client
side. At the member side, it logs <code>StaleTaskIdException</code>. This should
not be logged to the member if re-thrown to the client. [9051]</p>
</li>
<li>
<p>When retrieving data from Java Hazelcast instance,
<code>HazelcastSerializationException</code> is thrown from the .NET client. [8985]</p>
</li>
<li>
<p>Callback for time to live (for map eviction) is invoked with a
significant delay. [8894]</p>
</li>
<li>
<p><code>`Warning 2'' in `IMap::tryRemove</code> method’s code comments is not
correct. This method returns only a boolean. [8884]</p>
</li>
<li>
<p>There are too many log messages when members of a cluster are not
joined to another cluster (multicast) having a different group name in
Hazelcast 3.6 and 3.7, which is already expected. [8867]</p>
</li>
<li>
<p>When clients lose connection to the members in the cluster, even after
the clients are reconnected to the cluster, the Entry/Message Listeners
are never fired again. [8847]</p>
</li>
<li>
<p>Nested queries on <code>VersionedPortables</code> with different versions cannot
be performed. Hazelcast throws IllegalArgumentException. [8846]</p>
</li>
<li>
<p>Fixed <code>max-size</code> value behavior for Near Cache configuration. If you
set 0 for the <code>max-size</code>, now, it is valued as <code>Integer.MAX_VALUE</code> as
expected and documented. [8826]</p>
</li>
<li>
<p>While generating the XML string from a configuration object in
<code>ConfigXmlGenerator.generate()</code> method, <code>native-memory</code> configuration is
not appended to the result string. This causes the <code>native-memory</code>
configuration for members not to be shown on the Management Center.</p>
</li>
<li>
<p>``Client heartbeat is timed out , closing connection'' warning shows
up indefinitely on AWS. [8777]</p>
</li>
<li>
<p>Spring XML configuration: The smart routing attribute defaults to
false while the documentation says it defaults to true. [8746]</p>
</li>
<li>
<p>Distributed objects present in the cluster do not show the same
values. [8743]</p>
</li>
<li>
<p>In Hazelcast 3.6.3, the error
<code>Current thread is not owner of the lock</code> shows up when using Hazelcast
client to perform the actions. [8730]</p>
</li>
<li>
<p>There is an unchecked <code>CancelledKeyException</code> when client disconnects
from the cluster. [8681]</p>
</li>
<li>
<p>Bulk <code>get</code> operation with 100 keys fails. [8535]</p>
</li>
<li>
<p>An <code>IllegalThreadStateException</code> may be thrown sometimes on a member
of a cluster with two or more members when a Hazelcast client creates a
new map with configured indexes. This exception is not thrown when
indexes are created programmatically. [8492]</p>
</li>
<li>
<p>Group and password attributes in Hibernate integration module should
be validated. [7978]</p>
</li>
<li>
<p>There appears to be an inconsistency where JCache uses the
<code>EvictionConfig</code> object, but IMap directly uses properties of the
<code>NearCacheConfig</code>. [7788]</p>
</li>
<li>
<p>Topic listeners are lost after merging from a split-brain scenario.</p>
</li>
<li>
<p>Member attributes go missing after merging from a split-brain
scenario. [7697]</p>
</li>
<li>
<p>There should be a distributed class loading feature to perform
distributed loading of classes so that jobs like MapReduce and Aggregate
can be done more effectively. [7394]</p>
</li>
<li>
<p>MapLoader misses state updates on second load on the receiver members.</p>
</li>
<li>
<p>If the system retries an operation because a member is leaving the
cluster, the invocation can be retried due to the response but also due
to the ``member-left'' event. In most cases this should not lead to a
problem, but the invocation may be executed twice. This can be a problem
and can lead to a permanent inconsistent system. [7270]</p>
</li>
<li>
<p>Using Lock and Map, the heap memory on Hazelcast server keeps
increasing. All the created Locks and Maps are destroyed by the method
<code>destroy()</code>, but the memory cannot be destroyed by the garbage collector
even via FGC. When an application runs for some time, Hazelcast server
goes down. [7246]</p>
</li>
<li>
<p>Hazelcast 3.5 throws <code>InvalidConfigurationException</code>. [6523]</p>
</li>
<li>
<p>More granular mutexes should be used when creating and removing a set
of closeable cache resources. [6273]</p>
</li>
<li>
<p>Running <code>PredicateBuilder</code> queries when nodes join causes timeouts and
cluster crash. [6242]</p>
</li>
<li>
<p>The method <code>setEvictionPolicy</code> for near cache configuration wants a
string argument whereas the same for map configuration wants an enum
value. [2010]</p>
</li>
<li>
<p>The configuration schemas Hazelcast Spring XSD and Hazelcast default
configuration XSD are out of sync. They must have the same elements.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="behavioral-changes-5"><a class="anchor" href="#behavioral-changes-5"></a><a class="link" href="#behavioral-changes-5">Behavioral Changes</a></h3>
<div class="ulist">
<ul>
<li>
<p>A separate thread pool for query requests coming from the clients has
been introduced. The goal for this is to avoid <code>OutOfMemoryException</code> s
under heavy query load. This separate thread pool’s size is configurable
via the system property <code>hazelcast.clientengine.query.thread.count</code>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="removed-deprecated-features-2"><a class="anchor" href="#removed-deprecated-features-2"></a><a class="link" href="#removed-deprecated-features-2">Removed/Deprecated Features</a></h3>
<div class="ulist">
<ul>
<li>
<p>Aggregators feature is deprecated. Instead, Fast-Aggregations feature
should be used.</p>
</li>
<li>
<p>MapReduce feature is deprecated. Please refer to
<a href="http://docs.hazelcast.org/docs/3.8/manual/html-single/index.html#mapreduce-deprecation">MapReduce
Deprecation section</a>.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-7-8"><a class="anchor" href="#3-7-8"></a><a class="link" href="#3-7-8">3.7.8</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following is the fixed issue for 3.7.8 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>When the cluster state is <code>PASSIVE</code>, the background expiration task
can get an exception (in <code>ClearExpiredOperation</code>) during execution. But
after the cluster state transitions to <code>ACTIVE</code>, it should continue to
process. The task’s progress conditions should be reset in case of any
execution exception. [10636]</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-7-7"><a class="anchor" href="#3-7-7"></a><a class="link" href="#3-7-7">3.7.7</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following is the fixed issue for 3.7.7 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Servers should throw exception when message type is not known. Client
protocol is defined to throw an exception when a client sends a client
message with unknown type to server. [10196], [10203]</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-7-6"><a class="anchor" href="#3-7-6"></a><a class="link" href="#3-7-6">3.7.6</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following are the fixed issues for 3.7.6 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>In the case of using multiple lite members with near cache, when a
<code>clear</code> is called it tries to use the same operation and results in
<code>IllegalStateException</code>. [9879]</p>
</li>
<li>
<p>Near cache eviction does not work. [9723]</p>
</li>
<li>
<p>Connection exception is logged in <code>ClientListenerSupport</code> after the
client disconnects. [9709]</p>
</li>
<li>
<p>IMap entry eviction issue; some keys stay forever. [9095]</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-7-5"><a class="anchor" href="#3-7-5"></a><a class="link" href="#3-7-5">3.7.5</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following are the fixed issues for 3.7.5 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Map statistics are disappeared in Management Center when the member is
restarted. [9590]</p>
</li>
<li>
<p>Clients are not updated when <code>DistributedObject</code> is removed from the
member. [9457], [9423]</p>
</li>
<li>
<p>Hazelcast Management Center is not working with Tomcat 8 and higher.</p>
</li>
<li>
<p><code>TextReadHandler</code> (for REST and Memcache) commands has a size
restriction. Large responses cannot be handled. There is a hardcoded
buffer size in <code>TextReadHandler</code> but it should be converted as dynamic
so that it can handle responses of any size. [9355]</p>
</li>
<li>
<p>The configuration schema <code>hazelcast-spring.xsd</code> should use <code>&lt;xs:all&gt;</code>
instead of <code>&lt;xs:sequence&gt;</code> for ``hazelcast-bean'' base type. [9289]</p>
</li>
<li>
<p>Stuck threads are seen in Hazelcast 3.6.2 client when session
replication is used. [9060]</p>
</li>
<li>
<p>When cluster service starts when a member starts, it registers itself
as the only member and publishes the membership event. <code>QuorumService</code>
is a <code>MembershipAwareService</code>, therefore it is expected to update
quorums when it receives these membership events. The problem is as
follows: services are not registered to <code>ServiceManager</code> yet when the
cluster service publishes this event on a member start. So, it seems
that <code>QuorumService</code> is missing it and failing to update its internal
quorum status. [8820]</p>
</li>
<li>
<p>Client disconnection leads to a stuck <code>clusterExecutor</code> shutdown in
Hazelcast 3.6.2. [8721]</p>
</li>
<li>
<p>Near cache updates may cause <code>OutofMemoryException</code> under high load
and high number of <code>ICache.getAsync</code> calls. [8593]</p>
</li>
<li>
<p>The tag <code>hot-restart</code> cannot resolve the placeholder for the value of
<code>enabled</code> and <code>fsync</code> within Spring context. [8500]</p>
</li>
<li>
<p><code>HazelcastInstanceAware</code> should be supported for <code>QuorumFunction</code>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-7-4"><a class="anchor" href="#3-7-4"></a><a class="link" href="#3-7-4">3.7.4</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following are the fixed issues for 3.7.4 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Client protocol should be updated to support old .NET clients that
have an issue preventing them to connect to 3.7.3 and newer clusters.</p>
</li>
<li>
<p>Fixed <code>keyStateMarker</code> problems. [9382]</p>
</li>
<li>
<p>When nodes terminates concurrently, clusterService.removeAddress can
fail because target node is already shutdown. [9324]</p>
</li>
<li>
<p>Cache event listeners trigger multiple events when the listener is
configured declaratively (XML). [9315]</p>
</li>
<li>
<p>When client is connected and the client process is paused, e.g., using
a debugger, then the member starts printing the warning message
(<code>Client heartbeat is timed out</code>) every 10 seconds. [9308]</p>
</li>
<li>
<p>Hazelcast client outside the AWS cloud cannot connect to Hazelcast
member inside the AWS cloud. [9290]</p>
</li>
<li>
<p>In case of a retrying operation, an old heartbeat could still be
stored on the invocation. If the invocation monitor sees this, it does
not understand that this is from an old invocation. It concludes that
the invocation has not received any recent heartbeats and aborts the
invocation. [9287]</p>
</li>
<li>
<p>Client endpoint may have a different connection than the one it was
initially constructed. [9282]</p>
</li>
<li>
<p>The method <code>loadAll(keys)</code> has to notify <code>RecordStores</code> about the end
of loading. [9260]</p>
</li>
<li>
<p>Partitions should be unavailable/inaccessible until
<code>MigrationAwareServices</code> complete commit/rollback during migration
and/or promotion. [9235]</p>
</li>
<li>
<p>When backups are reordered and a backup with a version greater than
(localVersion + 1) is received, backup is applied but partition replica
versions are not updated. [9206]</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-7-3"><a class="anchor" href="#3-7-3"></a><a class="link" href="#3-7-3">3.7.3</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following are the fixed issues for 3.7.3 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>MapLoader.loadAll(true)</code> does not reload after reloading with given
keys. [9263]<br></p>
</li>
<li>
<p>The <code>scheduler</code> in <code>TcpIpConnectionManager</code> is not completing after
the method <code>instance.shutdown()</code> is called. [9187]</p>
</li>
<li>
<p><code>EntryView</code>’s <code>storeTime</code> and <code>expirationTime</code> are not available even
though they are set. [9166]</p>
</li>
<li>
<p><code>NullPointerException</code> is thrown while deleting an entry through Entry
Processor by setting value to NULL. [9135]</p>
</li>
<li>
<p>There is a discrepancy between the Reference Manual and source code in
the default value of <code>hazelcast.heartbeat.interval.seconds</code>. [9070]</p>
</li>
<li>
<p>When Hazelcast is upgraded from 3.6.5 to 3.7.1, calls to Spring cache
generate exceptions. [9023]</p>
</li>
<li>
<p>Hazelcast 3.6.x client cannot obtain cache proxy from 3.7.x cluster.
Configuration creation and retrieval seem to be not working on 3.6.x
clients when they connect to a 3.7.x cluster. Two new system properties
added, namely <code>hazelcast.compatibility.3.6.server</code> and
<code>hazelcast.compatibility.3.6.client</code>. When upgrading from (assuming that
you are using ICache) 3.6.x to 3.7.3 then the servers should be started
with <code>-Dhazelcast.compatibility.3.6.client=true</code> to enable existing
3.6.x clients work properly. When upgrading from 3.7.1 and 3.7.2 to
3.7.3 this is not needed.[9006]</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Please note that there is no change in the Hazelcast cluster
member upgrade procedure; the cluster members cannot have mixed major
versions (e.g., a cluster of 3.6.x member and 3.7.x member). The above
change only relates to clients (the mixed clients are supported starting
from version 3.6 with the Open Binary Client Protocol). Hence, you can
have a 3.6.x client running with a 3.7.x cluster.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>When clients lose connection to the nodes in the cluster, even after
the clients reconnected to the cluster, the Entry/MessageListeners never
fired again. When you register a listener, the registration to the
members are invoked with a timeout value of connection-timeout. Keeping
this value short can cause a timeout exception during a listener
registration. Therefore, you may need to increase the default value
(i.e. 5 seconds), please refer to the
<a href="http://docs.hazelcast.org/docs/latest/manual/html-single/index.html#setting-connection-timeout">Setting
Connection Timeout section</a>. [8847]</p>
</li>
<li>
<p>There is an unnecessary warning about member side near cache
invalidation operations. [8841]</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-7-2"><a class="anchor" href="#3-7-2"></a><a class="link" href="#3-7-2">3.7.2</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following are the fixed issues for 3.7.2 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The container <code>WaitingOperation</code> (which wraps <code>BlockingOperation</code>) is
asked for call ID/caller address. But this container object does not
have any sensible information, so the heartbeat is not constructed
correctly for a blocked operation. [8979]</p>
</li>
<li>
<p>JCache backup operation does not propagate the exception
<code>CacheNotExists</code>. [8955]</p>
</li>
<li>
<p>The log message ``unsafe unavailable'' is at WARNING level and it also
displays the full stack trace. [8852]</p>
</li>
<li>
<p>When a predicate for distributed query is executed on a lite member it
throws the exception <code>ClassNotFound</code>. [8849]</p>
</li>
<li>
<p>While running under non-HotSpot JVM, the exception <code>NoSuchField</code> is
thrown. [8835]</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-7-1"><a class="anchor" href="#3-7-1"></a><a class="link" href="#3-7-1">3.7.1</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following are the fixed issues for 3.7.1 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Behavior of JCache near cache invalidation events changed: (i) the
method <code>Cache.close</code> now delivers near cache invalidation events, (ii)
the method <code>Cache.destroy</code> no longer delivers invalidation events, (iii)
the method <code>CacheManager.destroyCache</code> when invoked from a client-side
cache manager no longer delivers invalidation events. [8801]</p>
</li>
<li>
<p>Aggressive SQL predicate flattening may result in wrong parsing of
SQL. [8799]</p>
</li>
<li>
<p>To properly configure within Spring context, incorrect client defaults
should be fixed. [8761]</p>
</li>
<li>
<p><code>NullPointerException</code> is thrown when the class <code>DefaultNodeExtension</code>
has been loaded by two different class loaders. [8755]</p>
</li>
<li>
<p><code>HazelcastInstanceNotActive</code> exception is thrown which is misleading.
When a remote member is shutdown while destroying a proxy, no warnings
should be logged. [8736]</p>
</li>
<li>
<p>Test failure fixes: [8702], [8694], [8460], [7022]</p>
</li>
<li>
<p>Missing dependency for JSPC plugin should be added. [297]</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-7"><a class="anchor" href="#3-7"></a><a class="link" href="#3-7">3.7</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section lists the new features, enhancements, fixed issues and,
removed or deprecated features for 3.7 release.</p>
</div>
<div class="sect2">
<h3 id="new-features-4"><a class="anchor" href="#new-features-4"></a><a class="link" href="#new-features-4">New Features</a></h3>
<div class="paragraph">
<p>The following are the new features introduced with 3.7 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Custom Eviction Policies</strong>: You can implement and use your own
eviction policy. Please refer to the <a href="http://docs.hazelcast.org/docs/3.7/manual/html-single/index.html#custom-eviction-policy">Custom Eviction Policy section</a>.</p>
</li>
<li>
<p><strong>Discovery SPI Implementation for Microsoft Azure Services</strong>: Hazelcast
members can be discovered within your Azure resource group. You can add
this implementation as a plugin to your projects. Please refer to <a href="https://github.com/sedouard/hazelcast-azure">Hazelcast-Azure plugin page</a>.</p>
</li>
<li>
<p><strong>Hazelcast CLI with Scripting</strong>: A command line interface that supports
scripting. You can automate cluster operations such as start, stop, and
force start using shell scripting. Please refer to <a href="https://github.com/hazelcast/hazelcast-cli">Hazelcast CLI</a> plugin.
page.</p>
</li>
<li>
<p><strong>Hazelcast for OpenShift and CloudFoundry</strong>: Hazelcast members on
OpenShift and CloudFoundry can discover each other. Please refer to
<a href="https://hub.docker.com/r/hazelcast/openshift/">Hazelcast OpenShift</a> and <a href="https://github.com/hazelcast/hazelcast-cloudfoundry">Hazelcast CloudFoundry</a> plugin pages.</p>
</li>
<li>
<p><strong>Apache Spark Connector:</strong> A plugin which allows Hazelcast maps and
caches to be used as shared RDD caches by Spark using the Spark RDD API.
Please refer to the plugin’s repo at Spark Connector for Hazelcast.</p>
</li>
<li>
<p><strong>Alignment of WAN Replication Clusters:</strong> This feature provides a
mechanism to align or realign distributed objects in the clusters
connected through WAN. WAN replication mirrors changes from a map or
cache in one cluster to another. It was maintaining the alignment but
was not attaining. Now when the receiving cluster is empty and the
sending cluster is not, objects are aligned. And if changes have been
dropped for any reason, realignment is attained. Please refer to the <a href="http://docs.hazelcast.org/docs/3.7/manual/html-single/index.html#synchronizing-wan-target-cluster">Synchronizing WAN Target Cluster section</a>.</p>
</li>
<li>
<p><strong>Fault Tolerant Executor Service:</strong> This new data structure is
introduced to guarantee that no execution tasks will be lost when a
member goes down. Please refer to the <a href="http://docs.hazelcast.org/docs/3.7/manual/html-single/index.html#durable-executor-service">Durable Executor Service section</a>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="enhancements-6"><a class="anchor" href="#enhancements-6"></a><a class="link" href="#enhancements-6">Enhancements</a></h3>
<div class="paragraph">
<p>The following are the enhancements introduced with 3.7 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Modularized Hazelcast:</strong> As stated in the above note, 3.7 is
Hazelcast’s first modularized release. Clients, languages and plugins
are now modules which have separate GitHub repositories, Maven modules,
and release cycles. Please refer to the
<a href="http://hazelcast.org/clients-languages/">Clients &amp; Languages</a> and
<a href="http://hazelcast.org/plugins/">Plugins</a> pages.</p>
</li>
<li>
<p><strong>Near Cache (JCache) Notification Enhancements:</strong> You can disable the
near cache notifications for each entry and enable/disable notifications
of full-flush events. Please refer to the
<a href="http://docs.hazelcast.org/docs/3.7/manual/html-single/index.html#icache-configuration">ICache
Configuration section</a> and see definition of the new configuration
element <code>disable-per-entry-invalidation-events</code>.</p>
</li>
<li>
<p><strong>Migration Algorithm Enhancements:</strong> With these improvements the
possibility of a data loss due to a member crash while the partitions
are being migrated is eliminated.</p>
</li>
<li>
<p><strong>WAN Replication Integrated with Solace</strong>: This integration is achieved
through a new JMS endpoint. Please refer to the
<a href="http://docs.hazelcast.org/docs/3.7/manual/html-single/index.html#solace-integration">Solace
Integration section</a>.</p>
</li>
<li>
<p><strong>Cloud Discovery SPI Plugin for Multicast:</strong> You can use multicast
discovery for your Hazelcast platform with client/server topology. Only
Hazelcast Java client is supported for this release. Please refer to the
<a href="http://docs.hazelcast.org/docs/3.7/manual/html-single/index.html#discovering-native-clients">Discovering
Native Clients section</a>.</p>
</li>
<li>
<p><strong>IMap Eviction Sync with JCache:</strong> Hazelcast Map uses now Hazelcast
JCache’s eviction algorithm when evicting map entries.</p>
</li>
<li>
<p><strong>Docker Image Enhancements:</strong> Hazelcast Docker image is able to
integrate with the Service Discovery products such as Zookeeper, Consul,
Etcd, and Eureka. Please refer to its repo at
<a href="https://github.com/hazelcast/hazelcast-docker">Hazelcast Docker</a>.</p>
</li>
<li>
<p><strong>Phone Home Enhancements:</strong> Performed to collect new phone home data to
learn more about the environment on which Hazelcast runs. Please refer
to the <a href="http://docs.hazelcast.org/docs/3.7/manual/html-single/index.html#phone-home">Phone Home section</a>.</p>
</li>
<li>
<p><strong><code>IMap.putAll()</code> Performance Enhancements:</strong> The performance of
<code>putAll</code> operation is improved by reducing the number of remote
operations and supporting batching.</p>
</li>
<li>
<p><strong>Hazelcast Instance and JCache Integration Enhancements:</strong> A direct
relation between a Hazelcast instance and JCache is established with
this enhancement. You can retrieve and access caches via the method
<code>getCache(String name)</code> over <code>HazelcastInstance</code> API. Please refer to
the <a href="http://docs.hazelcast.org/docs/3.7/manual/html-single/index.html#jcache-hazelcast-instance-integration">JCache - Hazelcast Instance Integration section</a>.</p>
</li>
<li>
<p><strong>Indexing with Predicates for Entry Processors:</strong> Entry Processor can
use indexing when a predicate is used to filter entries that need to be
processed. Please refer to the
<a href="http://docs.hazelcast.org/docs/3.7/manual/html-single/index.html#using-indexes">Using
Indexes section</a>.</p>
</li>
<li>
<p><strong>Partition Grouping Enhancements:</strong> You can define partition groups, in
the same way as the IP address network configuration with wildcard
support. You can also configure zone-aware partition groups for your
Hazelcast clusters on AWS. Please refer to the
<a href="http://docs.hazelcast.org/docs/3.7/manual/html-single/index.html#partition-group-configuration">Partition
Group Configuration section</a>.</p>
</li>
<li>
<p><strong>Prevention of Blocking Reads in Transactions:</strong> Now the read
operations are blocked only during committing the transactions.</p>
</li>
<li>
<p><strong>Jetty and Tomcat Based Web Session Replications:</strong> These features have
been made open source. You can reach them at
<a href="https://github.com/hazelcast/hazelcast-tomcat-sessionmanager/releases">Tomcat
Session Manager</a> and
<a href="https://github.com/hazelcast/hazelcast-jetty-sessionmanager/releases">Jetty
Session Manager</a> GitHub repos.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following are the other improvements performed to solve the
enhancement issues opened by the Hazelcast customers/team.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Expanded async API support in IMap, IAtomicLong, and IAtomicReference;
async methods now return <code>ICompletable</code> and enable a reactive
programming style. [8580], [7967], [7960]</p>
</li>
<li>
<p>Call reference IDs are included in the Lock operations issued from
member to member, to prevent double locking when lock operation is
retried. But, Lock at clients does not have these. [8359]</p>
</li>
<li>
<p><code>ReadBackupData</code> and <code>MaxIdleSeconds</code> related documentation should be
more clarifying. [8354]</p>
</li>
<li>
<p>Entry listener with predicates should be notified on value entry/exit
from the predicate value space. [8340]</p>
</li>
<li>
<p>Collection querying in Portables. This allows querying a collection
like <code>car.wheels[0].pressure</code> or <code>car.wheels[any].pressure</code> in the
Portable data format. It also allows using a <code>ValueExtractor</code> in the
Portable data format. [8132]</p>
</li>
<li>
<p>Performance improvements for the invocation system. [8009]</p>
</li>
<li>
<p>The performance log should have an option to log to the `shared'
logger instead of its own file. It would be useful for environments
where Hazelcast cannot create or get a performance log file. [7973]</p>
</li>
<li>
<p>The path for performance logs, which is currently fixed to the user’s
working directory should be configurable. [7968]</p>
</li>
<li>
<p>Hazelcast <code>IAtomicLong</code> data structure provides synchronous methods
only; async versions already exist and are available to Hazelcast
members via <code>AsyncAtomicLong</code> interface. Lack of public a async API for
IAtomicLong is impeding Hazelcast integrations. [7957]</p>
</li>
<li>
<p>API documentation for <code>QueueStore</code> should be enhanced. [7775]</p>
</li>
<li>
<p>It would be better to have a way where near cache notifications for
each entry are disabled, but an ability to enable/disable notifications
of full-flush events (clear, etc.). [7580]</p>
</li>
<li>
<p>Hazelcast should support Transaction API of Spring. [7469], [611]</p>
</li>
<li>
<p>For Hazelcast Topic, even the event service’s pool size is set to a
number larger than one, all of the messages are consumed by only one
Hazelcast event thread. The use case includes a single Hazelcast member,
both producer and consumer being singletons within the member, and
message rate of more than 1000 per second. [7443]</p>
</li>
<li>
<p>Partition strategy should be able to be specified not only in the
Hazelcast configuration, but also within the Spring context. In
addition, an implementing instance should be specified besides the class
which implements the partition strategy. [7363]</p>
</li>
<li>
<p>Async put operations should be reflected at near cache as soon as the
method <code>future.get()</code> returns. In the case of async put operations and
<code>LocalUpdatePolicy</code> being <code>CACHE</code> at the client side, entries are put to
the near cache asynchronously from another task when the response is
received. But with this way, when <code>future.get()</code> returns, entry might
not be inside the near cache (but it will be there eventually). [7155]</p>
</li>
<li>
<p>For <code>ICache.iterator()</code>, <code>fetchSize</code> is not configurable. [7041]</p>
</li>
<li>
<p>Unit tests should have a default timeout. [6978]</p>
</li>
<li>
<p>Outgoing ports on Hazelcast clients should be configurable. [6845]</p>
</li>
<li>
<p>The method <code>IMap.set</code> does not have a corresponding async version,
unlike <code>put</code> and <code>putAsync</code>. The method <code>putAsync</code> is not entirely
suitable as an async set, since put returns the previous value mapped to
the key, and triggers EntryListeners which may not be desirable. IMap
should expose a dedicated <code>setAsync</code> to fulfill the contract for set and
have the means to do so asynchronously. [6726]</p>
</li>
<li>
<p>Javadoc for <code>EntryProcessor.java</code> should be enhanced by adding notes
related to its thread safety. [6593]</p>
</li>
<li>
<p>Custom SPI services should be more Spring-friendly. [6567]</p>
</li>
<li>
<p>The ``spring-aware'' should be enabled programmatically too. [6514]</p>
</li>
<li>
<p>Hibernate 5 should be supported. [5633]</p>
</li>
<li>
<p>The error ``This node is not requested endpoint'' is shown in Docker
networking. [4537]</p>
</li>
<li>
<p>It would be nice if the type parameters of <code>Predicate</code> were inherited
by the <code>IndexAwarePredicate</code>. [1686]</p>
</li>
<li>
<p>The class <code>MigrationEndpoint</code> should be a part of Hazelcast SPI
package. [1427]</p>
</li>
<li>
<p>When a task is submitted to all members, and an <code>executeOnEntries</code> is
invoked in the call with a predicate that is based on an index, then the
index is ignored and a <code>full scan'' of the </code>local'' members is
performed. [1156]</p>
</li>
<li>
<p>Inconsistency between the declarative and programmatic configuration
of network elements should be solved. [945]</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="fixes-7"><a class="anchor" href="#fixes-7"></a><a class="link" href="#fixes-7">Fixes</a></h3>
<div class="paragraph">
<p>The following are the issues solved for Hazelcast 3.7 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Issue with continuous query natural filtering event types: When the
property <code>hazelcast.map.entry.filtering.natural.event.types</code> is set to
<code>true</code>, updating a map entry whose value did not match the predicate to
a new value that matches the predicate should publish an event of type
<code>ADDED</code> instead of <code>UPDATED</code>. [8648]</p>
</li>
<li>
<p>The method <code>ClientEngineImpl::getConnectedClientStats</code> reuses the
operation <code>GetConnectedClientsOperation</code>. This operation should not be
reused for multiple invocations. [8628]</p>
</li>
<li>
<p>There is a possible regression in <code>PartitionAwareOperationFactory</code>
when missing code coverage of <code>MultipleEntryWithPredicateOperation</code> is
tried to be increased. [8622]</p>
</li>
<li>
<p>When a client is inside the cloud, <code>DiscoveryAddressTranslator</code> class
does not look for a public/private address flag. Private address should
be used when the client is inside the cloud. If not, then public address
should be used. [8595]</p>
</li>
<li>
<p><code>MigrationThread</code> can leak after shutting down or even forcefully
terminating Hazelcast. It retains the entire <code>HazelcastInstance</code>. [8560]</p>
</li>
<li>
<p><code>QueueOperation</code> keeps the state between executions. If there is a
state, then it should always be set, if-null-then-set idiom should not
be applied for operation state. [8546]</p>
</li>
<li>
<p>When the connection is made, the connection type is not known yet. But
the connection type is used in the metrics ID; this id is used as soon
as the connection is made. So it defaults to NONE in the method
<code>getMetricsId</code>. It would be better to add a probe <code>`connection type''
and remove the connection type from the method
`TcpIpConnection.getMetricsId</code>. [8540]</p>
</li>
<li>
<p>Commit failure on clients sets the transaction state to ROLLING_BACK,
which makes the transaction non-rollbackable. This is not a problem for
lock-based data structures (map, multimap, etc.) but it is problematic
for collections. State of the transaction should be changed to
COMMIT_FAILED rather than ROLLING_BACK upon a commit failure. [8483]</p>
</li>
<li>
<p><code>MapAttributeConfig</code> cannot be loaded in an OSGi environment. [8482]</p>
</li>
<li>
<p>Using Hazelcast out of the box with no configuration creates a
Peer-to-Peer cluster. As soon as the configuration file <code>hazelcast.xml</code>
is created by the user, in which only the logging type is set, Hazelcast
does not create a cluster but starts in standalone mode. [8481]</p>
</li>
<li>
<p><code>NullPointerException</code> at the method
<code>HazelcastTimeStamper.getNextTimeStamp</code>. [8465]</p>
</li>
<li>
<p>Portable EntryProcessor is not being called on portable objects.</p>
</li>
<li>
<p>In Hazelcast Hibernate modules, there is no JCache dependencies in the
classpath. When Hazelcast is upgraded to 3.7-SNAPSHOT,
<code>java.lang.NoClassDefFoundError: javax/cache/Cache</code> error is thrown when
mocking HazelcastInstance. [8352]</p>
</li>
<li>
<p>The method <code>QueryableEntry.serializationService</code> throws
<code>NullPointerException</code> when MapReduce is run with extractable entries.
Mapping phase of the MapReduce for Portable data formats should be
fixed. [8346]</p>
</li>
<li>
<p>There is an error when configuring Replicated Map. The return of the
method <code>getConfig</code> in <code>ReplicatedMapMBean</code> should be fixed. [8298]</p>
</li>
<li>
<p><code>TargetDisconnectedException</code> is thrown for the clients in
3.7-SNAPSHOT. [8261]</p>
</li>
<li>
<p>TransactionalMap’s <code>removeIfSame</code> test fails. [8238]</p>
</li>
<li>
<p>Distributed Executor Service does not take
<code>ExecutorConfig.isStatisticsEnabled</code> into account. [8223]</p>
</li>
<li>
<p>Using <code>MapStoreConfig</code> in a cluster raises the exception
<code>Transition not allowed from state NOT_LOADED to LOADED</code>. [8196]</p>
</li>
<li>
<p>The method <code>ICache::destroy</code> should remove the cache itself from the
owner <code>CacheManager</code> because, otherwise, it causes memory leaks due to
the cache proxies which are dead but deemed as working, in
<code>AbstractHazelcastCacheManager::caches</code>. [8186]</p>
</li>
<li>
<p>Partition promotion is skipped when a node is terminated during the
commit. [8174]</p>
</li>
<li>
<p>The tests check the messages of <code>InvalidConfigurationExeption`s thrown
by the `XmlConfigBuilder</code>. But these messages are often extracted from
`SAXParseException`s which are localized; Maven build is platform
dependent and fails. [8169]</p>
</li>
<li>
<p>The method <code>IAtomicReference:alter</code> does not persist the changes. When
a reference is tried to be altered, no alteration happens. [8149]</p>
</li>
<li>
<p>Cache should not expire entities when <code>Duration</code> value is 0. [8148]</p>
</li>
<li>
<p>Deserialization of dynamic proxy instances ignores the configured
class loader. [8033]</p>
</li>
<li>
<p>The attribute ``binary'' is missing in the MultiMap configuration
within Spring context. It does not exist in Hazelcast configuration
schema either. [8000]</p>
</li>
<li>
<p>If you setup an interceptor to change the data being inserted, the
entry listeners still fire with the old value. [7991]</p>
</li>
<li>
<p>Unlike the <code>InvocationFuture</code> at the server side,
<code>ClientInvocationFuture</code> immediately propagates <code>InterruptedException</code>
if the calling thread gets interrupted. This can be a problem when both
caller and callee need to agree on whether the operation has executed or
not. [7963]</p>
</li>
<li>
<p>Hazelcast 3.2.6 uses too much CPU when it is idle. [7943]</p>
</li>
<li>
<p>Old version of Portable object from a map cannot be read if new
<code>UTF_ARRAY</code> type field is added. [7926]</p>
</li>
<li>
<p>The method <code>IMap.size()</code> reports a stale result when blocked by the
initialization of <code>MapStore</code>. [7905]</p>
</li>
<li>
<p>Isolated thread pool for priority generic operations. [7857]</p>
</li>
<li>
<p>There is an issue when detecting JCache in the classpath. The
exception <code>NoClassDefFound</code> is thrown when upgrading to a newer
Hazelcast version. [7810]</p>
</li>
<li>
<p>Programmatic configuration of logging for Hazelcast client does not
work. [7764]</p>
</li>
<li>
<p>Better separators should be used in the exceptions for a clearer read
between local and remote stacktraces. [7744]</p>
</li>
<li>
<p>Under the section ``Operation Threading'' of Hazelcast Reference
Manual, it states that the default number of partition-aware operation
threads is (2 x number of cores). However, when looking at the code and
observing the actual number of threads created runtime, it seems like
the default value is instead 1 x number of cores instead. [7741]</p>
</li>
<li>
<p>The method <code>IMap.executeOnKeys()</code> does not support the empty set (it
throws a misleading <code>NullPointerException</code>), and is inconsistent with
the method <code>getAll()</code>. [7631]</p>
</li>
<li>
<p>Replicated map updates take a very long time. The problematic method
is <code>putAll()</code>. The replication logic in this method checks whether the
data owners are in sync with the replicas. If they are not, this logic
syncs them every 30 seconds. This means, when the updates are not
replicated to callers, it takes up to 30 seconds to make all the members
synchronized. This period should be configurable. [7617]</p>
</li>
<li>
<p><code>ScheduledExecutorServiceDelegate</code> violates contract of
<code>ScheduledExecutorService</code>. It wraps tasks in <code>ScheduledTaskRunner</code>
which delegates to a different executor. As a consequence, a task can be
executed concurrently and this is a violation of a contract of
<code>ScheduledExecutorService</code>. [7611]</p>
</li>
<li>
<p>If <code>javax.cache.CacheManager</code> is created with the default settings,
the underlying <code>HazelcastInstance</code> is not shutdown when the method
<code>close</code> is called on the <code>CacheManager</code>. [7606]</p>
</li>
<li>
<p>The method <code>containsKey()</code> of <code>TransactionalMap</code> is blocked when the
key was previously locked by the method <code>getForUpdate()</code>. [7588]</p>
</li>
<li>
<p>There is an inconsistent behavior when removing from
<code>TransactionalMap</code> while the key is locked on IMap. In order to avoid
trying to remove an entry that may have already been removed in another
uncommitted transaction, <code>IMap.tryLock</code> is used before performing
<code>TransactionalMap.remove</code>. This works as expected if the operations
occur on a member. But a <code>TransactionException</code> is thrown when it occurs
on a client when using XA Transaction. [7587]</p>
</li>
<li>
<p>Hazelcast instance should be exposed through
<code>com.hazelcast.spring.cache.HazelcastCacheManager</code>. [7571]</p>
</li>
<li>
<p>Instance name should not be overridden while creating cache manager
from the specified configuration file. Also, it would be better to
specify instance name via
(]<code>HazelcastCachingProvider.HAZELCAST_INSTANCE_NAME</code> property when
instance configuration is taken from the specified configuration file
via <code>HazelcastCachingProvider.HAZELCAST_CONFIG_LOCATION</code>.[7567]</p>
</li>
<li>
<p>The <code>addInterceptor()</code> method in
<code>com.hazelcast.map.impl.MapContainer()</code> is not thread safe. For example,
if two concurrent attempts are made to inject the same interceptor,
these will be different interceptor objects with the same ID. In this
case, the call to <code>interceptorMap.put(id, interceptor)</code> will increase
the map size by one, but the call to <code>interceptors.add(interceptor)</code>
will increase the list size by two. [7520]</p>
</li>
<li>
<p>All JMX Beans disappear when the single Hazelcast instance is shut
down in the same JVM. [7467]</p>
</li>
<li>
<p>There are unused elements for Management Center configuration:
<code>cluster-id</code> and <code>security-token</code>. [7446]</p>
</li>
<li>
<p>For clients, <code>InitialMembershipListener.init</code> is called after
<code>MembershipListener.memberAdded</code>. This contradicts the content in the
Reference Manual. [7430]</p>
</li>
<li>
<p>DiscoveryService’s <code>start</code> and <code>destroy</code> methods should be called
during the start and shutdown of client when Discovery SPI is enabled.</p>
</li>
<li>
<p>Return cache config as response even though found and created cache
config could not put into cache configs inside cache service. [7208]</p>
</li>
<li>
<p>In Hazelcast Management Center shutting down a node seems to prevent a
node from restarting. [7101]</p>
</li>
<li>
<p><code>MapStoreConfig</code> does not override <code>hashCode</code> and <code>equals</code> methods.
Implementation for these two methods should be added. [7035]</p>
</li>
<li>
<p>Data is lost when the member dies during repartitioning. [6628]</p>
</li>
<li>
<p>Some of the map statistics, such as cost and last access time, are
calculated by the traversing map entries. Therefore the calculation time
exceeds the time interval reserved for management center state sending
thread when entry count is too high. [6442], [5905]</p>
</li>
<li>
<p>Eviction with ``eviction-percentage'' does not work. [6432]</p>
</li>
<li>
<p><code>InvocationFuture</code>’s asynchronous calls do not detect the lost
operations. [6250]</p>
</li>
<li>
<p>The invocation mechanism for blocking operations relies on a periodic
timeout so that the operation gets retried. To prevent the calling
thread (the thread for <code>future.get</code>) from waiting indefinitely, it will
periodically ask the <code>isstillrunning</code> service if the operation is lost.</p>
</li>
<li>
<p>Under some circumstances Hazelcast is getting a corrupt value for
`IAtomicLong`s when a member leaves the cluster. [6074]</p>
</li>
<li>
<p>When the client disconnects normally, the server logs an info and a
warning message containing the text <code>java.io.EOFException</code>. [6035]</p>
</li>
<li>
<p>Session ID management error (500 HTTP error) is shown by Hazelcast 3.5
filter based replication. [5660]</p>
</li>
<li>
<p>Some operating systems (such as HPUX or Solaris) and hardware
platforms have constraints about the aligned memory operations. In these
architectures memory operations must be byte-by-byte as implemented in
<code>DirectByteBuffer</code>. [5532]</p>
</li>
<li>
<p>Data is lost when a member crashes or is killed during the
repartitioning. [5444]</p>
</li>
<li>
<p>Data is lost when a member is terminated. Related scenario is as
follows [5388]:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Start the first member, and let it populate a map with 100k entries.</p>
</li>
<li>
<p>Start the second member, and let it start joining the cluster.</p>
</li>
<li>
<p>Terminate the second member during the join operation.</p>
</li>
<li>
<p>Observe that data is lost from the first member.</p>
</li>
</ol>
</div>
</li>
<li>
<p>As for now it is very complicated to listen a <code>getAsync</code> or <code>putAsync</code>
result and to integrate it with completable futures or listenable
futures. An <code>ICompletableFuture</code> should be returned since it is an
interface which seems to extend JDK `future`s and is returned by an
IMap. [5315]</p>
</li>
<li>
<p>If multiple Hazelcast members attempt to remove values from a key of a
multimap concurrently, and then the members are shut down, the multimap
can remain in an inconsistent state with entries remaining after all
have been removed. [5220]</p>
</li>
<li>
<p><code>ClassNotFoundException</code> is thrown when trying to get an entry from a
<code>TransactionalMap</code>. [4969]</p>
</li>
<li>
<p>Profiling a Hazelcast application reveals a thread contention in
<code>SpringManagedContext</code> on <code>java.lang.Class.getAnnotation()</code>. And this
calls a synchronized method called <code>initAnnotationsIfNecessary()</code>.</p>
</li>
<li>
<p>Hazelcast IMap statistics show negative values. After heavy usage of
the cache, the number of misses starts showing up negative. [4022]</p>
</li>
<li>
<p>WebFilter may prevent requests from accessing request input stream.</p>
</li>
<li>
<p><code>WrongTargetException</code> for <code>PollOperation</code> in Queues. [3754]</p>
</li>
<li>
<p>Hazelcast member continuously logs <code>WrongTargetException</code>. [3395]</p>
</li>
<li>
<p>When there is a map with write-behind mode and a map store is
configured (eviction is not needed); when the method <code>flush</code> is called
in the IMap, the map store’s <code>store</code> method can be called concurrently
for the same key, namely for those keys which are in the write-behind
queue and then forcibly stored by the flush. This is because the flush
operation storing all entries in the write-behind queue seems to be
executed in the operation thread, while the periodic processing of the
write-behind queue is done by an executor service defined in the
<code>WriteBehindQueueManager</code>. [3338]</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="removed-deprecated-features-3"><a class="anchor" href="#removed-deprecated-features-3"></a><a class="link" href="#removed-deprecated-features-3">Removed/Deprecated Features</a></h3>
<div class="ulist">
<ul>
<li>
<p><code>WanNoDelayReplication</code> implementation of Hazelcast’s WAN Replication
has been removed. You can still achieve this behavior by setting the
batch size to <code>1</code> while configuring the <code>WanBatchReplication</code>. Please
refer to the
<a href="http://docs.hazelcast.org/docs/3.7/manual/html-single/index.html#defining-wan-replication">Defining
WAN Replication section</a> for more information.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-6-8"><a class="anchor" href="#3-6-8"></a><a class="link" href="#3-6-8">3.6.8</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following is the fixed issue for 3.6.8 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Servers should throw exception when message type is not known. Client
protocol is defined to throw an exception when a client sends a client
message with unknown type to server. [10196], [10202]</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-6-7"><a class="anchor" href="#3-6-7"></a><a class="link" href="#3-6-7">3.6.7</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following is the fixed issue for 3.6.7 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>When loading keys supplied by the user, <code>keyLoaderState</code> should not be
changed. In some cases, <code>MapLoader.loadAll(true)</code> does not reload after
reloading with new keys. [9279]</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-6-6"><a class="anchor" href="#3-6-6"></a><a class="link" href="#3-6-6">3.6.6</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following are the fixed issues for 3.6.6 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>NullPointerException</code> is thrown while deleting an entry through Entry
Processor by setting value to NULL. [9141]</p>
</li>
<li>
<p>Indefinite reads of stale values from near cache should be prevented.</p>
</li>
<li>
<p>Write behind <code>MapStore</code> is not retrying to store an entry
indefinitely. When an entry cannot be persisted, the retry mechanism
stops working after a while. This happens when the distributed map is
configured to use the write-behind mechanism. [8918]</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-6-5"><a class="anchor" href="#3-6-5"></a><a class="link" href="#3-6-5">3.6.5</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following are the fixed issues for 3.6.5 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>When a client is inside the cloud, <code>DiscoveryAddressTranslator</code> class
does not look for a public/private address flag. Private address should
be used when the client is inside the cloud. If not, then public address
should be used. [8595]</p>
</li>
<li>
<p>The method <code>ClusterMergeTask::waitOnFutureInterruptible</code> has an almost
endless loop. [8527]</p>
</li>
<li>
<p>Cluster state should not be allowed to change before startup is
completed. Normally, the method <code>NodeExtension.isStartCompleted()</code>
returns <code>true</code> when a member is joined successfully. However, when Hot
Restart Store is enabled, it returns <code>false</code> until Hot Restart process
completes on the whole cluster. [8523]</p>
</li>
<li>
<p><code>MapPartitionLostListener</code> is not working. Upon migration commit, the
flag <code>SYNC_WAITING_REPLICA</code> should not be overwritten. [8505]</p>
</li>
<li>
<p><code>PartitonServiceBeanDTO</code> always tries to resolve the domain name.
Instead of calling the method <code>getSocketAddress()</code> every time, it can
use the method <code>getLocalAddress()</code>. [8463]</p>
</li>
<li>
<p>Hazelcast Demo application depends on JDK. JRE should be enough on all
platforms. [8445]</p>
</li>
<li>
<p>Excessive logging of <code>is-executing': true</code> checks against long running
operations. [8386]</p>
</li>
<li>
<p>There is a deadlock in <code>MigrationQueue</code>. The internal queue and
counter are not synced in some situations and this causes deadlock.
Usually it happens when there is a migration task failure. [8217]</p>
</li>
<li>
<p>The method <code>ClientSmartInvocationServiceImpl#invokeOnTarget</code> does not
throw <code>TargetNotMemberException</code>. [7997]</p>
</li>
<li>
<p>Access data is not updated by local reads when reading from backup is
enabled. [7354]</p>
</li>
<li>
<p>Missing dependency for JSPC plugin should be added. [297]</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-6-4"><a class="anchor" href="#3-6-4"></a><a class="link" href="#3-6-4">3.6.4</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following are the fixed issues for 3.6.4 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>OperationFactoryWrapper</code> should use <code>callersUUID</code> instead of
overriding on the member side. [8437]</p>
</li>
<li>
<p><code>HazelcastInstanceLoader</code> ignores ``instance-name'' for clients.</p>
</li>
<li>
<p>Usage of <code>GroupProperties</code> in Hibernate modules should be removed.</p>
</li>
<li>
<p>Thread interrupt flag check must be added to <code>StoreWorker</code>. [8345]</p>
</li>
<li>
<p>Partition proxies are created eventually on all members. However, this
is an async process driven by the eventing system. If a member does not
have a proxy in its registry, then it will not fire
<code>MapPartitionLostListener</code>. Before firing a partition lost event,
proxies should be waited to be created. [8293]</p>
</li>
<li>
<p>Ensure skipping previously removed <code>CacheEntryListenerConfiguration</code>
entries while iterating over added <code>CacheEntryListenerConfiguration`s in
the `CacheConfig</code> to register listeners. [8283]</p>
</li>
<li>
<p>Hazelcast instance is started without problems but Management Center
does not launch and throws an exception when bundled Jetty is used with
Java versions 1.8.0_91 and higher. [8248]</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-6-3"><a class="anchor" href="#3-6-3"></a><a class="link" href="#3-6-3">3.6.3</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following are the fixed issues for 3.6.3 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>MapStatisticsAwareService</code> should obtain the map names from proxy
registry. [8209]</p>
</li>
<li>
<p>Cache should not expire the entities when <code>Duration</code> value is set to
<code>0</code>. [8148], [8206]</p>
</li>
<li>
<p>Collection querying in Portables. [8172]</p>
</li>
<li>
<p>Type extraction by the method <code>extractedMultiResult</code> should be fixed
when the extraction result is null. [8134]</p>
</li>
<li>
<p>Expiration time for the map entries should be calculated based on
their latest update times. [8111], [8113]</p>
</li>
<li>
<p>Support for the usage of IAM role’s defaults should be added. [8100]</p>
</li>
<li>
<p>Binary property for MultiMap should be added to XmlConfigBuilder.</p>
</li>
<li>
<p>EC2 auto-discovery in China throws an exception due to a bug in host
header handling mechanism. [8073]</p>
</li>
<li>
<p>The method <code>Cluster.shutdown()</code> ignores lifecycle listeners. [8070]</p>
</li>
<li>
<p>Resource adapters should not cast to implementation when using a
container to get a connection. [8019]</p>
</li>
<li>
<p>Unnecessary deserialization step during the execution of put
operations should be removed. [8018]</p>
</li>
<li>
<p>A URL text with spaces should not be transformed into a URI. [8016]</p>
</li>
<li>
<p>Unnecessary deserialization step in the replicated map data structure
should be removed. [8014]</p>
</li>
<li>
<p>When using <code>InstanceOfPredicate</code>, the method <code>toObject</code> at the server
side causes <code>NullPointerException</code>, since the class loader is not set
and it is null. Default class loader should be used if it is not set by
the configuration to avoid the exception. [7977]</p>
</li>
<li>
<p>There may be cases when the server may return a list of entries larger
than the requested page size. In this case the client should not put any
anchor into the list that is on a page greater than the requested page.</p>
</li>
<li>
<p>When a remote invocation waits indefinitely on the internal executor,
a deadlock may occur since its response would use the same executor and
since the invocation monitor runs on the same executor. [7944]</p>
</li>
<li>
<p>Already published messages should be retrieved after
<code>StaleSequenceException</code> occurs when <code>ReliableMessageListener</code> is
registered at the client side. [7928]</p>
</li>
<li>
<p>The case of response being equal to null in the class
<code>ClientDelegatingFuture</code> should be handled. [7901]</p>
</li>
<li>
<p>Detection of JCache should be improved. Currently Hazelcast checks if
the class <code>javax.cache.Caching</code> is available and, if so, Hazelcast
creates the JCache service and configures the client protocol messages.
However, some older snapshots of JCache JARs have the Caching class
available, but other classes are missing. This causes <code>Class not found</code>
exceptions when members are started. [7899]</p>
</li>
<li>
<p>When connection gets an exception from the socket and the method
<code>destroyConnection</code> is called before connection is authenticated, the
client does not have an endpoint and it is not in the map of
connections. Hence, the connection cannot be closed. [7866]</p>
</li>
<li>
<p>Upon subsequent destroy and create operations of IMap, there can be
more than one map container referenced by different record stores at the
same time. Therefore, indexes can be created in an unexpected map
container and this can lead to return less than expected number of
results when IMap is queried. [7838]</p>
</li>
<li>
<p>After the client is shut down, there should be no invocations left.
The method <code>assert()</code> of <code>ClientInvocationServiceSupport</code> fails. [7836]</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following are the enhancements performed for 3.6.3 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Phone home should include environment information, such as the
operating system name, version and kernel architecture. [7970]</p>
</li>
<li>
<p>Exceptions, which are thrown when the method <code>isMemberSafe()</code> is
called, should go into finest level. When there are topology changes
some exceptions are expected. The method <code>getFutureResult()</code> should log
exceptions as <code>finest()</code>, not <code>warn()</code>. [7904]</p>
</li>
<li>
<p>Protocol version should be 1 instead of 0. It was set as 0 for the
response messages. [7900]</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-6-2"><a class="anchor" href="#3-6-2"></a><a class="link" href="#3-6-2">3.6.2</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following are the fixed issues for 3.6.2 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Upon subsequent destroy and creation of IMap, there is a possibility
that there can be more than one map-containers referenced by different
record-stores at the same time. Hence, indexes can be created in an
unexpected map-container and this can lead to return less than expected
number of results when IMap is queried. [7874]</p>
</li>
<li>
<p>Couple of issues related to client should be fixed: (a) There should
be no invocations left after client is shut down. (b) When the
client-member connection gets an exception from the socket and the
method <code>destroyConnection</code> is called before the connection is
authenticated, the client does not have an endpoint and it is not in the
connections map anymore. Connection cannot be closed because of this.
(c) Authentication <code>future</code> waits infinitely. Because of (b), heartbeat
does not work on that connection yet. [7867]</p>
</li>
<li>
<p>In Hazelcast 3.6.1, the OSGi bundle install fails. [7772]</p>
</li>
<li>
<p>Timeout happens at the <code>ClientMapBasicTest</code>. [7718]</p>
</li>
<li>
<p>IMap does not send invalidations to the client’s near caches after
<code>putAll</code>/<code>loadAll</code> operations at member side. [7715]</p>
</li>
<li>
<p>The test <code>ClientXAStressTest.testCommitConcurrently</code> fails due to an
assertion error that reads as ``the size of the map is not correct''.</p>
</li>
<li>
<p>The test <code>ClientTransactionalMapQuorumTest</code> fails since it timed out.</p>
</li>
<li>
<p>Wildcards do not work with permissions. For example, when a queue
permission is defined using wildcard, i.e.
<code>&lt;queue-permission name="secure.*" principal="admin"&gt;</code> and the queue
<code>secure.orders</code> is created at the client, Hazelcast throws
<code>AccessControlException</code>. [7616]</p>
</li>
<li>
<p>The FREE_HEAP_PERCENTAGE eviction policy does not work as documented
because the <code>EvictionChecker</code> is incorrectly calculating available
memory percentage in <code>checkFreeHeapPercentageEviction</code>. [7599]</p>
</li>
<li>
<p><code>DiscoveryStrategy</code>’s <code>destroy()</code> method is not called on shutdown.</p>
</li>
<li>
<p>The method <code>MapStore.storeAll()</code> is never called when the objects are
updated with a delay. [7464]</p>
</li>
<li>
<p>WebFilter(3.6-RC1): Session attributes are lost or overwritten with
old values when using <code>deferred-write</code> by reading them. [7291]</p>
</li>
<li>
<p>The method <code>HazelcastHttpSession.getAttributeNames()</code> returns entries
that were only read but not written. [7033]</p>
</li>
<li>
<p>Hazelcast 3.5.3 conflicts with FUSE 6.1. When Hazelcast is integrated
into a system with JBoss Fuse 6.1, there appeared some warnings in the
logs. [6821]</p>
</li>
<li>
<p>An exception is thrown on the server when attempting to deserialize
<code>HIBERNATE4_TYPE_HIBERNATE_CACHE_ENTRY</code> value. [6683]</p>
</li>
<li>
<p>The test <code>IOBalancerMemoryLeakTest.testMemoryLeak</code> fails due to a
socket exception that reads as ``unexpected end of file from server''.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following are the enhancements performed for 3.6.2 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Hazelcast Docker images are big in size; it would be better to clean
them up and reduce their sizes. [7553]</p>
</li>
<li>
<p>It would be better to provide an <code>enterprise-javadoc.jar</code> in the
Hazelcast Enterprise bundle. This way IDEs can auto-import the Javadocs
for the Enterprise APIs and provide context sensitive completion/help
within the IDE. [7245]</p>
</li>
<li>
<p>Management Center WAN Replication metrics take a long time to
stabilize. The responsiveness of the Outbound records/sec. metric should
be improved. It currently seems to under-report WAN replication
performance for 10s of seconds before reaching the same figure as the
client side reported metrics.[7244]</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-6-1"><a class="anchor" href="#3-6-1"></a><a class="link" href="#3-6-1">3.6.1</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following are the fixed issues for 3.6.1 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Hazelcast 3.6 fails to create <code>ObjectName</code> for an instance created
with JCache API. [7548]</p>
</li>
<li>
<p>The test
<code>com.hazelcast.client.spi.impl.ClientInvocationTest.executionCallback_FailOnShutdown</code>
fails. [7462]</p>
</li>
<li>
<p>There are failures in <code>SystemClockChangeTest</code>. [7444]</p>
</li>
<li>
<p>When you use EntryProcessor with a map interceptor, it does not get
the correct value. [7414]</p>
</li>
<li>
<p>Backup records also increase the owned cache entry count but they
should be ignored. Cache statistics show incorrect entry count via the
method <code>getOwnedEntryCount</code>. [7403]</p>
</li>
<li>
<p>When getting values from <code>PredicateSupplier</code>, the method
<code>DistinctValueAggregation.DistinctValueMapper.map()</code> throws a
<code>ClassCastException</code>. [7398]</p>
</li>
<li>
<p>Timeout is not enough for the test
<code>TransferStressTest.testLargePackets</code>. [7393]</p>
</li>
<li>
<p>There are failures in the test
<code>ClientExceptionFactoryTest.testException</code>. [7360]</p>
</li>
<li>
<p>The method <code>getReplicationImplObject</code> in <code>WanTargetClusterConfig</code> is
not used. [7353]</p>
</li>
<li>
<p>Entry processor and map put/remove tests in WAN replication module
fail. [7352]</p>
</li>
<li>
<p>Hazelcast namespace for Spring configuration does not support
Discovery SPI. [6913]</p>
</li>
<li>
<p>When Hazelcast Spring configuration is used for the client and if a
serialization configuration is present in the Spring client, then the
client hangs forever during the authentication method. [5815]</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-6"><a class="anchor" href="#3-6"></a><a class="link" href="#3-6">3.6</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section lists the new features, enhancements and fixed issues for
3.6 release.</p>
</div>
<div class="sect2">
<h3 id="new-features-5"><a class="anchor" href="#new-features-5"></a><a class="link" href="#new-features-5">New Features</a></h3>
<div class="paragraph">
<p>The following are the new features introduced with 3.6 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>High-Density Memory Store for Hazelcast Map</strong>: With this release,
Hazelcast Map data structure is now equipped with the High-Density
Memory Store, previously implemented for Hazelcast JCache. Please refer
to the
<a href="http://docs.hazelcast.org/docs/3.6/manual/html-single/index.html#setting-in-memory-format">Setting
In Memory Format section</a>.</p>
</li>
<li>
<p><strong>Discovery Service Provider Interface (Discovery SPI)</strong>: You can use
this SPI to discover Hazelcast instances on cloud environments provided
by jclouds®, Kubernetes and many more. The existing discovery mechanisms
that Hazelcast provides (Multicast, TCP/IP and Amazon EC2) have been
re-implemented on top of this new Discovery SPI. Please refer to the
<a href="http://docs.hazelcast.org/docs/3.6/manual/html-single/index.html#discovery-spi">Discovery
SPI section</a>.</p>
</li>
<li>
<p><strong>Client Protocol</strong>: This feature presents the Hazelcast’s new open
binary client protocol. Please refer to <a href="http://hazelcast.org/documentation/">Open Binary Client Protocol
Documentation</a>.</p>
</li>
<li>
<p><strong>Client Cross Version Compatibility</strong>: Now you can upgrade your
Hazelcast clients independently from servers and other clients. Please
refer to <a href="http://hazelcast.org/documentation/">Open Binary Client Protocol
Documentation</a>.</p>
</li>
<li>
<p><strong>Support for cloud providers through jclouds®</strong>: Hazelcast now supports
deployments on all the well-known cloud providers through the jclouds®
open source library. Please refer to the
<a href="http://docs.hazelcast.org/docs/3.6/manual/html-single/index.html#discovering-members-with-jclouds">Discovering
Members with jclouds section</a>.</p>
</li>
<li>
<p><strong>Hot Restart Persistence</strong>: This new feature provides fast restarting
of the Hazelcast clusters. This is achieved by storing the state of the
cluster members to the disk. Please refer to the
<a href="http://docs.hazelcast.org/docs/3.6/manual/html-single/index.html#hot-restart-persistence">Hot
Restart Persistence section</a> for more details.</p>
</li>
<li>
<p><strong>Ringbuffer and Reliable Topic in Hazelcast Clients</strong>: The data
structures Ringbuffer and Reliable Topic recently introduced by
Hazelcast (with the release 3.5) are now implemented for Hazelcast Java
Client. Ringbuffer has also been implemented for .NET Client.</p>
</li>
<li>
<p><strong>Cluster Quorum for Hazelcast JCache</strong>: Cluster Quorum checks are now
provided for Hazelcast JCache implementations, too. Please refer to the
<a href="http://docs.hazelcast.org/docs/3.6/manual/html-single/index.html#defining-a-cluster-quorum">Defining
a Cluster Quorum section</a> to refresh and to the
<a href="http://docs.hazelcast.org/docs/3.6/manual/html-single/index.html#icache-configuration">ICache
Configuration section</a> to learn configuring it for JCache.</p>
</li>
<li>
<p><strong>Split Brain Syndrome handler for Hazelcast JCache</strong>: Now Split Brain
Syndrome is handled in JCache as it is taken care in Hazelcast Map.
Please refer to the
<a href="http://docs.hazelcast.org/docs/3.6/manual/html-single/index.html#jcache-split-brain">JCache
Split-Brain section</a>.</p>
</li>
<li>
<p><strong>Partition Lost Listener for Hazelcast JCache</strong>: You can listen to
partition lost events fired in your Hazelcast JCache implementation.
Please refer to the
<a href="http://docs.hazelcast.org/docs/3.6/manual/html-single/index.html#icache-configuration">ICache
Configuration section</a>.</p>
</li>
<li>
<p><strong>Hazelcast Docker image</strong>: Now you can run Hazelcast using our image in
the Docker platform. Please refer to
<a href="http://docs.hazelcast.org/docs/3.6/manual/html-single/index.html#deploying-using-docker">Deploying
using Docker</a>.</p>
</li>
<li>
<p><strong>Lite Members</strong>: With the re-introduction of Hazelcast Lite Members (it
was removed starting with Hazelcast 3.0 release), you are able to
specify certain members in your cluster so that they do not store data.
You can use these lite members mostly for your task executions and
listener registrations. Please refer to
<a href="http://docs.hazelcast.org/docs/3.6/manual/html-single/index.html#enabling-lite-members">Enabling
Lite Members</a>.</p>
</li>
<li>
<p><strong>Querying in collections and arrays</strong>: Hazelcast is now able to query
and index attributes of objects stored in a collection or array. Please
refer to the
<a href="http://docs.hazelcast.org/docs/3.6/manual/html-single/index.html#querying-in-collections-and-arrays">Querying
in collections section</a>.</p>
</li>
<li>
<p><strong>Custom attributes extraction</strong>: It is now possible to extract a value
of an object’s attribute using a custom extractor class. Please refer to
the
<a href="http://docs.hazelcast.org/docs/3.6/manual/html-single/index.html#custom-attributes">Custom
attributes</a>.</p>
</li>
<li>
<p><strong>Acquiring locks with a lease time</strong>: Now, you can try to acquire locks
with a lease time. Please refer to the the comment for the method
<code>tryLock()</code> in
<a href="https://github.com/hazelcast/hazelcast/blob/master/hazelcast/src/main/java/com/hazelcast/core/ILock.java">ILock
code</a>.</p>
</li>
<li>
<p><strong>Monitoring the WAN replication</strong>: You can now monitor the state of
your WAN replications using the Hazelcast Management Center. Please
refer to the
<a href="http://docs.hazelcast.org/docs/3.6/manual/html-single/index.html#monitoring-wan-replication">Monitoring
WAN Replication section</a>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="enhancements-7"><a class="anchor" href="#enhancements-7"></a><a class="link" href="#enhancements-7">Enhancements</a></h3>
<div class="paragraph">
<p>The following are the enhancements introduced with 3.6 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Replicated Map improvements</strong>: The implementation of Hazelcast
replicated maps has been revisited. Please especially refer to the
<a href="http://docs.hazelcast.org/docs/3.6/manual/html-single/index.html#considerations-for-replicated-map">Considerations
for Replicated Map section</a>.</p>
</li>
<li>
<p><strong>Management Center improvements</strong>: Alerting mechanism added. Please
refer to the
<a href="http://docs.hazelcast.org/docs/3.6/manual/html-single/index.html#management-center">Management
Center section</a>.</p>
</li>
<li>
<p><strong>Paging Predicate improvements</strong>: With the performed improvements, now
random page accessing is supported. Please refer to the
<a href="http://docs.hazelcast.org/docs/3.6/manual/html-single/index.html#filtering-with-paging-predicates">Filtering
with Paging Predicates section</a>.</p>
</li>
<li>
<p><strong>Rule based query optimizations</strong>: This improvement introduces a query
optimizer based on static rewriting rules. The optimizer treats
predicates as immutable and returns a modified copy when the optimized
one is found. Please refer to the <code>hazelcast.query.optimizer.type</code>
property definition in the
<a href="http://docs.hazelcast.org/docs/3.6/manual/html-single/index.html#system-properties">System
Properties section</a>.</p>
</li>
<li>
<p><strong>WAN replication improvements</strong>: With the improvements performed on
Hazelcast’s WAN replication feature, you can now monitor WAN replication
events for each data structure and WAN replication now supports
different acknowledge types for each target cluster group. Please refer
to the
<a href="http://docs.hazelcast.org/docs/3.6/manual/html-single/index.html#wan-replication-event-filtering-api">WAN
Replication Event Filtering API section</a> and
<a href="http://docs.hazelcast.org/docs/3.6/manual/html-single/index.html#wan-replication-acknowledge-types">WAN
Replication Acknowledge Types section</a> for more information.</p>
</li>
<li>
<p><strong>Improvements on Hazelcast’s OSGI support</strong>: With this improvement,
Hazelcast bundles provide OSGI services so that the users can manage
(create, access, shutdown) the Hazelcast instances through this service
on OSGI environments. Having the <code>hazelcast.osgi.start</code> property
enabled, when an Hazelcast OSGI service is activated, a default
Hazelcast instance is created automatically. These instances can be
served as an OSGI service to be accessed by other bundles. Registering
the created Hazelcast instances behavior is enabled by default and can
be disabled using the <code>hazelcast.osgi.register.disabled</code> property. Each
Hazelcast bundle provides a different OSGI service and their instances
can be grouped (clustered) together to prevent possible compatibility
issues between different Hazelcast versions/bundles. This grouping
behavior is enabled by default and can be disabled using the
<code>hazelcast.osgi.grouping.disabled</code> property. Hazelcast OSGI service’s
lifecycle (and also the owned/created instances’ lifecycles) are the
same as the owner Hazelcast bundles. When the bundle is stopped
(deactivated), owned service and Hazelcast instances are also
deactivated/shutdown and deregistered automatically. Then, when the
bundle is re-activated, its service is registered again. In addition,
the Hazelcast Enterprise JAR file is also an OSGI bundle like the
Hazelcast OSS JAR file.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following are the other improvements performed to solve the
enhancement issues opened by the Hazelcast customers/team.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>On WAN Replication Queue overrun, a <code>WANReplicationQueueFullException</code>
is expected, but instead, the client receives an
<code>UndefinedErrorCodeException</code>. [7241]</p>
</li>
<li>
<p>Approximate <code>max-size</code> calculation should be removed for IMap
eviction. [6463]</p>
</li>
<li>
<p><code>SpringAwareWebFilter</code> should have a constructor which takes
properties as arguments. [6438]</p>
</li>
<li>
<p>Client side and server side cache proxies handle <code>putAll</code> operation
one by one. This is not efficient. Records for this operation should be
grouped as per their partitions and should be sent and processed in
batches. [6367]</p>
</li>
<li>
<p>Not requested events should not be sent to <code>MapListener</code> [6349]</p>
</li>
<li>
<p>Inconsistent and potentially buggy design in <code>BasicCompletableFuture</code>.</p>
</li>
<li>
<p>Starting with ``hazelcast-wm 3.3'', OSGI Manifest Spring package
imports should be optional. [6072]</p>
</li>
<li>
<p>The new client determines the partition ID for every invocation for
data structures like queue and list where the partition ID is static.
There is no need for this behavior. It should calculate the partition ID
for once when the proxy is created and continue to re-use it. [5848]</p>
</li>
<li>
<p><code>Map.Entry</code> supplied to Entry Processor is not Serializable any more.</p>
</li>
<li>
<p>The configuration file <code>minimal-json</code> with the provided scope is not
picked up by the <em>shade</em> plugin. [5543]</p>
</li>
<li>
<p>In Spring configuration, when a boolean property is injected for
<em>hazelcast</em> bean (<code>&lt;hz:hazelcast:&#8230;&#8203;.&lt;/hz:hazelcast</code>) a <code>SAXParse</code>
exception is thrown. [5528]</p>
</li>
<li>
<p>Currently, key/value pairs are deserialized prior to the execution of
entry processor by default. This leads to the need of domain object at
the server side, even if entry processor never uses it. [5301]</p>
</li>
<li>
<p>In Spring XML configuration, the attributes of <code>socket-options</code> should
be of type <code>xs:string</code>. [4700]</p>
</li>
<li>
<p><code>ClientMembershipEvent</code> does not need to have the <code>member</code> field.</p>
</li>
<li>
<p>Hazelcast has <code>lock</code> with lease time feature but does not support
<code>tryLock</code> with lease time. [1564]</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="fixes-8"><a class="anchor" href="#fixes-8"></a><a class="link" href="#fixes-8">Fixes</a></h3>
<div class="paragraph">
<p>The following are the fixed issues solved for 3.6 release.</p>
</div>
<div class="paragraph">
<p><strong>3.6 Fixes</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Lock requests hang forever after a split-brain recovery: When a member
hangs a few minutes, the cluster assumes that this frozen member as dead
and the master kicks it. When the frozen member comes back, after some
time they figure out it was a split-merge back activity. Problem is,
some of the lock requests hang forever without a timeout after the
merge. That means some of the previously acquired locks cannot be
released and hang in the cluster infinitely; no one can acquire them and
there is no one to release them anymore. [8647]</p>
</li>
<li>
<p>In the manifest file, <code>org.jclouds.*</code> should be marked as optional
dependencies. [7318]</p>
</li>
<li>
<p>Tests are needed for <code>WanReplicationPublisherDelegate</code>,
<code>WanReplicationEvent</code>, <code>MapReplicationUpdate</code> and
<code>AbstractMultipleEntryBackupOperation</code> in the Open Source WAN API.</p>
</li>
<li>
<p>Invocation of quorum listener requires at least an attempt to perform
a map operation. But it should not require this; just the crash of nodes
should be enough to use the quorum mechanism. [7300]</p>
</li>
<li>
<p>Owned entry count to be used as the expected near cache hit count
should be calculated by checking the partition ownership in the
<code>NearCacheTest::testGetAll</code>. [7285]</p>
</li>
<li>
<p>The parameter <code>minEvictionCheckMillis</code> controls the maximum frequency
of evictions. It is 100ms by default. It means at most 1 eviction is
executed in a 100ms interval. No other <code>put()</code> operation within this
interval triggers an eviction. So, if the put rate is greater than 1 per
100ms, then the number of entries is growing regardless of the
<code>max-size-policy</code>. This eventually triggers a forced eviction which will
prevent <code>OutOfMemoryException</code>. Forced evictions are only hiding this
issue. Another possible solution is to keep the default interval as it
is and apply batching: When X eviction cycles are skipped due the
<code>minEvictionCheckMillis</code> parameter, then during the next cycle X + 1
entries should be evicted instead of just 1. [7268]</p>
</li>
<li>
<p>Descriptions of some maximum size policies defined in the
<code>com.hazelcast.config.EvictionConfig.MaxSizePolicy</code> and
<code>com.hazelcast.config.MaxSizeConfig.MaxSizePolicy</code> are not clear and
confusing. They should be clarified. [7267]</p>
</li>
<li>
<p>Tests under <code>TopicOverloadDistributedTest</code> are spuriously failing even
on the local machine. They need to be reviewed. [7266]</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>3.6-RC1 Fixes</strong></p>
</div>
<div class="paragraph">
<p>This section lists the enhancements and fixed issues for 3.6-RC1
(Release Candidate 1) release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Javadoc for <code>IMap.putAll()</code> does not mention the lack of atomicity in
the invocation. [7256]</p>
</li>
<li>
<p>When a WAN Queue overrun occurs (with exception enabled), the source
cluster logs an excessive amount of noise. This should to be logged.</p>
</li>
<li>
<p>When using Hazelcast as a JCache provider: As JSR-107 Javadoc states,
an update should not reset expiry time for <code>CreatedExpiryPolicy</code>.
However, when a cache entry is updated, it does not expire. [7236]</p>
</li>
<li>
<p>Default WAN acknowledge type should be <code>ACK_ON_RECEIPT</code>. [7160]</p>
</li>
<li>
<p><code>NullPointerException</code> is thrown in
<code>ClientRegressionWithMockNetworkTest</code>. [7148]</p>
</li>
<li>
<p>Changing clusters in the Management Center does not update/refresh the
cluster members in the Scripting tab. [7119]</p>
</li>
<li>
<p>A fix is needed for operation retries in
<code>PartitionCheckIfLoadedOperation</code>. [7114]</p>
</li>
<li>
<p>WAN Queue counts in the Management Center for Hazelcast 3.6-EA3 are
not correct. [7100]</p>
</li>
<li>
<p>Hazelcast 3.6 Reference Manual is not correct for its Enterprise WAN
Replication content. [7099]</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>3.6-EA3 Fixes</strong></p>
</div>
<div class="paragraph">
<p>This section lists the enhancements and fixed issues for 3.6-EA3 (Early
Access 3) release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>NullPointerException</code> is thrown for the thread <code>cached4</code> in a test
which uses <code>MapLoader</code>. [7098]</p>
</li>
<li>
<p>The method <code>loadInternal</code> of <code>MapProxySupport</code> requires <code>dataKeys</code>.
Hence, a serialization step should be added to <code>MapProxy.loadAll()</code>.</p>
</li>
<li>
<p>Near cache heap cost calculation is not proper when the cache gets
concurrent misses. [7057]</p>
</li>
<li>
<p><code>IQueue</code> accepts null values from the Hazelcast Java client. [7048]</p>
</li>
<li>
<p><code>WriteBehindMapStore</code> for a map that has <code>OBJECT</code> as the in-memory
format causes the entry processors to serialize the objects. [7040]</p>
</li>
<li>
<p>Latest code does not include the file
<code>com.hazelcast.client.impl.protocol.codec.CacheContainsKeyCodec</code> and
build fails. [7019]</p>
</li>
<li>
<p>Two members of a cluster become masters and ignore each other. [7016]</p>
</li>
<li>
<p><code>AbstractCacheRecordStore</code> should update the field <code>isOwner</code> while it
is being cleared after migration. [6983]</p>
</li>
<li>
<p>There are memory leaks in the local map statistics and near cache
invalidation queues. The map containers also leak memory caused either
by the near cache invalidation mechanism (when re-creating objects to
check whether the near cache is enabled) or
<code>MapPartitionDestroyOperation</code> (when re-creating objects and trying to
the backup count). [6972]</p>
</li>
<li>
<p>When the <code>lite-member</code> flag is used within the Spring context, its
<code>enabled</code> attribute does not work properly. [6945]</p>
</li>
<li>
<p><code>LoadAllTask</code> for the client and server side cache proxies should also
handle the <code>Throwable</code>, not just the <code>Exception</code>. [6944]</p>
</li>
<li>
<p>The <code>enable</code> attribute of the <code>partition-group</code> element in the
<code>Hazelcast-Spring.xsd</code> scheme should have the type <code>string</code>, not
<code>boolean</code>. [6927]</p>
</li>
<li>
<p>There is a left-over method in the Discovery SPI configuration, namely
<code>addDiscoveryProviderConfig</code>. [6911]</p>
</li>
<li>
<p><code>InMemoryFormat.OBJECT</code> does not work with the <code>max-size</code> policies
<code>USED_HEAP_SIZE</code> and <code>USED_HEAP_PERCENTAGE</code>. [6875]</p>
</li>
<li>
<p><code>PublicAddressTest</code> has been ignored due to the running time. [6858]</p>
</li>
<li>
<p><code>NullPointerException</code> is thrown in <code>ClientExecutionPoolSizeLowTest</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>3.6-EA2 Fixes</strong></p>
</div>
<div class="paragraph">
<p>This section lists the enhancements and fixed issues for 3.6-EA2 (Early
Access 2) release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>MapLoader may insert null values into IMap causing memory leak. [6830]</p>
</li>
<li>
<p>When replicated map entries are migrated to a new destination; TTL
eviction should be scheduled, eviction should be retried when a failure
caused by the migration happens and the sync interval should be
increased. [6799]</p>
</li>
<li>
<p>There is a logical error in the method <code>Ringbuffer.readManyAsync()</code>
when <code>minSize = 0</code>. In this case, the Ringbuffer is not read and nothing
is returned. [6787]</p>
</li>
<li>
<p>When a listener’s registration is made from the listener
configuration, an error occurs during the listener initialization.</p>
</li>
<li>
<p>Remaining cache invalidation messages should be flushed on the
<code>ICacheService</code> while the member is in the <code>SHUTTING_DOWN</code> state. [6778]</p>
</li>
<li>
<p>When a client cannot send a request to one of the connections,
<code>TargetNotMemberException</code> is thrown. This name is confusing the
Hazelcast users. [6766]</p>
</li>
<li>
<p><code>ClassCastException</code> is thrown when using <code>Timestamp</code> within
<code>DataSerializable</code>. [6759]</p>
</li>
<li>
<p>The method <code>destroyDistributedObject()</code> of <code>ReplicatedMapService</code>
iterates over partition containers and record stores and destroys them.
While destroying, record store calls <code>destroyDistributedObject()</code> which
leads to an infinite loop. [6754]</p>
</li>
<li>
<p>Hazelcast does not inject its instance into <code>HazelcastInstanceAware</code>
registered via classname. [6697]</p>
</li>
<li>
<p>There is a sporadic startup failure in 3.6-EA. [6684]</p>
</li>
<li>
<p>There is no need to use <code>CacheLoader</code> inside the client/server side
cache proxies. [6676]</p>
</li>
<li>
<p>Fixed wrong calculation of eviction removal size when <code>PER_NODE</code>
<code>max-size</code> policy is used. [6671]</p>
</li>
<li>
<p>If the cluster state is not active <code>RepartitioningTask</code> should not be
triggered. Otherwise, it causes infinite retries and prevents the member
from shutdown. [6663]</p>
</li>
<li>
<p>There are broken XML configuration tests in the Hazelcast client
package. [6633]</p>
</li>
<li>
<p>There is a memory leak since the method <code>publishBathcedEvents</code> does
not remove the events from <code>batchEvent</code>. [6618]</p>
</li>
<li>
<p>Custom credentials class is not de-serialized on the server side.</p>
</li>
<li>
<p>Lite member element should be added to the Hazelcast Spring
configuration. [6605]</p>
</li>
<li>
<p><code>EntryListener</code> shows the unprocessed value in combination with
<code>PostProcessingMapStore</code>. [6588]</p>
</li>
<li>
<p>Clients cannot submit <code>HazelcastInstanceAware</code> callables. [6570]</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>3.6-EA Fixes</strong></p>
</div>
<div class="paragraph">
<p>The following are the issues solved for Hazelcast 3.6-EA (Early Access)
release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The method <code>map.size()</code> waits indefinitely after the shutdown of a
node. [6538]</p>
</li>
<li>
<p><code>HazelcastCachingProvider</code> does not use the specified instance (by the
object) when <code>instance-name</code> is not specified. [6454]</p>
</li>
<li>
<p><code>onExecutionFailure</code> should be called before returning from <code>run</code>, if
backup is not valid. [6420]</p>
</li>
<li>
<p><code>OperationThread.priorityPendingCount()</code> should return
<code>scheduleQueue.prioritySize()</code> instead of <code>scheduleQueue.normalSize()</code>.</p>
</li>
<li>
<p>There is a growth in heap usage caused by a memory leak in the
following scenario: A node in the cluster regularly creates maps and
puts entries into it, again in regular intervals. Another node removes
the entries minutes after they were put, and if the map is empty, it
destroys the map. [6317]</p>
</li>
<li>
<p>Currently, there is an <code>EntryEvictedListener</code> that is notified both
for expiration and eviction events. There should be a separate listener
for expired entries: eviction happens due to size constraints, and
expiry is once the entry has expired. [6311]</p>
</li>
<li>
<p>`InvocationFuture`s async calls do not detect the lost operations.</p>
</li>
<li>
<p>When the method <code>setBooleanAttribute</code> of the class <code>Member</code> is run,
Null Pointer Exception is occurred on <code>STDOUT</code>. The problem is in the
method <code>sendMemberAttributeEvent</code> of the class <code>ClusterServiceImpl</code>.</p>
</li>
<li>
<p><code>IOBalancer</code> keeps references of all the socket reader/writers but
when destroying the connection, they release the references for only the
ones which has endpoints. This causes a memory leak. [6199]</p>
</li>
<li>
<p><code>ILIKE</code> and <code>Regex</code> examples should be added to the Reference Manual
under the ``Supported SQL Syntax'' section. [6190]</p>
</li>
<li>
<p><code>GroupProperty</code> defaulting does not work properly when programmatic
configuration is used. [6174]</p>
</li>
<li>
<p>When integrating Hazelcast in Spring Boot: if <code>HazelcastInstance</code> is
created using the default <code>newHazelcastInstance</code> static method, then an
<code>HazelcastInstance</code> whose <code>Config</code> has a valid <code>configurationUrl</code>
property is created. However, <code>XmlBuilder</code> does not set this URL in the
configuration it parses. [6061]</p>
</li>
<li>
<p>Hazelcast’s latest snapshot run fails due to the introduction of
<code>ClientExceptionFactory</code> which has been developed for exception
processing and working well in that sense. [6010]</p>
</li>
<li>
<p>The class <code>HazelcastXATest</code> has only fast and slow modes (nothing in
between) and possibly due to this, sometimes a transaction is waiting
for a timeout. Either the transaction recovery or the test class itself
is racy. [5923]</p>
</li>
<li>
<p>A memory leak occurs when a listener is added and removed from client.
A <code>`remove'' runnable in the collection that is stored in
`ClientEndpointImpl</code> is the leftover. This runnable collection is used
to cleanup the listeners when client is disconnected, it should be
removed too after the listener is removed. [5893]</p>
</li>
<li>
<p>The class <code>CacheRemoveAllOperation</code> does not send the <code>`completed''
event in some cases, e.g. if `CacheRecordStore</code> for that partition is
not created yet or if the filtered keys are empty. [5865]</p>
</li>
<li>
<p>In the class <code>MapProxyImpl</code>, the methods <code>executeOnKey</code> and
<code>submitToKey</code> create an <code>EntryOperation</code> with the thread ID set. This
does not happen with the class <code>ClientMapProxy</code>. Therefore, the class
<code>MapExecuteOnKeyRequest</code> should take a thread ID and set this on the
generated <code>EntryOperation</code>. [5857]</p>
</li>
<li>
<p>The method <code>IndexImpl.getRecords()</code> fails with Null Pointer Exception
due to the inconsistency between the <code>not(&#8230;&#8203;equals())</code> and
<code>notEquals()</code>. [5807]</p>
</li>
<li>
<p>The method <code>HazelcastHttpSession.getAttribute()</code> for WebFilter does
not work when <code>deferredWrite</code> is set to <code>true</code>. [5798]</p>
</li>
<li>
<p>When <code>hazelcast.nio.faststring</code> is enabled, <code>UTFEncoderDecoder</code> tries
to create a <code>FastStringCreator</code>. However, if the reflection is not
available due to the security manager, <code>buildFastStringCreator</code> returns
null and consequently <code>StringCreator</code> becomes null. [5777]</p>
</li>
<li>
<p><code>hazelcast-jca-rar/pom.xml</code> references to <code>src/main/rar/ra.xml</code> which
does not exist. [5760]</p>
</li>
<li>
<p>The Maven profile <code>mvn clean compile -Pqa</code> does not exist but it is
documented in the README of Hazelcast. [5746]</p>
</li>
<li>
<p><code>PerformanceLogFile</code> only compiles if JDK 1.7 or above is used. [5729]</p>
</li>
<li>
<p>Currently, for every deserialization a <code>BufferObjectDataInput</code> is
created. This generates waste since it is created with an array of data
for every deserialization. The <code>BufferObjectDataOutput</code> is already
cached; the input should use a similar approach. [5562]</p>
</li>
<li>
<p>When any entities are defined as read only in the Hibernate L2 cache,
an invalidation of the cache (such as caused by executing a native
SQLQuery) leads to the error <code>UnsupportedOperationException</code>. [5562]</p>
</li>
<li>
<p>The performance impacts of TWO_PHASE and LOCAL transaction types
should be documented. [5075]</p>
</li>
<li>
<p>Client requests are very inefficient when determining the partition
ID. [4940]</p>
</li>
<li>
<p>The method <code>keySet()</code> relies on <code>QueryOperation</code>. The <code>QueryOperation</code>
does not accept <code>IterationType</code> - it always returns both keys and
values. This can lead to unnecessary load and potentially even an OOM
exception. [4642]</p>
</li>
<li>
<p>Hazelcast is stuck in TIMED_WAITING when used as 2nd level cache for
Hibernate. [4406]</p>
</li>
<li>
<p>Management Center license loading problem when REST API is used. [189]</p>
</li>
<li>
<p>Executor monitoring in Management Center does not show the
``cancelled'' operations" [177]</p>
</li>
<li>
<p>When an alert for a data structure (map, queue, etc.) with its
specific name is created, a <code>NullPointerException</code> is thrown after the
cluster is reset. [175]</p>
</li>
<li>
<p>Default directory name is hardcoded as ``mancenter3.5'' and it needs
to be maintained for every major release. This process should be
dynamic. [174]</p>
</li>
<li>
<p>Throughput statistics for Map shows nothing when the <code>putAll()</code> method
is used. [159]</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-5-5"><a class="anchor" href="#3-5-5"></a><a class="link" href="#3-5-5">3.5.5</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following are the issues solved for Hazelcast 3.5.5 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>When <code>hazelcast.jmx</code> option is enabled, MBeans are created for every
Hazelcast object but they are never removed. When destroying Hazelcast
object with the method <code>destroy()</code>,
<code>DistributedObjectEvent::getDistributedObject()</code> throws
<code>DistributedObjectDestroyedException</code> and stops the process of
unregistering MBeans. MBeans are left forever causing memory leaks and
they can be seen in VisualVM.
<a href="https://github.com/hazelcast/hazelcast/issues/7329">[#7329</a>]</p>
</li>
<li>
<p><code>IdGenerator</code> sometimes generates duplicate IDs if it is put under
stress. <a href="https://github.com/hazelcast/hazelcast/issues/7299">[#7299</a>]</p>
</li>
<li>
<p>The method <code>IAtomicLong.compareAndSet()</code> does not properly backup its
updated state. In a two node cluster, if you use this method and then
shutdown the owner of the <code>IAtomicLong</code>, the remaining node no longer
sees the updated value.
<a href="https://github.com/hazelcast/hazelcast/issues/7290">[#7290</a>]</p>
</li>
<li>
<p><code>InvocationMonitor</code> checks for the same invocations continuously.
<a href="https://github.com/hazelcast/hazelcast/issues/7170">[#7170</a>]</p>
</li>
<li>
<p>The methods <code>IMap.getAsync</code> and <code>IMap.putAsync</code> should update the
statistics <code>getCount</code> and <code>putCount</code>, etc.
<a href="https://github.com/hazelcast/hazelcast/issues/7109">[#7109</a>]</p>
</li>
<li>
<p><code>NullPointerException</code> is thrown for
<code>CoalescedWriteBehindQueue.removeFirstOccurrence()</code>.
<a href="https://github.com/hazelcast/hazelcast/issues/7082">[#7082</a>]</p>
</li>
<li>
<p>The quorum definition in the Spring context is not correct.
<a href="https://github.com/hazelcast/hazelcast/issues/6946">[#6946</a>]</p>
</li>
<li>
<p>While publishing events, IMap operations convert the value to data
even if the registered listener does not request the value.
<a href="https://github.com/hazelcast/hazelcast/issues/6866">[#6866</a>]</p>
</li>
<li>
<p>Map entry event listeners are not invoked on the clients of WAN
replication target cluster.
<a href="https://github.com/hazelcast/hazelcast/issues/6802">[#6802</a>]</p>
</li>
<li>
<p>The method <code>putAsync</code> does not affect
<code>LocalMapStats.getPutOperationCount()</code>.
<a href="https://github.com/hazelcast/hazelcast/issues/6731">[#6731</a>]</p>
</li>
<li>
<p>Possible memory leak when using <code>IMap.containsKey</code>. Problem happens
when <code>containsKey</code> is used for a value that exists in the <code>MapStore</code>.
Entry is loaded from the store but it does not get added to the map (no
event is triggered in this case), eventually the system crashes with no
memory. <a href="https://github.com/hazelcast/hazelcast/issues/6517">[#6517</a>]</p>
</li>
<li>
<p>Performance test with Spring Batch throws
<code>TargetDisconnectedException</code>.
<a href="https://github.com/hazelcast/hazelcast/issues/4230">[#4230</a>]</p>
</li>
<li>
<p>Web session replication does not work as expected during a shutdown.
<a href="https://github.com/hazelcast/hazelcast/issues/3362">[#3362</a>]</p>
</li>
<li>
<p>The parameter <code>session-ttl-seconds</code> is set after the instance
creation. It should be set before the instance is created.
<a href="https://github.com/hazelcast/hazelcast/issues/2377">[#2377</a>]</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-5-4"><a class="anchor" href="#3-5-4"></a><a class="link" href="#3-5-4">3.5.4</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following are the issues solved for Hazelcast 3.5.4 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Fixed wrong calculation of eviction removal size when <code>PER_NODE</code>
<code>max-size</code> policy is used.
<a href="https://github.com/hazelcast/hazelcast/pull/6674">[#6674</a>]</p>
</li>
<li>
<p>Lazy deserialization is required while events are being processed.
<a href="https://github.com/hazelcast/hazelcast/issues/6582">[#6582</a>]</p>
</li>
<li>
<p>Thread Dumps freeze in the Management Center. It shows the same thread
dumps for all connected members, same traces and same thread IDs. And
they are shown on the same line numbers.
<a href="https://github.com/hazelcast/hazelcast/issues/6536">[#6536</a>]</p>
</li>
<li>
<p>In Hazelcast 3.4.*, the methods
<code>migrationStarted</code>/<code>migrationCompleted</code> were only called once when a
partition migration was done. But in 3.5, these methods are called twice
for each partition.
<a href="https://github.com/hazelcast/hazelcast/issues/6396">[#6396</a>]</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-5-3"><a class="anchor" href="#3-5-3"></a><a class="link" href="#3-5-3">3.5.3</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following are the fixed issues for Hazelcast 3.5.3 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>ClientInvocationFuture</code> may hang when the deserialized response is
null. <a href="https://github.com/hazelcast/hazelcast/issues/6363">[#6363</a>].</p>
</li>
<li>
<p>The method <code>CacheStatisticsImpl::getAverageRemoveTime()</code> uses the
<code>get'' count on the cache but it must use the </code>remove'' count.
<a href="https://github.com/hazelcast/hazelcast/issues/6314">[#6314</a>].</p>
</li>
<li>
<p>Hazelcast <code>console.sh</code> should support changing namespaces that contain
space characters.
<a href="https://github.com/hazelcast/hazelcast/issues/6307">[#6307</a>].</p>
</li>
<li>
<p>The client fails to properly reconnect to a single node cluster after
the Hazelcast server is restarted.
<a href="https://github.com/hazelcast/hazelcast/issues/6168">[#6168</a>].</p>
</li>
<li>
<p>Transactional Queue ordering on rollback can be violated. The reason
is that the <code>QueueContainer</code> does not rollback the changes in the order
that is opposite to the order of the items when they were added. It is a
random order due to the fact that the changes are stored in a hashmap.
<a href="https://github.com/hazelcast/hazelcast/issues/6156">[#6156</a>].</p>
</li>
<li>
<p>When a field, that is only available in a subclass of an interface, is
indexed, Null Pointer Exception is thrown.
<a href="https://github.com/hazelcast/hazelcast/issues/6151">[#6151</a>].</p>
</li>
<li>
<p>Extra <code>\r\n</code> in the body of the REST API responses causing warnings.
<a href="https://github.com/hazelcast/hazelcast/issues/6144">[#6144</a>].</p>
</li>
<li>
<p>Near cache on the client size for replicated map does not get
invalidated after replicated map changes.
<a href="https://github.com/hazelcast/hazelcast/issues/5508">[#5694</a>].</p>
</li>
<li>
<p><code>IList.iterator()</code> and <code>listIterator()</code> do not support the method
<code>iterator.remove()</code>.
<a href="https://github.com/hazelcast/hazelcast/issues/5508">[#5508</a>].</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following are the enhancements performed for Hazelcast 3.5.3
release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Cache statistics are only supported at the server side and exposed by
<code>CacheProxy</code>. At the client side, cache statistics are not calculated
and supported so <code>UnsupportedOperationException</code> is thrown at
<code>ClientCacheProxy</code>
<a href="https://github.com/hazelcast/hazelcast/issues/6262">[#6262</a>].</p>
</li>
<li>
<p>Added <code>iam-role</code> support to Hazelcast Cloud module. So users can use
Hazelcast Cloud module without configuring access keys.
<a href="https://github.com/hazelcast/hazelcast/issues/2630">[#6262</a>].</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-5-2"><a class="anchor" href="#3-5-2"></a><a class="link" href="#3-5-2">3.5.2</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following are the fixed issues for Hazelcast 3.5.2 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>There is a performance issue: Even when the Spring boot application is
doing nothing, CPU consumption is very high. A thread named
<code>`.hazelcast-wm.ensureInstance'' consumes CPU around 70% because of the
method `ClusteredSessionService.run()</code>
<a href="https://github.com/hazelcast/hazelcast/issues/6052">[#6052</a>].</p>
</li>
<li>
<p>MapLoader blocks the entire partition when loading a single entry
<a href="https://github.com/hazelcast/hazelcast/issues/5818">[#5818</a>].</p>
</li>
<li>
<p>The method <code>IMap.getAll</code> by-passes interceptors in the Hazelcast 3.3
and higher versions
<a href="https://github.com/hazelcast/hazelcast/issues/5775">[#5775</a>].</p>
</li>
<li>
<p><code>AWSJoiner</code> fails for the regions except us-east-1
<a href="https://github.com/hazelcast/hazelcast/issues/5653">[#5653</a>].</p>
</li>
<li>
<p>Getting an instance of <code>sun.misc.Unsafe</code> class does not work on HP-UX
operating system
<a href="https://github.com/hazelcast/hazelcast/issues/5518">[#5518</a>].</p>
</li>
<li>
<p><code>AWSAddressTranslator</code> always uses the default region and this causes
the HazelcastClient to be unable to join a Hazelcast AWS cluster in a
non-default region
<a href="https://github.com/hazelcast/hazelcast/issues/5446">[#5446</a>].</p>
</li>
<li>
<p>The test code <code>JettyWebFilterTest.java</code> does not fail properly
<a href="https://github.com/hazelcast/hazelcast/issues/5188">[#5188</a>].</p>
</li>
<li>
<p>Management Center behaves unfriendly when map entries increase
<a href="https://github.com/hazelcast/hazelcast/issues/4895">[#4895</a>].</p>
</li>
<li>
<p>In <code>hazelcast-client.xml</code>, if the region is configured but
<code>host-header</code> is not provided, the configuration gives a default
endpoint value of <code>ec2.amazonaws.com</code>. It should give, for example,
<code>ec2.eu-west-1.amazonaws.com</code> when the region is eu-west-1 and
<code>host-header</code> is not provided
<a href="https://github.com/hazelcast/hazelcast/issues/4731">[#4731</a>].</p>
</li>
<li>
<p>Too much CPU is used when Hazelcast is idle
<a href="https://github.com/hazelcast/hazelcast/issues/81">[#81</a>].</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-5-1"><a class="anchor" href="#3-5-1"></a><a class="link" href="#3-5-1">3.5.1</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following are the fixed issues for Hazelcast 3.5.1 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Hazelcast Management Center uses <code>UpdateMapConfigOperation</code> to update
map configurations. This operation simply replaces the map configuration
of the related map container. However, this replacement has no effect
for <code>maxIdleSeconds</code> and <code>timeToLiveSeconds</code> properties of the map
configuration since they are not used in the map container directly.
They are assigned to the final variables during map container creation
and never touched again
<a href="https://github.com/hazelcast/hazelcast/issues/5593">[#5593</a>].</p>
</li>
<li>
<p>Destroying a map just after creating it produces double create/destroy
events for <code>DistributedObjectListener</code>
<a href="https://github.com/hazelcast/hazelcast/issues/5592">[#5592</a>].</p>
</li>
<li>
<p>Map does not allow changing its maximum size, TTL and maximum idle
properties. However, these fields are editable in the ``Map Config''
popup of Management Center. These fields should be disabled to prevent
misguiding <a href="https://github.com/hazelcast/hazelcast/issues/5591">[#5591</a>].</p>
</li>
<li>
<p>Map is destroyed using <code>IMap.destroy()</code> but then it is immediately
recreated <a href="https://github.com/hazelcast/hazelcast/issues/5554">[#5554</a>].</p>
</li>
<li>
<p>There should be a better calculation when calling the method
<code>getApproximateMaxSize()</code> related to casting. Its return type is <code>int</code>
and this causes the map entries to be evicted all the time when, for
example, the eviction policy for an IMap is set to heap percentage with
the value 1%
<a href="https://github.com/hazelcast/hazelcast/issues/5516">[#5516</a>].</p>
</li>
<li>
<p>All <code>onResponse()</code> calls on a <code>MultiExecutionCallback</code> should be made
before the method <code>onComplete()</code> is called. There exists a race
condition in <code>ExecutionCallbackAdapterFactory</code> which permits the method
<code>onComplete()</code> to be called before all <code>onResponse()</code> calls are made
<a href="https://github.com/hazelcast/hazelcast/issues/5490">[#5490</a>].</p>
</li>
<li>
<p>Hazelcast Management Center ``Scripting'' tab is not refreshed when a
new node joins to the cluster
<a href="https://github.com/hazelcast/hazelcast/issues/4738">[#4738</a>].</p>
</li>
<li>
<p>When updating a map entry which is replicated over WAN, the TTL (time
to live) is not honored in the remote cluster map. When the timeout
expires, the entry disappears from the cluster in which the key is
owned, however it remains in the remote cluster
<a href="https://github.com/hazelcast/hazelcast/issues/254">[#254</a>].</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following are the enhancements performed for Hazelcast 3.5.1
release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Client instances should spawn threads with their instance names added
as prefix <a href="https://github.com/hazelcast/hazelcast/issues/5671">[#5671</a>].</p>
</li>
<li>
<p>The method
<code>com.hazelcast.spi.impl.classicscheduler.ResponseThread::process</code> may
catch throwables. When this occurs, it logs an unhelpful message, and
ignores the actual exception. This method should be improved to
additionally log the cause, or at least the exception class and message
<a href="https://github.com/hazelcast/hazelcast/issues/5619">[#5619</a>].</p>
</li>
<li>
<p>The element <code>min-eviction-check-millis</code> in the map configuration does
not exist in documentation
<a href="https://github.com/hazelcast/hazelcast/issues/5614">[#5614</a>].</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-5"><a class="anchor" href="#3-5"></a><a class="link" href="#3-5">3.5</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section lists the new features, enhancements and fixed issues for
3.5 release.</p>
</div>
<div class="sect2">
<h3 id="new-features-6"><a class="anchor" href="#new-features-6"></a><a class="link" href="#new-features-6">New Features</a></h3>
<div class="paragraph">
<p>The following are the new features introduced with 3.5 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Async Back Pressure</strong>: The Back Pressure introduced with Hazelcast 3.4
now supports async operations. For more information, please see the
<a href="http://docs.hazelcast.org/docs/3.5/manual/html-single/index.html#back-pressure">Back
Pressure section</a>.</p>
</li>
<li>
<p><strong>Client Configuration Import</strong>: Hazelcast now supports replacing
variables with system properties in the declarative configuration of
Hazelcast client. Moreover, now you can compose the Hazelcast client
declarative configuration out of smaller configuration snippets. For
more information, please see the
<a href="http://docs.hazelcast.org/docs/3.5/manual/html-single/index.html#composing-declarative-configuration">Composing
Declarative Configuration section</a>.</p>
</li>
<li>
<p><strong>Cluster Quorum</strong>: This feature enables you to define the minimum
number of machines required in a cluster for the cluster to remain in an
operational state. For more information, please see the
<a href="http://docs.hazelcast.org/docs/3.5/manual/html-single/index.html#cluster-quorum">Cluster
Quorum section</a>.</p>
</li>
<li>
<p><strong>Hazelcast Client Protocol</strong>: Starting with 3.5, Hazelcast introduces
the support for different versions of clients in a cluster. Please keep
in mind that this support is not valid for the releases before 3.5.
Please see the important note at the last paragraph of the
<a href="http://docs.hazelcast.org/docs/3.5/manual/html-single/index.html#hazelcast-java-client">Hazelcast
Java Client chapter’s</a> introduction.</p>
</li>
<li>
<p><strong>Listener for Lost Partitions</strong>: This feature notifies you for possible
data loss occurrences. Please see the
<a href="http://docs.hazelcast.org/docs/3.5/manual/html-single/index.html#partition-lost-listener">Partition
Lost Listener section</a> and
<a href="http://docs.hazelcast.org/docs/3.5/manual/html-single/index.html#mappartitionlostlistener">MapPartitionLostListener
section</a>.</p>
</li>
<li>
<p><strong>Increased Visibility of Slow Operations</strong>: With the introduction of
the <code>SlowOperationDetector</code> feature, slow operations are logged and can
be seen on the Hazelcast Management Center. Please see the
<a href="http://docs.hazelcast.org/docs/3.5/manual/html-single/index.html#slowoperationdetector">SlowOperationDetector
section</a> and
<a href="http://docs.hazelcast.org/docs/3.5/manual/html-single/index.html#members">Management
Center:Members section</a>.</p>
</li>
<li>
<p><strong>Enterprise WAN Replication</strong>: Hazelcast Enterprise implementation of
the WAN Replication. Please see the
<a href="http://docs.hazelcast.org/docs/3.5/manual/html-single/index.html#enterprise-wan-replication">Enterprise
WAN Replication section</a>.</p>
</li>
<li>
<p><strong>Sub-Listener Interfaces for Map Listener</strong>: This feature enables you
to listen to map-wide or entry-based events. With this new feature, the
listener formerly known as <code>EntryListener</code> has been changed to
<code>MapListener</code> and <code>MapListener</code> has sub-interfaces to catch map/entry
related events. Please see the
<a href="http://docs.hazelcast.org/docs/3.5/manual/html-single/index.html#map-listener">Map
Listener section</a> for more information.</p>
</li>
<li>
<p><strong>Scalable Map Loader</strong>: With this feature, you can load your keys
incrementally if the number of your keys is large. Please see the
<a href="http://docs.hazelcast.org/docs/3.5/manual/html-single/index.html#incremental-key-loading">Incremental
Key Loading section</a>.</p>
</li>
<li>
<p><strong>Near Cache for JCache</strong>: Now you can use a near cache with Hazelcast’s
JCache implementation. Please see
<a href="http://docs.hazelcast.org/docs/3.5/manual/html-single/index.html#jcache-near-cache">JCache
Near Cache</a> for details.</p>
</li>
<li>
<p><strong>Fail Fast on Invalid Configuration</strong>: With this feature, Hazelcast
throws a meaningful exception if there is an error in the declarative or
programmatic configuration. Please see the note at the end of the
<a href="http://docs.hazelcast.org/docs/3.5/manual/html-single/index.html#configuration-overview">Configuration
Overview section</a>.</p>
</li>
<li>
<p><strong>Continuous Query Caching</strong>: (Enterprise only, since 3.5) Provides an
always up to date view of an IMap according to the given predicate.
Please see the
<a href="http://docs.hazelcast.org/docs/3.5/manual/html-single/index.html#continuous-query-cache">Continuous
Query Cache section</a></p>
</li>
<li>
<p>Dynamic Selector Rebalancing</p>
</li>
<li>
<p>Management of Unbounded Return Values</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="enhancements-8"><a class="anchor" href="#enhancements-8"></a><a class="link" href="#enhancements-8">Enhancements</a></h3>
<div class="paragraph">
<p>The following are the enhancements introduced with 3.5 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Eventing System Improvements</strong>: RingBuffer and Reliable Topic
structures are introduced.</p>
</li>
<li>
<p><strong>XA Transactions Improvements</strong>: With this improvement, you can now
obtain a Hazelcast XA Resource instance through <code>HazelcastInstance</code>. For
more information, please see
<a href="http://docs.hazelcast.org/docs/3.5/manual/html-single/index.html#xa-transactions">XA
Transactions</a>.</p>
</li>
<li>
<p><strong>Query and Indexing Improvements</strong></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following are the other improvements performed to solve the
enhancement issues opened by the Hazelcast customers/team.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>While configuring JCache, duration of the <code>ExpiryPolicy</code> can be set
programmatically but not declaratively
<a href="https://github.com/hazelcast/hazelcast/issues/5347">[#5347</a>].</p>
</li>
<li>
<p>Since near cache is not supported as embedded but only at client, at
the moment, there is no need for <code>NearCacheConfig</code> in <code>CacheConfig</code>
<a href="https://github.com/hazelcast/hazelcast/issues/5215">[#5215</a>].</p>
</li>
<li>
<p>Support for parametrized test is needed
<a href="https://github.com/hazelcast/hazelcast/issues/5182">[#5182</a>].</p>
</li>
<li>
<p><code>SlowOperationDetector</code> should have an option to not to log the
stacktraces to the log file. There is no need to have the stacktraces
written to the normal log file if the Hazelcast Management Center or the
performance monitor is being used
<a href="https://github.com/hazelcast/hazelcast/issues/5043">[#5043</a>].</p>
</li>
<li>
<p>The batch launcher should include the JCache API
<a href="https://github.com/hazelcast/hazelcast/issues/4902">[#4902</a>].</p>
</li>
<li>
<p>There are no Spring tags available for Native Memory configuration
<a href="https://github.com/hazelcast/hazelcast/issues/4772">[#4772</a>].</p>
</li>
<li>
<p>In the class <code>BasicInvocationFuture</code>, there is no need to create an
additional <code>AtomicInteger</code> object. It should be replaced with
<code>AtomicIntegerFieldUpdater</code>
<a href="https://github.com/hazelcast/hazelcast/issues/4408">[#4408</a>].</p>
</li>
<li>
<p>There is no need to use the class <code>IsStillExecutingOperation</code> to check
if an operation is running locally. One can directly access to the
scheduler <a href="https://github.com/hazelcast/hazelcast/issues/4407">[#4407</a>].</p>
</li>
<li>
<p>Configuring NearCache in a Client/Server system only talks about the
programmatic configuration of NearCache on the clients. The declarative
configuration (XML) of the same is not mentioned
<a href="https://github.com/hazelcast/hazelcast/issues/4376">[#4376</a>].</p>
</li>
<li>
<p>XML schema and XML configuration validation is not compliant for AWS
configuration
<a href="https://github.com/hazelcast/hazelcast/issues/4310">[#4310</a>].</p>
</li>
<li>
<p>The JavaDoc for the methods <code>KeyValueSource.hasNext/element/key</code> and
<code>Iterator.hasNext/next</code> should emphasize the differences between each
other, i.e. the state changing behavior should be clarified
<a href="https://github.com/hazelcast/hazelcast/issues/4218">[#4218</a>].</p>
</li>
<li>
<p>While migration is in progress, the nodes will have different
partition state versions. If the query is running at that time, it can
get results from the nodes at different stages of the migration. By
adding partition state version to the query results, it can be checked
whether the migration was happening and the query can be re-run
<a href="https://github.com/hazelcast/hazelcast/issues/4206">[#4206</a>].</p>
</li>
<li>
<p>XML Config Schema does not allow to set a <code>SecurityInterceptor</code>
Implementation
<a href="https://github.com/hazelcast/hazelcast/issues/4118">[#4118</a>].</p>
</li>
<li>
<p>Currently, certain types of remote executed calls are stored into the
<code>executingCalls</code> map. The key (and value) is a <code>RemoteCallKey</code> object.
The functionality provided is the ability to ask on the remote side if
an operation is still executing. For a partition-aware operation, this
is not needed. When an operation is scheduled by a partition specific
operation thread, the operation can be stored in a volatile field in
that thread <a href="https://github.com/hazelcast/hazelcast/issues/4079">[#4079</a>].</p>
</li>
<li>
<p>The class <code>TcpIpJoinerOverAWS</code> fails at AWS’ recently launched
eu-central-1 region. The reason for the fail is that the region requires
v4 signatures
<a href="https://github.com/hazelcast/hazelcast/issues/3963">[#3963</a>].</p>
</li>
<li>
<p>API change in <code>EntryListener</code> breaks the compatibility with the Camel
Hazelcast component
<a href="https://github.com/hazelcast/hazelcast/issues/3859">[#3859</a>].</p>
</li>
<li>
<p>The <code>hazelcast-spring-&lt;`<em>version</em></code>&gt;.xsd` should include the User
Defined Services (SPI) elements and attributes
<a href="https://github.com/hazelcast/hazelcast/issues/3565">[#3565</a>].</p>
</li>
<li>
<p>XA Transactions run on multiple threads
<a href="https://github.com/hazelcast/hazelcast/issues/3385">[#3385</a>].</p>
</li>
<li>
<p>Hazelcast client fails to connect when you provide variables from the
system properties
<a href="https://github.com/hazelcast/hazelcast/issues/3270">[#3270</a>].</p>
</li>
<li>
<p>Entry listeners are not called when the entries are modified by WAN
replication <a href="https://github.com/hazelcast/hazelcast/issues/2981">[#2981</a>].</p>
</li>
<li>
<p>Map wildcard matching is confusing. There should be a pluggable
wildcard configuration resolver
<a href="https://github.com/hazelcast/hazelcast/issues/2431">[#2431</a>].</p>
</li>
<li>
<p>The method <code>loadAllKeys()</code> in map is not scalable
<a href="https://github.com/hazelcast/hazelcast/issues/2266">[#2266</a>].</p>
</li>
<li>
<p>Back pressure feature should be added
<a href="https://github.com/hazelcast/hazelcast/issues/1781">[#1781</a>].</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="fixes-9"><a class="anchor" href="#fixes-9"></a><a class="link" href="#fixes-9">Fixes</a></h3>
<div class="paragraph">
<p>The following are the issues solved for Hazelcast 3.5 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Operation timeout mechanism is not working
<a href="https://github.com/hazelcast/hazelcast/issues/5468">[#5468</a>].</p>
</li>
<li>
<p><code>MapLoader</code> exception is not logged: Exception should be logged and
propagated back to the client that triggered the loading of the map
<a href="https://github.com/hazelcast/hazelcast/issues/5430">[#5430</a>].</p>
</li>
<li>
<p>Replicated Map documentation page does not mention that it is in the
beta stage <a href="https://github.com/hazelcast/hazelcast/issues/5424">[#5424</a>].</p>
</li>
<li>
<p>The method <code>XAResource.rollback()</code> should not need the transaction to
be in the prepared state when called from another member/client
<a href="https://github.com/hazelcast/hazelcast/issues/5401">[#5401</a>].</p>
</li>
<li>
<p>The method <code>XAResource.end()</code> should not need to check <code>threadId</code>
<a href="https://github.com/hazelcast/hazelcast/issues/5400">[#5400</a>].</p>
</li>
<li>
<p>The method <code>IList::remove()</code> should publish the event <code>REMOVED</code>
<a href="https://github.com/hazelcast/hazelcast/issues/5386">[#5386</a>].</p>
</li>
<li>
<p><code>IllegalStateException</code> with wrong partition is thrown when the method
<code>IMap::getOperation()</code> is invoked
<a href="https://github.com/hazelcast/hazelcast/issues/5341">[#5341</a>].</p>
</li>
<li>
<p><code>WrongTarget</code> warnings appear in the log since the operations are not
sent to the replicas when a map has no backups
<a href="https://github.com/hazelcast/hazelcast/issues/5324">[#5324</a>].</p>
</li>
<li>
<p>When the method <code>finalizeCombine()</code> is used, Hazelcast throws
<code>NullPointerException</code>
<a href="https://github.com/hazelcast/hazelcast/issues/5283">[#5283</a>].</p>
</li>
<li>
<p><code>WanBatchReplication</code> causes <code>OutOfMemoryException</code> when the default
value for WAN Replication Batch Size (50) is used
<a href="https://github.com/hazelcast/hazelcast/issues/5280">[#5280</a>].</p>
</li>
<li>
<p>When testing Hazelcast, it does not start as an OSGI bundle. After the
OSGI package was refactored, the dynamic class loading of the Script
engine was missed
<a href="https://github.com/hazelcast/hazelcast/issues/5274">[#5274</a>].</p>
</li>
<li>
<p>XA Example from Section 11.3.5 in the Reference Manual broken after
the latest XA Improvements are committed
<a href="https://github.com/hazelcast/hazelcast/issues/5273">[#5273</a>].</p>
</li>
<li>
<p>XA Transaction throws <code>TransactionException</code> instead of an
<code>XAException</code> on timeout
<a href="https://github.com/hazelcast/hazelcast/issues/5260">[#5260</a>].</p>
</li>
<li>
<p>The test for unbounded return values runs forever with the new client
implementation
<a href="https://github.com/hazelcast/hazelcast/issues/5230">[#5230</a>].</p>
</li>
<li>
<p>The new client method <code>getAsync()</code> fails with a
<code>NegativeArraySizeException</code>
<a href="https://github.com/hazelcast/hazelcast/issues/5229">[#5229</a>].</p>
</li>
<li>
<p>The method <code>putTransient</code> actuated the MapStore unexpectedly in an
environment with multiple instances
<a href="https://github.com/hazelcast/hazelcast/issues/5225">[#5225</a>].</p>
</li>
<li>
<p>Changes made by the interceptor do not appear in the backup
<a href="https://github.com/hazelcast/hazelcast/issues/5211">[#5211</a>].</p>
</li>
<li>
<p>The method <code>removeAttribute</code> will prevent any updates by the method
<code>setAttribute</code> in the deferred write mode
<a href="https://github.com/hazelcast/hazelcast/issues/5186">[#5186</a>].</p>
</li>
<li>
<p>Backward compatibility of eviction configuration for cache is broken
since <code>CacheEvictionConfig</code> class was renamed to <code>EvictionConfig</code> for
general usage
<a href="https://github.com/hazelcast/hazelcast/issues/5180">[#5180</a>].</p>
</li>
<li>
<p>Value passed into <code>ICompletableFuture.onResponse()</code> is not
deserialized
<a href="https://github.com/hazelcast/hazelcast/issues/5158">[#5158</a>].</p>
</li>
<li>
<p>Map Eviction section in the Reference Manual needs more clarification
<a href="https://github.com/hazelcast/hazelcast/issues/5120">[#5120</a>].</p>
</li>
<li>
<p>When host names are not registered in DNS or in <code>/etc/hosts</code> and the
members are configured manually with IP addresses and while one node is
running, a second node joins to the cluster 5 minutes after it started
<a href="https://github.com/hazelcast/hazelcast/issues/5072">[#5072</a>].</p>
</li>
<li>
<p>The method <code>OperationService.asyncInvokeOnPartition()</code> sometimes fails
<a href="https://github.com/hazelcast/hazelcast/issues/5069">[#5069</a>].</p>
</li>
<li>
<p>The <code>SlowOperationDTO.operation</code> shows only the class name, not the
package. This can lead to ambiguity and the actual class cannot be
tracked <a href="https://github.com/hazelcast/hazelcast/issues/5041">[#5041</a>].</p>
</li>
<li>
<p>There is no documentation comment for the <code>MessageListener</code> interface
of ITopic <a href="https://github.com/hazelcast/hazelcast/issues/5019">[#5019</a>].</p>
</li>
<li>
<p>The method <code>InvocationFuture.isDone</code> returns <code>true</code> as soon as there
is a response including <code>WAIT_RESPONSE</code>. However, <code>WAIT_RESPONSE</code> is an
intermediate response, not a final one
<a href="https://github.com/hazelcast/hazelcast/issues/5002">[#5002</a>].</p>
</li>
<li>
<p>The method <code>InvocationFuture.andThen</code> does not deal with the null
response correctly
<a href="https://github.com/hazelcast/hazelcast/issues/5001">[#5001</a>].</p>
</li>
<li>
<p><code>CacheCreationTest</code> fails due to the multiple
<code>TestHazelcastInstanceFactory</code> creations in the same test
<a href="https://github.com/hazelcast/hazelcast/issues/4987">[#4987</a>].</p>
</li>
<li>
<p>When Spring dependency is upgraded to 4.1.x, an exception related to
the <code>putIfAbsent</code> method is thrown
<a href="https://github.com/hazelcast/hazelcast/issues/4981">[#4981</a>].</p>
</li>
<li>
<p>HazelcastCacheManager should offer a way to access the underlying
cache manager
<a href="https://github.com/hazelcast/hazelcast/issues/4978">[#4978</a>].</p>
</li>
<li>
<p>Hazelcast Client code allows to use the value <em>0</em> for the
<code>connectionAttemptLimit</code> property which internally results in
<code>int.maxValue</code>. However, the XSD of the Hazelcast Spring configuration
requires it to be at least 1
<a href="https://github.com/hazelcast/hazelcast/issues/4967">[#4967</a>].</p>
</li>
<li>
<p>Updates from Entry Processor does not take <code>write-coalescing</code> into
account <a href="https://github.com/hazelcast/hazelcast/issues/4957">[#4967</a>].</p>
</li>
<li>
<p>CachingProvider does not honor custom URI
<a href="https://github.com/hazelcast/hazelcast/issues/4943">[#4943</a>].</p>
</li>
<li>
<p>Test for the method <code>getLocalExecutorStats()</code> fails spuriously
<a href="https://github.com/hazelcast/hazelcast/issues/4911">[#4911</a>].</p>
</li>
<li>
<p>Missing documentation of network configuration for JCache
<a href="https://github.com/hazelcast/hazelcast/issues/4905">[#4905</a>].</p>
</li>
<li>
<p>Slow operation detector throws a <code>NullPointerException</code>
<a href="https://github.com/hazelcast/hazelcast/issues/4855">[#4855</a>].</p>
</li>
<li>
<p>Consider use of <code>System.nanoTime</code> in <code>sleepAtLeast</code> test code
<a href="https://github.com/hazelcast/hazelcast/issues/4835">[#4835</a>].</p>
</li>
<li>
<p>When upgraded to 3.5-SNAPSHOT for testing, Hazelcast project gives a
warning that mentions a missing configuration for
<code>hazelcastmq.txn-topic</code>
<a href="https://github.com/hazelcast/hazelcast/issues/4790">[#4790</a>].</p>
</li>
<li>
<p><code>ClassNotFoundException</code> when using WAR classes with JCache API
<a href="https://github.com/hazelcast/hazelcast/issues/4775">[#4775</a>].</p>
</li>
<li>
<p>When Hazelcast is installed using Maven in Windows environment, the
test <code>XmlConfigImportVariableReplacementTest</code> fails
<a href="https://github.com/hazelcast/hazelcast/issues/4758">[#4758</a>].</p>
</li>
<li>
<p>When a request cannot be executed due to a problem (connection error,
etc.), if the operation redo is enabled, request is retried. Retried
operations are offloaded to an executor, but after offloading, the user
thread still tries to retry the request. This causes anomalies like
operations being executed twice or operation responses being handled
incorrectly <a href="https://github.com/hazelcast/hazelcast/issues/4693">[#4693</a>].</p>
</li>
<li>
<p>Client destroys all connections when a reconnection happens
<a href="https://github.com/hazelcast/hazelcast/issues/4692">[#4692</a>].</p>
</li>
<li>
<p>The <code>size()</code> method for a replicated map should return <code>0</code> when the
entry is removed
<a href="https://github.com/hazelcast/hazelcast/issues/4666">[#4666</a>].</p>
</li>
<li>
<p><code>NullPointerException</code> on the <code>CachePutBackupOperation</code> class
<a href="https://github.com/hazelcast/hazelcast/issues/4660">[#4660</a>].</p>
</li>
<li>
<p>When removing keys from a MultiMap with a listener, the method
<code>entryRemoved()</code> is called. In order to get the removed value, one must
call the <code>event.getValue()</code> instead of <code>event.getOldValue()</code>
<a href="https://github.com/hazelcast/hazelcast/issues/4644">[#4644</a>].</p>
</li>
<li>
<p>Unnecessary deserialization at the server side when using
<code>Cache.get()</code>
<a href="https://github.com/hazelcast/hazelcast/issues/4632">[#4632</a>].</p>
</li>
<li>
<p>Operation timeout exception during <code>IMap.loadAllKeys()</code>
<a href="https://github.com/hazelcast/hazelcast/issues/4618">[#4618</a>].</p>
</li>
<li>
<p>There have been Hazelcast AWS exceptions after the version of AWS
signer had changed (from v2 to v4)
<a href="https://github.com/hazelcast/hazelcast/issues/4571">[#4571</a>].</p>
</li>
<li>
<p>In the declarative configuration; when a variable is used to specify
the value of an element or attribute, Hazelcast ignores the strings that
come before the variable
<a href="https://github.com/hazelcast/hazelcast/issues/4533">[#4533</a>].</p>
</li>
<li>
<p><code>LocalRegionCache</code> cleanup is working wrongly
<a href="https://github.com/hazelcast/hazelcast/issues/4445">[#4445</a>].</p>
</li>
<li>
<p>Repeatable-read does not work in a transaction
<a href="https://github.com/hazelcast/hazelcast/issues/4414">[#4414</a>].</p>
</li>
<li>
<p>Hazelcast instance name with <code>Hibernate</code> still creates multiple
instances <a href="https://github.com/hazelcast/hazelcast/issues/4374">[#4374</a>].</p>
</li>
<li>
<p>In Hazelcast 3.3.4, <code>FinalizeJoinOperation</code> times out if the method
<code>MapStore.loadAllKeys()</code> takes more than 5 seconds
<a href="https://github.com/hazelcast/hazelcast/issues/4348">[#4348</a>].</p>
</li>
<li>
<p>JCache sync listener completion latch problems: Status of
<code>ICompletableFuture</code> while waiting for completion latch in the cache
must be checked
<a href="https://github.com/hazelcast/hazelcast/issues/4335">[#4335</a>].</p>
</li>
<li>
<p>Classloader issue with <code>javax.cache.api</code> and Hazelcast 3.3.1
<a href="https://github.com/hazelcast/hazelcast/issues/3792">[#3792</a>].</p>
</li>
<li>
<p>Failed backup operation on transaction commit causes `&#8217;'Nested
transactions are not allowed!" warning
<a href="https://github.com/hazelcast/hazelcast/issues/3577">[#3577</a>].</p>
</li>
<li>
<p>Hazelcast Client should not ignore the fact that the XML is for server
and should not use default XML feature to connect to <code>localhost</code>
<a href="https://github.com/hazelcast/hazelcast/issues/3256">[#3256</a>].</p>
</li>
<li>
<p>Owner connection <code>read()</code> forever
<a href="https://github.com/hazelcast/hazelcast/issues/3401">[#3401</a>].</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-4-8"><a class="anchor" href="#3-4-8"></a><a class="link" href="#3-4-8">3.4.8</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following is the fixed issue for 3.4.8 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Prevents indefinite read of stale value from near-cache.
<a href="https://github.com/hazelcast/hazelcast/pull/8091">[#8091</a>].</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-4-7"><a class="anchor" href="#3-4-7"></a><a class="link" href="#3-4-7">3.4.7</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>There are some minor internal improvements.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-4-6"><a class="anchor" href="#3-4-6"></a><a class="link" href="#3-4-6">3.4.6</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>There are some minor internal improvements.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-4-5"><a class="anchor" href="#3-4-5"></a><a class="link" href="#3-4-5">3.4.5</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>There are some minor internal improvements.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-4-4"><a class="anchor" href="#3-4-4"></a><a class="link" href="#3-4-4">3.4.4</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following is the fixed issue for 3.4.4 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>MultiMap entry listener provides incorrect null values
<a href="https://github.com/hazelcast/hazelcast/issues/5538">[#5538</a>].</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-4-3"><a class="anchor" href="#3-4-3"></a><a class="link" href="#3-4-3">3.4.3</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following is the the enhancement performed for 3.4.3 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Expose <code>TcpIpJoiner.MAX_PORT_TRIES</code> as a configurable property
<a href="https://github.com/hazelcast/hazelcast/issues/5062">[#5062</a>].</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following are the fixed issues for 3.4.3 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Subsequent remove operations may cause reading of stale value from the
map store <a href="https://github.com/hazelcast/hazelcast/issues/5368">[#5368</a>].</p>
</li>
<li>
<p>Write-behind may cause reading of stale value upon migration
<a href="https://github.com/hazelcast/hazelcast/issues/5339">[#5339</a>].</p>
</li>
<li>
<p>Hazelcast client is unresponsive. <code>OperationTimeoutException</code> is seen
in the logs <a href="https://github.com/hazelcast/hazelcast/issues/5338">[#5338</a>].</p>
</li>
<li>
<p>Last update time of an entry should not be changed after <code>getAll()</code> is
invoked <a href="https://github.com/hazelcast/hazelcast/issues/5333">[#5333</a>].</p>
</li>
<li>
<p><code>AtomicReference.alterAndGet()</code> throws
<code>HazelcastSerializationException</code>
<a href="https://github.com/hazelcast/hazelcast/issues/5265">[#5265</a>].</p>
</li>
<li>
<p><code>ICompletableFuture</code> callback from the method <code>getAsync</code> is not always
invoked <a href="https://github.com/hazelcast/hazelcast/issues/5133">[#5133</a>].</p>
</li>
<li>
<p>Warnings and exceptions are logged when closing the client connection
<a href="https://github.com/hazelcast/hazelcast/issues/4966">[#4966</a>].</p>
</li>
<li>
<p><code>CacheConfig</code> is not created on the cluster if the executer of
<code>CacheCreateConfigOperation</code> has already a <code>CacheConfig</code>
<a href="https://github.com/hazelcast/hazelcast/issues/4960">[#4960</a>].</p>
</li>
<li>
<p>The schema does not allow for an explicit <code>hz:replicatedMap</code> element
to be created. One can be created inside <code>hz:config</code> but not as a
definition for a concrete Replicated Map. Therefore, at present it is
impossible to define a Replicated Map using Spring.
<a href="https://github.com/hazelcast/hazelcast/issues/4958">[#4958</a>].</p>
</li>
<li>
<p><code>ResponseThread</code> and <code>InvocationRegistry.InspectionThread</code> reset and
retry operations. Since these threads did not implement <code>NIOThread</code>, the
<code>OperationExecutor</code> is free to execute tasks on these threads and that
is not desirable
<a href="https://github.com/hazelcast/hazelcast/issues/4929">[#4929</a>].</p>
</li>
<li>
<p>The method <code>CacheManager.getCache()</code> does not re-open the closed
cache. It should let access to the closed cache and re-open it. Cache
can be accessed by <code>getCache</code> but it is still closed
<a href="https://github.com/hazelcast/hazelcast/issues/4631">[#4631</a>].</p>
</li>
<li>
<p>The method <code>close()</code> of a Closeable <code>CacheLoader</code> is called without
explicitly calling the method <code>Cache.close()</code>
<a href="https://github.com/hazelcast/hazelcast/issues/4617">[#4617</a>].</p>
</li>
<li>
<p>The method <code>Cache.close()</code> does not call the method <code>close()</code> of
registered Closeable <code>CacheEntryListener</code>
<a href="https://github.com/hazelcast/hazelcast/issues/4616">[#4616</a>].</p>
</li>
<li>
<p>The method <code>awaitNanos()</code> returns the wrong value for both the
<code>ClientConditionProxy</code> and <code>ConditionImpl</code> classes
<a href="https://github.com/hazelcast/hazelcast/issues/4603">[#4603</a>].</p>
</li>
<li>
<p>The method <code>NotEqualPredicate</code> should return false if entry is null
(without index) and also if index is present, it should not throw an
exception with null values
<a href="https://github.com/hazelcast/hazelcast/issues/4525">[#4525</a>].</p>
</li>
<li>
<p>When running Hazelcast with Spring and Hibernate 4 and when an
application is started, the error related to
<code>org/hibernate/cache/QueryResultsRegion</code> is produced
<a href="https://github.com/hazelcast/hazelcast/issues/4519">[#4519</a>].</p>
</li>
<li>
<p><code>OperationTimeoutException</code> when calling <code>get</code> on task future after
<code>hazelcast.operation.call.timeout.millis</code>
<a href="https://github.com/hazelcast/hazelcast/issues/4398">[#4398</a>].</p>
</li>
<li>
<p>Predicates with null values throws exception for unordered indexes
<a href="https://github.com/hazelcast/hazelcast/issues/4373">[#4373</a>].</p>
</li>
<li>
<p>The method <code>queue.take()</code> does not get interrupted on shutdown
<a href="https://github.com/hazelcast/hazelcast/issues/4143">[#4143</a>].</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-4-2"><a class="anchor" href="#3-4-2"></a><a class="link" href="#3-4-2">3.4.2</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following is the enhancement performed for 3.4.2 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The method <code>contains</code> for ISet scans all the items
<a href="https://github.com/hazelcast/hazelcast/issues/4620">[#4620</a>].</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following are the fixed issues for 3.4.2 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>While executing unit tests, <code>SlowOperationDetectorThread</code> and
<code>CleanupThread</code> may not be terminated before the next test is started
<a href="https://github.com/hazelcast/hazelcast/issues/4757">[#4757</a>].</p>
</li>
<li>
<p>When multiple nodes join sequentially after partitions are
assigned/distributed, old nodes fail to clean backup replicas larger
than the configured backup count. This causes a memory leak. Also, when
multiple nodes leave the cluster at the same time (or in a short
period), the new partition owner looses some partition replica versions
and this causes backup nodes for those specific replica indexes to fail
synchronizing data from the owner node, although the owner node holds
the whole partition data
<a href="https://github.com/hazelcast/hazelcast/issues/4687">[#4687</a>].</p>
</li>
<li>
<p>After cluster merges due to a network-split, Hazelcast infinitely logs
<code>WaitNotifyServiceImpl$WaitingOp::WrongTargetException</code> warnings
<a href="https://github.com/hazelcast/hazelcast/issues/4676">[#4676</a>].</p>
</li>
<li>
<p>A strange <code>mapName</code> parameter occurred when using wildcard
configuration for a custom <code>MapStoreFactory</code>
<a href="https://github.com/hazelcast/hazelcast/issues/4667">[#4667</a>].</p>
</li>
<li>
<p>The method <code>IExecutorService.submitToKeyOwner</code> encountered two errors:
the <code>onResponse</code> method is invoked with null and a cast exception is
thrown in a Hazelcast thread
<a href="https://github.com/hazelcast/hazelcast/issues/4627">[#4627</a>].</p>
</li>
<li>
<p>The method <code>init</code> in an implementation of the
<code>MapLoaderLifecyleSupport</code> interface is not invoked
<a href="https://github.com/hazelcast/hazelcast/issues/4623">[#4623</a>].</p>
</li>
<li>
<p>The method <code>readData</code> in <code>NearCacheConfig</code> reads the <code>maxSize</code> twice
<a href="https://github.com/hazelcast/hazelcast/issues/4609">[#4609</a>].</p>
</li>
<li>
<p>The system property <code>hazelcast.client.request.retry.count</code> is not
handled properly
<a href="https://github.com/hazelcast/hazelcast/issues/4592">[#4592</a>].</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-4-1"><a class="anchor" href="#3-4-1"></a><a class="link" href="#3-4-1">3.4.1</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following are the enhancements performed for 3.4.1 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>When the near cache is used, cached entries from the remote node are
evicted by idleness, despite being read
<a href="https://github.com/hazelcast/hazelcast/issues/4358">[#4358</a>].</p>
</li>
<li>
<p>HazelcastQueryResultsRegion is never expired/evicted. The cleanup()
method in LocalRegionCache for the query cache instances is never
called, thus the query cache lives forever
<a href="https://github.com/hazelcast/hazelcast/issues/3882">[#3882</a>].</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following are the fixed issues for 3.4.1 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>IMap.getAll does not put data to RecordStore upon loading from map
store <a href="https://github.com/hazelcast/hazelcast/issues/4458">[#4458</a>].</p>
</li>
<li>
<p>In the ClientNearCache class, there is a comparator which is used in a
TreeSet to find the entries that should be evicted. If there are
CacheRecords with the same hit count or lastAccessTime (depending on the
policy, i.e. LFU or LRU), all of them should be evicted
<a href="https://github.com/hazelcast/hazelcast/issues/4451">[#4451</a>].</p>
</li>
<li>
<p>When using write-behind and the entries, which have not been stored
yet, are evicted, duplicate calls to the map store is made
<a href="https://github.com/hazelcast/hazelcast/issues/4448">[#4448</a>].</p>
</li>
<li>
<p>There is a memory leak caused by the empty await queues in
WaitNotifyService. When more then one thread try to lock on an IMap key
at the same time, a memory leak occurs
<a href="https://github.com/hazelcast/hazelcast/issues/4432">[#4432</a>].</p>
</li>
<li>
<p>ClientListener is not configurable via ListenerConfig.
HazelcastInstanceImpl.initializeListeners(Config config) does not honor
ClientListener instances
<a href="https://github.com/hazelcast/hazelcast/issues/4429">[#4429</a>].</p>
</li>
<li>
<p>The CacheConfig(CacheSimpleConfig simpleConfig) constructor is broken.
Variable assignments should be fixed
<a href="https://github.com/hazelcast/hazelcast/issues/4423">[#4423</a>].</p>
</li>
<li>
<p>In ReplicatedMap, the containsKey method should return false on the
removed keys
<a href="https://github.com/hazelcast/hazelcast/issues/4420">[#4420</a>].</p>
</li>
<li>
<p>During the Hazelcast.shutdownAll() process, LockService is shut down
before the MapService and this may cause null pointer exception if there
is something like isLocked check in some internal IMap operations
<a href="https://github.com/hazelcast/hazelcast/issues/4382">[#4382</a>].</p>
</li>
<li>
<p>Hazelcast clients shut down in the case of an IP change of one or more
of the configured node (DNS) addresses
<a href="https://github.com/hazelcast/hazelcast/issues/4349">[#4349</a>].</p>
</li>
<li>
<p>Write-behind system coalesces all operations on a specific key in a
configured write-delay-seconds window and it should also store only the
latest change on that key in that window. Problem with the current
behavior is; a continuously updated key may not be persisted ever due to
the shifted store time during the updates
<a href="https://github.com/hazelcast/hazelcast/issues/4341">[#4341</a>].</p>
</li>
<li>
<p>Issue with contains pattern in Config.getXXXConfig(). Since the actual
wildcard search always does a contains matching, you cannot set a
configuration for startsWith, for instance
<a href="https://github.com/hazelcast/hazelcast/issues/4315">[#4315</a>].</p>
</li>
<li>
<p>ReplicatedMapMBean is not present in JMX
<a href="https://github.com/hazelcast/hazelcast/issues/4173">[#4173</a>].</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-4"><a class="anchor" href="#3-4"></a><a class="link" href="#3-4">3.4</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section lists the new features, enhancements and fixed issues for
3.4 release.</p>
</div>
<div class="sect2">
<h3 id="new-features-7"><a class="anchor" href="#new-features-7"></a><a class="link" href="#new-features-7">New Features</a></h3>
<div class="paragraph">
<p>The following are the new features introduced with 3.4 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>High-Density Memory Store</strong>: Used with the Hazelcast JCache
implementation, High-Density Memory Store is introduced with this
release. High-Density Memory Store is the enterprise grade backend
storage solution. This solution minimizes the garbage collection
pressure and thus enables predictable application scaling and boosts
performance. For more information, please see
<a href="http://docs.hazelcast.org/docs/3.4/manual/html-single/index.html#high-density-memory-store">High-Density
Memory Store section</a>.</p>
</li>
<li>
<p><strong>Jetty Based Session Replication</strong>: We have introduced Jetty-based web
session replication with this release. This is a feature of Hazelcast
Enterprise. It enables session replication for Java EE web applications
that are deployed into Jetty servlet containers, without having to
perform any changes in those applications. For more information, please
see
<a href="http://docs.hazelcast.org/docs/3.4/manual/html-single/index.html#jetty-based-web-session-replication">Jetty
Based Web Session Replication section</a>.</p>
</li>
<li>
<p><strong>Hazelcast Configuration Import</strong>: This feature, which is an element
named <code>&lt;import&gt;</code>, enables you to compose the Hazelcast declarative (XML)
configuration file out of smaller configuration snippets. For more
information, please see
<a href="http://docs.hazelcast.org/docs/3.4/manual/html-single/index.html#composing-xml-configuration">Composing
XML Configuration section</a>.</p>
</li>
<li>
<p><strong>Back Pressure</strong>: Starting with this release, Hazelcast provides the
back pressure feature which prevents the overload caused by pending
asynchronous backups. For more information, please see
<a href="http://docs.hazelcast.org/docs/3.4/manual/html-single/index.html#back-pressure">Back
Pressure section</a>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="enhancements-9"><a class="anchor" href="#enhancements-9"></a><a class="link" href="#enhancements-9">Enhancements</a></h3>
<div class="paragraph">
<p>The following are the enhancements performed for 3.4 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Event packets sent to the client do not have ``partitionId''
<a href="https://github.com/hazelcast/hazelcast/issues/4071">[#4071</a>].</p>
</li>
<li>
<p>Spring Configuration for ReplicatedMap is Missing
<a href="https://github.com/hazelcast/hazelcast/issues/3966">[#3966</a>].</p>
</li>
<li>
<p><code>NodeMulticastListener</code> floods log file with INFO-level messages when
debug is enabled
<a href="https://github.com/hazelcast/hazelcast/issues/3787">[#3787</a>].</p>
</li>
<li>
<p>A Hazelcast client should not be a <code>HazelcastInstance</code>. It should be a
``factory'' and this factory should be able to shut down Hazelcast
clients. <a href="https://github.com/hazelcast/hazelcast/issues/3781">[#3781</a>].</p>
</li>
<li>
<p><code>InvalidateSessionAttributesEntryProcessor</code> could avoid creating
strings at every call to process
<a href="https://github.com/hazelcast/hazelcast/issues/3767">[#3767</a>].</p>
</li>
<li>
<p>The timeout for <code>SocketConnector</code> cannot be configured
<a href="https://github.com/hazelcast/hazelcast/issues/3613">[#3613</a>].</p>
</li>
<li>
<p>The method <code>MultiMap.get()</code> returns <code>collection</code>, but this method
should return the correct collection type (<code>Set</code> or <code>List</code>)
<a href="https://github.com/hazelcast/hazelcast/issues/3214">[#3214</a>].</p>
</li>
<li>
<p><code>HazelcastConnection</code> is not aligned with <code>HazelcastInstance</code>
<a href="https://github.com/hazelcast/hazelcast/issues/2997">[#2997</a>].</p>
</li>
<li>
<p>Support for Log4j 2.x has been implemented
<a href="https://github.com/hazelcast/hazelcast/issues/2345">[#2345</a>].</p>
</li>
<li>
<p>Management Center console behavior on node shutdown
<a href="https://github.com/hazelcast/hazelcast/issues/2215">[#2215</a>].</p>
</li>
<li>
<p>When <code>queue-store</code> is not enabled, <code>QueueStoreFactory</code> should not be
instantiated
<a href="https://github.com/hazelcast/hazelcast/issues/1906">[#1906</a>].</p>
</li>
<li>
<p>Management Center should be able to say when cluster is safe and all
backups are up to date
<a href="https://github.com/hazelcast/hazelcast/issues/963">[#963</a>].</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="fixes-10"><a class="anchor" href="#fixes-10"></a><a class="link" href="#fixes-10">Fixes</a></h3>
<div class="paragraph">
<p>The following are the fixed issues for 3.4 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Deadlock happens in MapReduce implementation when there is a high load
on the system. The issue has been solved by offloading Distributed
MapReduce result collection to the async executor
<a href="https://github.com/hazelcast/hazelcast/issues/4238">[#4238</a>].</p>
</li>
<li>
<p>When the class <code>ClientExecutorServiceSubmitTest.java</code> is compiled
using the Eclipse compiler, it gives a compile error: <code>`<em>The method
submit(Runnable, ExecutionCallback) is ambiguous for the type
IExecutorService</em>''. The reason is that the `IExecutorService.java</code>
class does not have some generics. The issue has been solved by adding
these missing generics to the <code>IExecutorService.java</code> class
<a href="https://github.com/hazelcast/hazelcast/issues/4234">[#4234</a>].</p>
</li>
<li>
<p>JCache declarative listener registration does not work
<a href="https://github.com/hazelcast/hazelcast/issues/4215">[#4215</a>].</p>
</li>
<li>
<p>JCache evicts the records which are not expired yet. To solve this
issue, the <code>clear</code> method should be removed that runs when the size is
smaller than the minimum eviction element count
(<code>MIN_EVICTION_ELEMENT_COUNT</code>)
<a href="https://github.com/hazelcast/hazelcast/issues/4124">[#4124</a>].</p>
</li>
<li>
<p>Hazelcast Enterprise Native Memory operations should be updated in
relation with the Hazelcast sync listener changes
<a href="https://github.com/hazelcast/hazelcast/issues/4089">[#4089</a>].</p>
</li>
<li>
<p>The completion listener (JCache) relies on event ordering but if the
completion listener is registered in another node then event ordering is
not guaranteed
<a href="https://github.com/hazelcast/hazelcast/issues/4073">[#4073</a>].</p>
</li>
<li>
<p>AWS joiner classname should be fixed since EC2 discovery is not
working after the restructure
<a href="https://github.com/hazelcast/hazelcast/issues/4025">[#4025</a>].</p>
</li>
<li>
<p>If an IMap has a near cache configured, accessing the near cache via
the method <code>get(key)</code> does not count as an access to the underlying
IMap. The near cache has its own <code>max-idle-seconds</code> element. However, if
an entry is expired/evicted in the IMap, it also causes a near cache
removal operation for the entry regardless of the <code>max-idle-seconds</code> of
that entry in the near cache. The entry expires and is evicted even if
the near cache is being hit constantly. When a near cache is hit, the
underlying map should reset the idle time for that key
<a href="https://github.com/hazelcast/hazelcast/issues/4016">[#4016</a>].</p>
</li>
<li>
<p>Getting a pre-configured Cache instance is not working as expected
<a href="https://github.com/hazelcast/hazelcast/issues/4009">[#4009</a>].</p>
</li>
<li>
<p>Bounded Queue section in the Reference Manual is unclear and wrong
<a href="https://github.com/hazelcast/hazelcast/issues/3995">[#3995</a>].</p>
</li>
<li>
<p>The method <code>checkFullyProcessed</code> of MapReduce throws null pointer
exception. The reason may be that multiple threads attempt to start the
final processing state in the JobSupervisor
<a href="https://github.com/hazelcast/hazelcast/issues/3952">[#3952</a>].</p>
</li>
<li>
<p>Merge operation after a split brain syndrome does not guarantee that
the merging is over
<a href="https://github.com/hazelcast/hazelcast/issues/3863">[#3863</a>].</p>
</li>
<li>
<p>When a client with near cache configuration enabled is shut down,
<code>RejectedExecutionException</code> is thrown
<a href="https://github.com/hazelcast/hazelcast/issues/3669">[#3669</a>].</p>
</li>
<li>
<p>In Hazelcast <code>IMap</code> and <code>TransactionalMap</code>, read-only operations such
as <code>get()</code>, <code>containsKey()</code>, <code>keySet()</code>, and <code>containsValue()</code> break the
transaction atomicity
<a href="https://github.com/hazelcast/hazelcast/issues/3191">[#3191</a>].</p>
</li>
<li>
<p>Documentation should clearly list features of and differences between
native clients
<a href="https://github.com/hazelcast/hazelcast/issues/2385">[#2385</a>].</p>
</li>
<li>
<p>Sections of Hazelcast configuration should be able to be imported so
that these sections can be shared between other Hazelcast configurations
<a href="https://github.com/hazelcast/hazelcast/issues/406">[#406</a>].</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-3-5"><a class="anchor" href="#3-3-5"></a><a class="link" href="#3-3-5">3.3.5</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following is the fixed issue for 3.3.5 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Make write-coalescing configurable for write-behind map-stores
<a href="https://github.com/hazelcast/hazelcast/issues/4438">[#4438</a>].</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-3-4"><a class="anchor" href="#3-3-4"></a><a class="link" href="#3-3-4">3.3.4</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following are the fixed issues for 3.3.4 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Predicate with short values is not working
<a href="https://github.com/hazelcast/hazelcast/issues/4293">[#4293</a>].</p>
</li>
<li>
<p>Hits statistics copy and paste error in the method <code>ReplicatedRecord</code>
<a href="https://github.com/hazelcast/hazelcast/issues/4254">[#4254</a>].</p>
</li>
<li>
<p>Serialization error on the ReplicatedMap when in-memory format is set
to <code>BINARY</code> <a href="https://github.com/hazelcast/hazelcast/issues/4205">[#4205</a>].</p>
</li>
<li>
<p>Too long exception stacktraces if the Hazelcast client fails to
receive data, and this leads to a failure on the client
<a href="https://github.com/hazelcast/hazelcast/issues/4192">[#4192</a>].</p>
</li>
<li>
<p>Hazelcast client registers the translated public address instead of
its own private address to the list of connections. This causes the
client not to be able to remove the connection correctly
<a href="https://github.com/hazelcast/hazelcast/issues/4190">[#4190</a>].</p>
</li>
<li>
<p><code>TransactionType:Local</code> emits exceptions while committing. The normal
behavior should be throwing the exceptions to the user
<a href="https://github.com/hazelcast/hazelcast/issues/4160">[#4160</a>].</p>
</li>
<li>
<p>Map replication should mark expirable recordstore. Otherwise, in some
situations, if one does not set the map wide expiration or map wide TTL,
the key based TTL expiration may not work
<a href="https://github.com/hazelcast/hazelcast/issues/4144">[#4144</a>].</p>
</li>
<li>
<p>The method <code>BasicInvocationFuture.response</code> should be cleared when
<code>BasicInvocation.WAIT_RESPONSE</code> is read by the waiter thread. Otherwise,
when the retry operation takes too much time, the waiting thread sees
the same wait response multiple times and the operation may not timeout
forever <a href="https://github.com/hazelcast/hazelcast/issues/4123">[#4123</a>].</p>
</li>
<li>
<p>Topic listeners should be unregistered when topic is destroyed
<a href="https://github.com/hazelcast/hazelcast/issues/4117">[#4117</a>].</p>
</li>
<li>
<p>Invocations (and their operations) remain in the invocations map
forever if the operation timeouts without a response
<a href="https://github.com/hazelcast/hazelcast/issues/4113">[#4113</a>].</p>
</li>
<li>
<p>Timeout is needed for parallel query operations
<a href="https://github.com/hazelcast/hazelcast/issues/4074">[#4074</a>].</p>
</li>
<li>
<p>Initial map load and <code>max-size-policy</code> conflict
<a href="https://github.com/hazelcast/hazelcast/issues/4066">[#4066</a>].</p>
</li>
<li>
<p>MapStore operations should be retried and performed eventually after a
temporary failure
<a href="https://github.com/hazelcast/hazelcast/issues/4061">[#4061</a>].</p>
</li>
<li>
<p>The class <code>SynchronizedWriteBehindQueue</code> (from
<code>com.hazelcast.map.mapstore.writebehind</code> package) is declared threadsafe
in JavaDocs, but it is not
<a href="https://github.com/hazelcast/hazelcast/issues/4039">[#4039</a>].</p>
</li>
<li>
<p>The method <code>RemoveIfSameOperation</code> does not set <code>dataOldValue</code> for the
<code>entryRemoved</code> event
<a href="https://github.com/hazelcast/hazelcast/issues/4037">[#4037</a>].</p>
</li>
<li>
<p>When a new node with a new field is added to a cluster and when a
query over this node is attempted, the old nodes throw an exception
(<code>com.hazelcast.query.QueryException: Unknown Portable field: newFieldName</code>)
and the query fails by throwing the same exception.
<a href="https://github.com/hazelcast/hazelcast/issues/3927">[#3927</a>].</p>
</li>
<li>
<p>At the moment, the internal state fields of a <code>Reducer</code> are required
to be volatile to ensure the memory visibility effects after the
suspension and continuation of a reducer. This requirement should be
moved to be handled by the framework itself since it is tend to be
forgotten <a href="https://github.com/hazelcast/hazelcast/issues/3866">[#3866</a>].</p>
</li>
<li>
<p>The method <code>executeOnKey</code> hangs when the server fails to handle a
query <a href="https://github.com/hazelcast/hazelcast/issues/3842">[#3842</a>].</p>
</li>
<li>
<p>The <code>GlobalSerializerConfig#setImplementation()</code> parameter should be
compatible with the implementation field
<a href="https://github.com/hazelcast/hazelcast/issues/3569">[#3569</a>].</p>
</li>
<li>
<p><code>ClientConsoleApp</code> should not define the file <code>hazelcast-client.xml</code>
<a href="https://github.com/hazelcast/hazelcast/issues/3554">[#3554</a>].</p>
</li>
<li>
<p>When using a custom partitioning strategy and the configured backup
count of a map cannot be fulfilled since a node defined in the custom
partition group is down, a JMX service call is blocked in the while-loop
at <code>com.hazelcast.map.MapService.createLocalMapStats</code>
<a href="https://github.com/hazelcast/hazelcast/issues/3526">[#3526</a>].</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-3-3"><a class="anchor" href="#3-3-3"></a><a class="link" href="#3-3-3">3.3.3</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following are the fixed issues for 3.3.3 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>JCache average put time statistic is not calculated correctly
<a href="https://github.com/hazelcast/hazelcast/issues/4029">[#4029</a>].</p>
</li>
<li>
<p>When sending backup, the replica address can be seen as null
<a href="https://github.com/hazelcast/hazelcast/issues/4001">[#4001</a>].</p>
</li>
<li>
<p>Evicted events are sent before the added events to EntryListeners
<a href="https://github.com/hazelcast/hazelcast/issues/3992">[#3992</a>].</p>
</li>
<li>
<p>In Management Center, the default login credentials cannot be deleted
<a href="https://github.com/hazelcast/hazelcast/issues/3990">[#3990</a>].</p>
</li>
<li>
<p>Logger for <code>NodeMulticastListener</code> does not belong to <code>com.hazelcast</code>
hierarchy <a href="https://github.com/hazelcast/hazelcast/issues/3941">[#3941</a>].</p>
</li>
<li>
<p>MapInterceptors are not removed when a node leaves the cluster
<a href="https://github.com/hazelcast/hazelcast/issues/3932">[#3932</a>].</p>
</li>
<li>
<p>MapInterceptors of same type (<code>Class</code>) are chained
<a href="https://github.com/hazelcast/hazelcast/issues/3931">[#3931</a>].</p>
</li>
<li>
<p>Expiration Time should not be updated. Its value is updated on every
set operation on a map, but Hazelcast uses only the first value set for
ExpirationTime. So a <code>getExpirationTime()</code> operation returns a wrong and
misleading value.
<a href="https://github.com/hazelcast/hazelcast/issues/3923">[#3923</a>].</p>
</li>
<li>
<p>When using the XML file to configure a Queue to use a
<code>QueueStoreFactory</code>, a null pointer exception is thrown at
<code>QueueStoreWrapper</code>
<a href="https://github.com/hazelcast/hazelcast/issues/3907">[#3907</a>].</p>
</li>
<li>
<p>Excess logging on startup
<a href="https://github.com/hazelcast/hazelcast/issues/3869">[#3869</a>].</p>
</li>
<li>
<p><code>LifecycleService</code> should be terminated after the node cannot join to
the cluster <a href="https://github.com/hazelcast/hazelcast/issues/3843">[#3843</a>].</p>
</li>
<li>
<p>The method <code>MapProxyImpl.aggregate</code> hangs sporadically
<a href="https://github.com/hazelcast/hazelcast/issues/3824">[#3824</a>].</p>
</li>
<li>
<p>Currently, there is no class named
<code>com.hazelcast.nio.utf8.EnterpriseStringCreator</code> in Hazelcast. So the
class and its log messages should be removed from the code
<a href="https://github.com/hazelcast/hazelcast/issues/3819">[#3819</a>].</p>
</li>
<li>
<p>Bad user interface experience in the management center. Maps menu item
that contains maps with longer names cannot be expanded
<a href="https://github.com/hazelcast/hazelcast/issues/3815">[#3815</a>].</p>
</li>
<li>
<p>When the shutdown button in the management center is hit multiple
times, the nodes are shutdown again, after they are shutdown at the
first place and restarted
<a href="https://github.com/hazelcast/hazelcast/issues/3718">[#3718</a>].</p>
</li>
<li>
<p>Alert e-mails from the management center are not sent to the e-mail
address <a href="https://github.com/hazelcast/hazelcast/issues/3693">[#3693</a>].</p>
</li>
<li>
<p>Instances with private IPs cannot be discovered on Amazon EC2
<a href="https://github.com/hazelcast/hazelcast/issues/3666">[#3666</a>].</p>
</li>
<li>
<p>Null pointer exception in the method <code>Records.buildRecordInfo</code> from
the stabilizer <code>MapStoreTest</code>
<a href="https://github.com/hazelcast/hazelcast/issues/2956">[#2956</a>].</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-3-2"><a class="anchor" href="#3-3-2"></a><a class="link" href="#3-3-2">3.3.2</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following are the fixed issues for 3.3.2 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Reject multicast messages if the group configuration is not matching
<a href="https://github.com/hazelcast/hazelcast/issues/3806">[#3806</a>].</p>
</li>
<li>
<p><code>Map#getEntryView</code> should check expiration of a key
<a href="https://github.com/hazelcast/hazelcast/issues/3801">[#3801</a>].</p>
</li>
<li>
<p>Hazelcast gets stuck in <code>HazelcastInstanceNotActiveException</code> loop
during multicast join
<a href="https://github.com/hazelcast/hazelcast/issues/3732">[#3732</a>].</p>
</li>
<li>
<p>Hazelcast fails to comply with <code>maxIdleTime</code> expiration when running
EntryProcessors. A delay should be added to expiration times on backups
<a href="https://github.com/hazelcast/hazelcast/issues/3710">[#3710</a>].</p>
</li>
<li>
<p><code>containsKey()</code> in transactional context returns wrong value for keys
deleted within transaction
<a href="https://github.com/hazelcast/hazelcast/issues/3682">[#3682</a>].</p>
</li>
<li>
<p><code>TransactionalMap.values()</code> returns stale values that was updated
within the transaction boundary
<a href="https://github.com/hazelcast/hazelcast/issues/3668">[#3668</a>].</p>
</li>
<li>
<p>Number of loaded keys should not exceed map’s maximum size
<a href="https://github.com/hazelcast/hazelcast/issues/3608">[#3608</a>].</p>
</li>
<li>
<p>During client node shutdown, if the cluster happens to be down,
Hazelcast logs some extra messages at SEVERE level
<a href="https://github.com/hazelcast/hazelcast/issues/3493">[#3493</a>].</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-3-1"><a class="anchor" href="#3-3-1"></a><a class="link" href="#3-3-1">3.3.1</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following are the fixed issues for 3.3.1 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>MapReduce Combiner creation is not threadsafe, but certain operations
on mapping phase might need a concurrent creation of the combiners
<a href="https://github.com/hazelcast/hazelcast/issues/3625">[#3625</a>].</p>
</li>
<li>
<p>When <code>connectionTimeout</code> property in ClientNetworkConfig is set to
<code>Integer.MAX_VALUE</code>, the client could not connect to cluster since a
default 2000 ms. extra value is added to <code>connectionTimeout</code> while
connecting <a href="https://github.com/hazelcast/hazelcast/issues/3615">[#3615</a>].</p>
</li>
<li>
<p>User provided list results from combiner is colliding with the
internally used multi-result list
<a href="https://github.com/hazelcast/hazelcast/issues/3614">[#3614</a>].</p>
</li>
<li>
<p>While committing collection transactions, the collection item is being
added to the collection container. However, this gives the warning
``There is no suitable de-serializer for type'' warning. Instead of
collection item, transactional item should be added to the container
<a href="https://github.com/hazelcast/hazelcast/issues/3603">[#3603</a>].</p>
</li>
<li>
<p><code>MaxSizeConfig</code> constructor should convert zero size to
<code>Integer.MAX_VALUE</code>
<a href="https://github.com/hazelcast/hazelcast/issues/3579">[#3579</a>].</p>
</li>
<li>
<p>If deserialization of the client request fails, the exception is not
propagated back to the client
<a href="https://github.com/hazelcast/hazelcast/issues/3557">[#3557</a>].</p>
</li>
<li>
<p>``Lock is not owned by by the transaction'' exception. This exception
was received while testing how transactions are working with Map and
MultiMap for some last Hazelcast releases
<a href="https://github.com/hazelcast/hazelcast/issues/3545">[#3545</a>].</p>
</li>
<li>
<p>Main classes in <code>manifest.mf</code> files are not correctly set
<a href="https://github.com/hazelcast/hazelcast/issues/3537">#3537</a>.</p>
</li>
<li>
<p>Count of evicted events may exceed the map size when ``read backup
data'' feature is enabled
<a href="https://github.com/hazelcast/hazelcast/issues/3515">#3515</a>.</p>
</li>
<li>
<p><code>mancenter.war</code> from Hazelcast release 3.2.5 cannot be deployed to
Glassfish 3.1.2.2 and it fails to deploy
<a href="https://github.com/hazelcast/hazelcast/issues/3501">#3501</a>.</p>
</li>
<li>
<p>While evicting entries from a map with the method <code>evictAll</code>, locked
keys should stay in the map
<a href="https://github.com/hazelcast/hazelcast/issues/3473">#3473</a>.</p>
</li>
<li>
<p>In <code>hazelcast-vm</code> module, before every test, new server container is
started. And after every test, running server is terminated. This
behavior causes a long test execution time. Server start-up and
termination should be done before and after test class initialization
and finalization
<a href="https://github.com/hazelcast/hazelcast/issues/3473">#3473</a>.</p>
</li>
<li>
<p>The method <code>IQueue.take()</code> method should throw InterruptedException,
but throws HazelcastException instead
<a href="https://github.com/hazelcast/hazelcast/issues/3133">#3133</a>.</p>
</li>
<li>
<p>Multicast discovery doesn’t work without network
<a href="https://github.com/hazelcast/hazelcast/issues/2594">#2594</a>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-3"><a class="anchor" href="#3-3"></a><a class="link" href="#3-3">3.3</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section lists the new features, enhancements and fixed issues for
3.3 release.</p>
</div>
<div class="sect2">
<h3 id="new-features-8"><a class="anchor" href="#new-features-8"></a><a class="link" href="#new-features-8">New Features</a></h3>
<div class="paragraph">
<p>The following are the new features introduced with 3.3 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Heartbeat for Java client: Before this release, a Java client could
not detect a node as dead, if the client is not trying to connect to it.
With this heartbeat feature, each node will be pinged periodically. If
no response is returned from a node, it will be deemed as dead. Main
goal of this feature is to decrease the time for detection of dead
(disconnected) nodes by Java clients, so that the user operations will
be sent directly to a responsive one. For more information, please see
<a href="http://docs.hazelcast.org/docs/3.3/manual/html-single/#client-properties">Client
Properties</a>.</p>
</li>
<li>
<p>Tomcat 6 and 7 Web Sessions Clustering: Please see
<a href="http://docs.hazelcast.org/docs/3.3/manual/html-single/hazelcast-documentation.html#web-session-replication">Web
Session Replication</a>.</p>
</li>
<li>
<p>Replicated Map implemented: Please see
<a href="http://docs.hazelcast.org/docs/3.3/manual/html-single/hazelcast-documentation.html#replicated-map">Replicated
Map</a></p>
</li>
<li>
<p>WAN Replication improved: Added configurable replication queue size
<a href="http://docs.hazelcast.org/docs/3.3/manual/html-single/hazelcast-documentation.html#wan-replication-queue-size">WAN
Replication Queue Size</a>.</p>
</li>
<li>
<p>Data Aggregation implemented: Added common data aggregations, please
find
<a href="http://docs.hazelcast.org/docs/3.3/manual/html-single/hazelcast-documentation.html#aggregators">Aggregators</a>
documentation.</p>
</li>
<li>
<p>EvictAll and LoadAll features for IMap: <code>evictAll</code> and <code>loadAll</code>
methods have been introduced to be able to evict all entries except the
locked ones and that loads all or a set of keys from a configured map
store, respectively. Please see
<a href="http://docs.hazelcast.org/docs/3.3/manual/html-single/hazelcast-documentation.html#evicting-all-entries">Evicting
All Entries</a> and
<a href="http://docs.hazelcast.org/docs/3.3/manual/html-single/hazelcast-documentation.html#forcing-all-keys-to-be-loaded">Forcing
All Keys to be Loaded</a> sections for more information.</p>
</li>
<li>
<p>Hazelcast JCache implementation introduced: Starting with release
3.3.1, Hazelcast offers its JCache implementation. Please see
<a href="http://docs.hazelcast.org/docs/3.3/manual/html-single/hazelcast-documentation.html#hazelcast-jcache-implementation">Hazelcast
JCache Implementation</a> for details.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="fixes-11"><a class="anchor" href="#fixes-11"></a><a class="link" href="#fixes-11">Fixes</a></h3>
<div class="paragraph">
<p>The following are the fixed issues 3.3 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>TxQueue cannot find reserved items upon ownership changes
<a href="https://github.com/hazelcast/hazelcast/issues/3432">[#3432</a>].</p>
</li>
<li>
<p>Documentation update is needed to tell that PagingPredicate is only
supported for Comparable objects if there is no comparator
<a href="https://github.com/hazelcast/hazelcast/issues/3432">[#3428</a>].</p>
</li>
<li>
<p><code>java.lang.NullPointerException</code> is thrown when publishing an event in
ClientEndPointImpl
<a href="https://github.com/hazelcast/hazelcast/issues/3407">[#3407</a>].</p>
</li>
<li>
<p>The <code>entryUpdated()</code> callback of a listener during a transaction
always has a null <code>oldValue</code> in the EntryEvent
<a href="https://github.com/hazelcast/hazelcast/issues/3406">[#3406</a>].</p>
</li>
<li>
<p>Documentation update with the links to code samples for integration
modules <a href="https://github.com/hazelcast/hazelcast/issues/3389">[#3389</a>].</p>
</li>
<li>
<p>Hazelcast write-behind with <code>map.replace()</code> stores replaced items
<a href="https://github.com/hazelcast/hazelcast/issues/3386">[#3386</a>].</p>
</li>
<li>
<p>XAResource’s <code>setTransactionTimeout()</code> method is not correctly
implemented <a href="https://github.com/hazelcast/hazelcast/issues/3384">[#3384</a>].</p>
</li>
<li>
<p>Hazelcast web session replication filter may die if response committed
<a href="https://github.com/hazelcast/hazelcast/issues/3360">[#3360</a>].</p>
</li>
<li>
<p>Resource adapter state is never reset to <code>isStarted == false</code>,
resulting in errors down the line
<a href="https://github.com/hazelcast/hazelcast/issues/3350">[#3350</a>].</p>
</li>
<li>
<p><code>PagingPredicate.getAnchor</code> does not return the correct value
<a href="https://github.com/hazelcast/hazelcast/issues/3241">[#3241</a>].</p>
</li>
<li>
<p>If deserialization fails, calling node is not informed
<a href="https://github.com/hazelcast/hazelcast/issues/2509">[#2509</a>].</p>
</li>
<li>
<p>CallerNotMemberException and WrongTargetException exceptions are
thrown at random intervals
<a href="https://github.com/hazelcast/hazelcast/issues/2253">[#2253</a>].</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>RC3 Fixes</strong></p>
</div>
<div class="paragraph">
<p>This section lists issues solved for 3.3-RC3 (Release Candidate 3)
release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Parallel execution of <code>MapStore#store</code> method for the same key
triggered by <code>IMap#flush</code>
<a href="https://github.com/hazelcast/hazelcast/issues/3338">[#3338</a>].</p>
</li>
<li>
<p>When offering null argument in queue throws an exception but it adds
null argument to collection, then <code>addAll()</code> performed on this list does
not throw an exception
<a href="https://github.com/hazelcast/hazelcast/issues/3330">[#3330</a>].</p>
</li>
<li>
<p><code>java.io.FileNotFoundException</code> thrown by MapLoaderTest
<a href="https://github.com/hazelcast/hazelcast/issues/3324">[#3324</a>].</p>
</li>
<li>
<p>MapMaxSizeTest Stabilizer test with SoftKill
<a href="https://github.com/hazelcast/hazelcast/issues/3291">[#3291</a>].</p>
</li>
<li>
<p>Incompatible Spring and Hazelcast configuration XSDs
<a href="https://github.com/hazelcast/hazelcast/issues/3275">[#3275</a>].</p>
</li>
<li>
<p><code>ExpirationManager</code> partition sorting can fail
<a href="https://github.com/hazelcast/hazelcast/issues/3271">[#3271</a>].</p>
</li>
<li>
<p>Configuration validation is broken
<a href="https://github.com/hazelcast/hazelcast/issues/3257">[#3257</a>].</p>
</li>
<li>
<p>Code Samples for Spring Security and WebFilter Integration
<a href="https://github.com/hazelcast/hazelcast/issues/3252">[#3252</a>].</p>
</li>
<li>
<p>WebFilter Test Cases are slow
<a href="https://github.com/hazelcast/hazelcast/issues/3250">[#3250</a>].</p>
</li>
<li>
<p>Management Center and Weblogic Deployment Problem
<a href="https://github.com/hazelcast/hazelcast/issues/3247">[#3247</a>].</p>
</li>
<li>
<p>Enabling Multicast and TCP/IP node discovery methods freeze the
instances <a href="https://github.com/hazelcast/hazelcast/issues/3246">[#3246</a>].</p>
</li>
<li>
<p><code>getOldValue</code> and <code>getValue</code> returns the same value when removing item
from IMap <a href="https://github.com/hazelcast/hazelcast/issues/3198">[#3198</a>].</p>
</li>
<li>
<p>MapTransactionContextTest: member SoftKill and then
HazelcastSerializationException and IegalStateException: Nested are
thrown <a href="https://github.com/hazelcast/hazelcast/issues/3196">[#3196</a>].</p>
</li>
<li>
<p><code>IMap.delete()</code> should not call
`MapLoader.load()`https://github.com/hazelcast/hazelcast/issues/3178[[#3178]].</p>
</li>
<li>
<p>3.3-RC3+: NPE in the method <code>connectionMarkedAsNotResponsive</code>
<a href="https://github.com/hazelcast/hazelcast/issues/3169">[#3169</a>].</p>
</li>
<li>
<p><code>WebFilter.HazelcastHttpSession.isNew()</code> does not check the Hazelcast
Session Cache
<a href="https://github.com/hazelcast/hazelcast/issues/3132">[#3132</a>].</p>
</li>
<li>
<p>Hazelcast Spring XSD files are not version agnostic
<a href="https://github.com/hazelcast/hazelcast/issues/3131">[#3131</a>].</p>
</li>
<li>
<p><code>ClassCastException: java.lang.Integer</code> cannot be cast to
<code>java.lang.String</code> Query
<a href="https://github.com/hazelcast/hazelcast/issues/3091">[#3091</a>].</p>
</li>
<li>
<p>Predicate returns a value not matching the predicate
<a href="https://github.com/hazelcast/hazelcast/issues/3090">[#3090</a>].</p>
</li>
<li>
<p>Modifications made by Entry Processor are lost in 3.3-RC-2
<a href="https://github.com/hazelcast/hazelcast/issues/3062">[#3062</a>].</p>
</li>
<li>
<p>Hazelcast Session Clustering with Spring Security Problem
<a href="https://github.com/hazelcast/hazelcast/issues/3049">[#3049</a>].</p>
</li>
<li>
<p>PagingPredicate returning duplicated elements results in an infinite
loop <a href="https://github.com/hazelcast/hazelcast/issues/3047">[#3047</a>].</p>
</li>
<li>
<p><code>expirationTime</code> on EntryView is not set
<a href="https://github.com/hazelcast/hazelcast/issues/3038">[#3038</a>].</p>
</li>
<li>
<p><code>BasicRecordStoreLoader</code> cannot handle retry responses
<a href="https://github.com/hazelcast/hazelcast/issues/3033">[#3033</a>].</p>
</li>
<li>
<p>Short <code>await()</code> on condition of contended lock causes
IllegalStateException
<a href="https://github.com/hazelcast/hazelcast/issues/3025">[#3025</a>].</p>
</li>
<li>
<p>Indices and Comparable: not documented
<a href="https://github.com/hazelcast/hazelcast/issues/3024">[#3024</a>].</p>
</li>
<li>
<p>Marking Heartbeat as healthy is too late
<a href="https://github.com/hazelcast/hazelcast/issues/3014">[#3014</a>].</p>
</li>
<li>
<p>3.3-RC2: <code>IMap#keySet</code> triggers value deserialization
<a href="https://github.com/hazelcast/hazelcast/issues/3008">[#3008</a>].</p>
</li>
<li>
<p><code>map.destroy()</code> throws DistributedObjectDestroyedException
<a href="https://github.com/hazelcast/hazelcast/issues/3001">[#3001</a>].</p>
</li>
<li>
<p>Stabilizer tests Final profile, Xlarge cluster
OperationTimeoutException
<a href="https://github.com/hazelcast/hazelcast/issues/2999">[#2999</a>].</p>
</li>
<li>
<p><code>com.hazelcast.jca.HazelcastConnection::getExecutorService</code> returns
plain ExecutorService
<a href="https://github.com/hazelcast/hazelcast/issues/2986">[#2986</a>].</p>
</li>
<li>
<p>Serialization NPE in MapStoreTest stabilizer, 3.3-RC3-SNAPSHOT
<a href="https://github.com/hazelcast/hazelcast/issues/2985">[#2985</a>].</p>
</li>
<li>
<p>Bug with <code>IMap.getAll()</code>
<a href="https://github.com/hazelcast/hazelcast/issues/2982">[#2982</a>].</p>
</li>
<li>
<p>Client deadlock on single core machines
<a href="https://github.com/hazelcast/hazelcast/issues/2971">[#2971</a>].</p>
</li>
<li>
<p>Retrieve number of futures in loop in calling thread
<a href="https://github.com/hazelcast/hazelcast/issues/2964">[#2964</a>].</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>RC2 Fixes</strong></p>
</div>
<div class="paragraph">
<p>This section lists issues solved for 3.3-RC2 (Release Candidate 2)
release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>evictAll</code> should flush to staging area
<a href="https://github.com/hazelcast/hazelcast/issues/2969">#2969</a>.</p>
</li>
<li>
<p>NPE exception in MapStoreTest
<a href="https://github.com/hazelcast/hazelcast/issues/2956">[#2956</a>].</p>
</li>
<li>
<p>Fixed <code>AddSessionEntryProcessor</code>
<a href="https://github.com/hazelcast/hazelcast/issues/2955">[#2955</a>].</p>
</li>
<li>
<p>Added <code>StripedExecutor</code> to WanReplicationService
<a href="https://github.com/hazelcast/hazelcast/issues/2947">[#2947</a>].</p>
</li>
<li>
<p>All read operations of map should respect expired keys
<a href="https://github.com/hazelcast/hazelcast/issues/2946">[#2946</a>].</p>
</li>
<li>
<p>Fix test EvictionTest#testMapWideEviction
<a href="https://github.com/hazelcast/hazelcast/issues/2944">[#2944</a>].</p>
</li>
<li>
<p>Heartbeat check of clients from nodes
<a href="https://github.com/hazelcast/hazelcast/issues/2936">[#2936</a>].</p>
</li>
<li>
<p>WebFilter does not clean up timed- out sessions
<a href="https://github.com/hazelcast/hazelcast/issues/2930">[#2930</a>].</p>
</li>
<li>
<p>Fix leaking empty concurrent hashmaps
<a href="https://github.com/hazelcast/hazelcast/issues/2929">[#2929</a>].</p>
</li>
<li>
<p>Data loss fix in <em>hazelcast-wm</em> module
<a href="https://github.com/hazelcast/hazelcast/issues/2927">[#2927</a>].</p>
</li>
<li>
<p>Configured event queue capacity
<a href="https://github.com/hazelcast/hazelcast/issues/2924">[#2924</a>].</p>
</li>
<li>
<p>Client closes owner connection when a connection to the same address
is closed <a href="https://github.com/hazelcast/hazelcast/issues/2921">[#2921</a>].</p>
</li>
<li>
<p>Close the owner connection if heartbeat timeout when client is smart
<a href="https://github.com/hazelcast/hazelcast/issues/2916">[#2916</a>].</p>
</li>
<li>
<p>Set application buffer size to not exceed <code>tls</code> record size
<a href="https://github.com/hazelcast/hazelcast/issues/2914">[#2914</a>].</p>
</li>
<li>
<p>EntryProcessor makes unnecessary serialization
<a href="https://github.com/hazelcast/hazelcast/issues/2913">[#2913</a>].</p>
</li>
<li>
<p>Make evictable time window configurable
<a href="https://github.com/hazelcast/hazelcast/issues/2910">[#2910</a>].</p>
</li>
<li>
<p>Fixes data loss issue when partition table is being synced and a node
is gracefully shutdown
<a href="https://github.com/hazelcast/hazelcast/issues/2908">[#2908</a>].</p>
</li>
<li>
<p>MapStoreConfig; implementation instance is not set, when configured
via XML <a href="https://github.com/hazelcast/hazelcast/issues/2898">[#2898</a>].</p>
</li>
<li>
<p>LocalMapStats does not record stats about locked entries in 3.x
<a href="https://github.com/hazelcast/hazelcast/issues/2876">[#2876</a>].</p>
</li>
<li>
<p>Concurrency security interceptor
<a href="https://github.com/hazelcast/hazelcast/issues/2874">[#2874</a>].</p>
</li>
<li>
<p>Client hangs during split, if split occurs due to network error
<a href="https://github.com/hazelcast/hazelcast/issues/2850">[#2850</a>].</p>
</li>
<li>
<p>Network connection loss does not release lock
<a href="https://github.com/hazelcast/hazelcast/issues/2818">[#2818</a>].</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>RC1 Fixes</strong></p>
</div>
<div class="paragraph">
<p>This section lists issues solved for 3.3-RC1 (Release Candidate 1)
release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>It is not possible to copy the link from
<em><a href="http://hazelcast.org/download/" class="bare">http://hazelcast.org/download/</a></em> and run <code>wget</code> on it
<a href="https://github.com/hazelcast/hazelcast/issues/2814">[#2814</a>].</p>
</li>
<li>
<p><code>mapCleared</code> method for EntryListener is needed
<a href="https://github.com/hazelcast/hazelcast/issues/2789">[#2789</a>].</p>
</li>
<li>
<p>The method <code>keySet</code> with predicate should trigger loading of MapStore
<a href="https://github.com/hazelcast/hazelcast/issues/2692">[#2692</a>].</p>
</li>
<li>
<p>MapStore with write-behind: The method <code>IMap.remove()</code> followed by
<code>IMap.putIfAbsent(key,value)</code> still returns the old value
<a href="https://github.com/hazelcast/hazelcast/issues/2685">[#2685</a>].</p>
</li>
<li>
<p>Hazelcast cannot read UTF-8 String if ``multiple-byte'' characters end
up at position that is an even multiple of buffer size
<a href="https://github.com/hazelcast/hazelcast/issues/2674">[#2674</a>].</p>
</li>
<li>
<p>Current implementation of record expiration relies on undefined
behavior of <code>System.nanoTime()</code>
<a href="https://github.com/hazelcast/hazelcast/issues/2666">[#2666</a>].</p>
</li>
<li>
<p>Inconsistency at Hazelcast Bootup ``Editions'' message
<a href="https://github.com/hazelcast/hazelcast/issues/2641">[#2641</a>].</p>
</li>
<li>
<p><code>AbstractReachabilityHandler</code> writes to standard output
<a href="https://github.com/hazelcast/hazelcast/issues/2591">[#2591</a>].</p>
</li>
<li>
<p><code>IMap.set()</code> does not not remove a key from write behind deletions
queue <a href="https://github.com/hazelcast/hazelcast/issues/2588">[#2588</a>].</p>
</li>
<li>
<p><code>com.hazelcast.core.EntryView#getLastAccessTime</code> is
invalidhttps://github.com/hazelcast/hazelcast/issues/2581[[#2581]].</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-2-7"><a class="anchor" href="#3-2-7"></a><a class="link" href="#3-2-7">3.2.7</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>There are some minor internal improvements.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-2-6"><a class="anchor" href="#3-2-6"></a><a class="link" href="#3-2-6">3.2.6</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following are the fixed issues for 3.2.6 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>MapStore in write-behind mode throws Exception (Spring configured)
<a href="https://github.com/hazelcast/hazelcast/issues/3397">[#3397</a>].</p>
</li>
<li>
<p>Wildcard pattern of the map (map is configured with a wildcard in its
name) should be respected during evictions
<a href="https://github.com/hazelcast/hazelcast/issues/3345">[#3345</a>].</p>
</li>
<li>
<p>Map eviction does not work when the policy is <code>USED_HEAP_PERCENTAGE''
or </code>USED_HESAP SIZE''
<a href="https://github.com/hazelcast/hazelcast/issues/3321">[#3321</a>].</p>
</li>
<li>
<p>Exceptions when using Portable serialization
<a href="https://github.com/hazelcast/hazelcast/issues/3313">[#3313</a>].</p>
</li>
<li>
<p>When Hazelcast is used as drop-in replacement for Memcached, it causes
errors <a href="https://github.com/hazelcast/hazelcast/issues/3182">[#3182</a>].</p>
</li>
<li>
<p>Null Pointer Exception is thrown by <code>MapService.dispatchEvent</code>
<a href="https://github.com/hazelcast/hazelcast/issues/3101">[#3101</a>].</p>
</li>
<li>
<p>PagingPredicate returns duplicated elements which result in an
infinite loop
<a href="https://github.com/hazelcast/hazelcast/issues/3047">[#3047</a>].</p>
</li>
<li>
<p><code>ContextClassLoader</code> is by default only set on some cached operation
threads, not on most others
<a href="https://github.com/hazelcast/hazelcast/issues/2721">[#2721</a>].</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-2-5"><a class="anchor" href="#3-2-5"></a><a class="link" href="#3-2-5">3.2.5</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following are the fixed issues for 3.2.5 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Txn map keyset and values with portable entries is not working
correctly. <a href="https://github.com/hazelcast/hazelcast/issues/3152">[#3152</a>]</p>
</li>
<li>
<p><code>TransactionalMap.{putIfAbsent(k, v), replace(k, v), replace(k, v1, v2), remove(k, v)}</code>
methods never release lock after transaction ends.
<a href="https://github.com/hazelcast/hazelcast/issues/3149">[#3149</a>]</p>
</li>
<li>
<p>Test failure at <code>ClientMapTest.testMapStatistics</code>.
<a href="https://github.com/hazelcast/hazelcast/issues/3138">[#3138</a>]</p>
</li>
<li>
<p><code>NetworkConfig.setReuseAddress</code> is not available in the XML.
<a href="https://github.com/hazelcast/hazelcast/issues/3122">[#3122</a>]</p>
</li>
<li>
<p>When a selector fails to open, the <code>AbstractSelector</code> does not throw
an exception, but logs it and then continues. Also, when <code>select</code> throws
an IOException, this exception is not dealt correctly.
<a href="https://github.com/hazelcast/hazelcast/issues/3105">[#3105</a>]</p>
</li>
<li>
<p>Test failure at <code>QueryBasicTest.testInPredicateWithEmptyArray</code>.
<a href="https://github.com/hazelcast/hazelcast/issues/3060">[#3060</a>]</p>
</li>
<li>
<p>Hibernate cache flush leaves ClientMapProxy in an inconsistent state.
This cache flush triggers <code>IMapRegionCache.clear()</code> and the
implementation here does not look correct since it leaves the ``map''
field in the inconsistent state (<em>context = null</em>) and prevents any
further use of it.
<a href="https://github.com/hazelcast/hazelcast/issues/3004">[#3004</a>]</p>
</li>
<li>
<p>Fixes operation execution/invocation on IO threads issue.
<a href="https://github.com/hazelcast/hazelcast/pull/2994">[#2994</a>]</p>
</li>
<li>
<p>Node cannot recover from <code>MergeOperation</code> if target node exits the
cluster. <a href="https://github.com/hazelcast/hazelcast/issues/2937">[#2937</a>]</p>
</li>
<li>
<p>Client fails to run due to the lack of <code>ClientTestApp</code> class.
<a href="https://github.com/hazelcast/hazelcast/issues/2817">[#2817</a>]</p>
</li>
<li>
<p>Using Hazelcast Queue, assume that there is a system in which messages
are actively being consumed by one consumer. When a second Hazelcast
instance is started (i.e. second consumer for the same queue), Hazelcast
throws an exception, then continues normally and there are two competing
consumers on the same queue.
<a href="https://github.com/hazelcast/hazelcast/issues/2805">[#2805</a>]</p>
</li>
<li>
<p><code>IMap.submitToKey</code> and <code>IMap.executeOnKey</code> in combination with nodes
joining/leaving the cluster result in data loss.
<a href="https://github.com/hazelcast/hazelcast/issues/2785">[#2785</a>]</p>
</li>
<li>
<p>Too much delay for deciding heartbeat timeout.
<a href="https://github.com/hazelcast/hazelcast/issues/2766">[#2766</a>]</p>
</li>
<li>
<p>When multiple predicates are combined by an <code>AndPredicate</code>, the first
<code>IndexAwarePredicate</code> that is not indexed will be added to the ``no
index'' list twice.
<a href="https://github.com/hazelcast/hazelcast/issues/2531">[#2531</a>]</p>
</li>
<li>
<p>There appears to be a leak in the memory in
<code>SecondsBasedEntryTaskScheduler</code> when idle timeout is enabled on a map.
<a href="https://github.com/hazelcast/hazelcast/issues/2343">[#2343</a>]</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-2-4"><a class="anchor" href="#3-2-4"></a><a class="link" href="#3-2-4">3.2.4</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following are the fixed issues for 3.2.4 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Assigning wrong item ID on backup when instance is shutdown in
QueueStore. <a href="https://github.com/hazelcast/hazelcast/issues/2842">[#2842</a>]</p>
</li>
<li>
<p><code>IQueue.take</code> throws HazelcastException instead of
InterruptedException.
<a href="https://github.com/hazelcast/hazelcast/issues/2833">[#2833</a>]</p>
</li>
<li>
<p>Hazelcast distribution has some left-over files.
<a href="https://github.com/hazelcast/hazelcast/issues/2821">[#2821</a>]</p>
</li>
<li>
<p>Management Center cannot update map configuration on already created
map proxies. <a href="https://github.com/hazelcast/hazelcast/issues/2810">[#2810</a>]</p>
</li>
<li>
<p>Transient test failure: <code>IMap.get(k)</code> returns null.
<a href="https://github.com/hazelcast/hazelcast/issues/2804">[#2804</a>]</p>
</li>
<li>
<p><code>IllegalArgumentException: Target cannot be null!</code> shows up when
<code>MultipleEntryBackupOperationForNullValue</code> test is run by
<code>executeOnKeys()</code> firstly.
<a href="https://github.com/hazelcast/hazelcast/issues/2754">[#2754</a>]</p>
</li>
<li>
<p>When creating an instance with EntryProcessor, the backup process does
not work. <a href="https://github.com/hazelcast/hazelcast/issues/2752">[#2752</a>]</p>
</li>
<li>
<p>Data loss happens in the web filter.
<a href="https://github.com/hazelcast/hazelcast/issues/2746">[#2746</a>]</p>
</li>
<li>
<p><code>BackupEntryProcessor</code> stores the value even though it is not set
explicitly. <a href="https://github.com/hazelcast/hazelcast/issues/2613">[#2613</a>]</p>
</li>
<li>
<p>The test <code>listenerAddStress</code> fails often.
<a href="https://github.com/hazelcast/hazelcast/issues/2611">[#2611</a>]</p>
</li>
<li>
<p>Predicate should fail when null argument is passed.
<a href="https://github.com/hazelcast/hazelcast/issues/2577">[#2577</a>]</p>
</li>
<li>
<p>XAResourceWrapper does not honor contract of
<code>XAResource#setTransactionTimeout</code>.
<a href="https://github.com/hazelcast/hazelcast/issues/2569">[#2569</a>]</p>
</li>
<li>
<p>Allow <code>Predicates.and</code> and <code>Predicates.or</code> for more than 2 arguments.
<a href="https://github.com/hazelcast/hazelcast/issues/2563">[#2563</a>]</p>
</li>
<li>
<p>Semaphore is given to the thread that is coming late.
<a href="https://github.com/hazelcast/hazelcast/issues/2472">[#2472</a>]</p>
</li>
<li>
<p><code>UnknownHostException</code> is logged when using hostnames for seed
addresses. <a href="https://github.com/hazelcast/hazelcast/issues/2125">[#2125</a>]</p>
</li>
<li>
<p>The Java client seems to hang if there is blocking of a map call in
map listener.
<a href="https://github.com/hazelcast/hazelcast/issues/2106">[#2106</a>]</p>
</li>
<li>
<p>The cluster is not responsive when 2nd node joins.
<a href="https://github.com/hazelcast/hazelcast/issues/2105">[#2105</a>]</p>
</li>
<li>
<p>Hibernate query caches are not configurable.
<a href="https://github.com/hazelcast/hazelcast/issues/2064">[#2064</a>]</p>
</li>
<li>
<p>XA Transactions should be explained in the Reference Manual.
<a href="https://github.com/hazelcast/hazelcast/issues/2020">[#2020</a>]</p>
</li>
<li>
<p>Encryption enabled results in cluster to hang under load.
<a href="https://github.com/hazelcast/hazelcast/issues/1897">[#1897</a>]</p>
</li>
<li>
<p>SSL connections are unreliable.
<a href="https://github.com/hazelcast/hazelcast/issues/1896">[#1896</a>]</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-2-3"><a class="anchor" href="#3-2-3"></a><a class="link" href="#3-2-3">3.2.3</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following are the fixed issues for 3.2.3 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The method <code>TransactionalQueue.poll</code> fails to find an item that is put
into the queue in the same transaction with a non-zero timeout.
<a href="https://github.com/hazelcast/hazelcast/issues/2669">[#2669</a>]</p>
</li>
<li>
<p>IExecutorService fails when it is called with MemberSelector instance
that returns 0 Members.
<a href="https://github.com/hazelcast/hazelcast/issues/2650">[#2650</a>]</p>
</li>
<li>
<p>If statistics are enabled, map’s <code>InMemoryFormat.Object</code> does not
work. <a href="https://github.com/hazelcast/hazelcast/issues/2622">[#2622</a>]</p>
</li>
<li>
<p>There is a memory leak in long running Hazelcast instances because of
a bug in <code>MapEvictionManager.MapEvictTask</code>.
<a href="https://github.com/hazelcast/hazelcast/issues/2596">[#2596</a>]</p>
</li>
<li>
<p>Hazelcast client is missing an extensive XML Config Test and XSD Test.
<a href="https://github.com/hazelcast/hazelcast/issues/2587">[#2587</a>]</p>
</li>
<li>
<p>The client may consider the original address list if no cluster member
can be reached.
<a href="https://github.com/hazelcast/hazelcast/issues/2585">[#2585</a>]</p>
</li>
<li>
<p>Locks are not cleaned upon the operation <code>map.destroy</code>.
<a href="https://github.com/hazelcast/hazelcast/issues/2582">[#2582</a>]</p>
</li>
<li>
<p>Classpath: Configuration file discovery is not working.
<a href="https://github.com/hazelcast/hazelcast/issues/2565">[#2565</a>]</p>
</li>
<li>
<p>The method <code>ClientService.getConnectedClients()</code> does not always
return the correct number of clients.
<a href="https://github.com/hazelcast/hazelcast/issues/2541">[#2541</a>]</p>
</li>
<li>
<p>Nodes leaving and joining from/to the cluster can cause multiple
subscription callbacks to be sent.
<a href="https://github.com/hazelcast/hazelcast/issues/2539">[#2539</a>]</p>
</li>
<li>
<p>Predicate fails with <code>NullPointerException</code> if the value is null.
<a href="https://github.com/hazelcast/hazelcast/issues/2522">[#2522</a>]</p>
</li>
<li>
<p>Messages’ order breaks with versions 3.2+.
<a href="https://github.com/hazelcast/hazelcast/issues/2513">[#2513</a>]</p>
</li>
<li>
<p>The method <code>ClientProxy.destroy</code> should always clean the resources.
<a href="https://github.com/hazelcast/hazelcast/issues/2475">[#2475</a>]</p>
</li>
<li>
<p>The method <code>HazelcastHttpSession.getAttributeNames</code> returns entries
that were only read but not written.
<a href="https://github.com/hazelcast/hazelcast/issues/2434">[#2434</a>]</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-2-2"><a class="anchor" href="#3-2-2"></a><a class="link" href="#3-2-2">3.2.2</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following are the fixed issues for 3.2.2 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Client security callable fix.
<a href="https://github.com/hazelcast/hazelcast/pull/2561">[#2561</a>]</p>
</li>
<li>
<p>Updating a key in a transaction gives listeners an entryAdded()
callback instead of entryUpdated().
<a href="https://github.com/hazelcast/hazelcast/issues/2542">[#2542</a>]</p>
</li>
<li>
<p>Client ssl engine doesn’t need keyStore and keyStorePassword.
<a href="https://github.com/hazelcast/hazelcast/pull/2525">[#2525</a>]</p>
</li>
<li>
<p>Added support for Mapper, Combiner, Reducer, KeyValueSource to
implement HazelcastInstanceAware.
<a href="https://github.com/hazelcast/hazelcast/pull/2502">[#2502</a>]</p>
</li>
<li>
<p>Fixed alter function.
<a href="https://github.com/hazelcast/hazelcast/pull/2496">[#2496</a>]</p>
</li>
<li>
<p>Return cached value upon IMap.get() if near cache is enabled.
<a href="https://github.com/hazelcast/hazelcast/pull/2482">[#2482</a>]</p>
</li>
<li>
<p>Exception initializing hz:client.
<a href="https://github.com/hazelcast/hazelcast/issues/2480">[#2480</a>]</p>
</li>
<li>
<p>Fixed portable serialization between different services versions.
<a href="https://github.com/hazelcast/hazelcast/pull/2478">[#2478</a>]</p>
</li>
<li>
<p>Resolves a data race in the client proxy that can lead to an NPE.
<a href="https://github.com/hazelcast/hazelcast/pull/2474">[#2474</a>]</p>
</li>
<li>
<p>Fixed partition group hostname matching.
<a href="https://github.com/hazelcast/hazelcast/pull/2470">[#2470</a>]</p>
</li>
<li>
<p>Client shutdown issue: Improve logging.
<a href="https://github.com/hazelcast/hazelcast/issues/2442">[#2442</a>]</p>
</li>
<li>
<p>Unnecessary synchronized lock when invoking
com.hazelcast.instance.LifecycleServiceImpl.isRunning().
<a href="https://github.com/hazelcast/hazelcast/issues/2454">[#2454</a>]</p>
</li>
<li>
<p>If MapStoreFactory throws exception, instance hangs.
<a href="https://github.com/hazelcast/hazelcast/issues/2445">[#2445</a>]</p>
</li>
<li>
<p>Semaphore is given to the thread that is coming late.
<a href="https://github.com/hazelcast/hazelcast/issues/2443">[#2443</a>]</p>
</li>
<li>
<p>Lots of exceptions when shutting down connection.
<a href="https://github.com/hazelcast/hazelcast/issues/2441">[#2441</a>]</p>
</li>
<li>
<p>Migration fails when statistics are disabled.
<a href="https://github.com/hazelcast/hazelcast/issues/2436">[#2436</a>]</p>
</li>
<li>
<p>3.2.1 regression: nested transactions are not caught and prevented.
<a href="https://github.com/hazelcast/hazelcast/issues/2404">[#2404</a>]</p>
</li>
<li>
<p>Client proxy init synced.
<a href="https://github.com/hazelcast/hazelcast/pull/2376">[#2376</a>]</p>
</li>
<li>
<p>Fixes hostname matching problem when interface has wildcards.
<a href="https://github.com/hazelcast/hazelcast/pull/2398">[#2398</a>]</p>
</li>
<li>
<p>Fix weblogic shutdown backport.
<a href="https://github.com/hazelcast/hazelcast/pull/2391">[#2391</a>]</p>
</li>
<li>
<p>NotWritablePropertyException connectionAttemptLimit with ssl client
config. <a href="https://github.com/hazelcast/hazelcast/issues/2335">[#2335</a>]</p>
</li>
<li>
<p>Map-Reduce Operation fails, when another instance tries to form a
cluster with an instance running a map reduce task.
<a href="https://github.com/hazelcast/hazelcast/issues/2354">[#2354</a>]</p>
</li>
<li>
<p>EntryEvent getMember returning null when a node leaves the cluster.
<a href="https://github.com/hazelcast/hazelcast/issues/2358">[#2358</a>]</p>
</li>
<li>
<p>NullPointerException in Bundle Activator.
<a href="https://github.com/hazelcast/hazelcast/issues/2489">[#2489</a>]</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-2-1"><a class="anchor" href="#3-2-1"></a><a class="link" href="#3-2-1">3.2.1</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following are the fixed issues for 3.2.1 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>JCA problems have been fixed.
<a href="https://github.com/hazelcast/hazelcast/issues/2025">#2025</a>.</p>
</li>
<li>
<p>C++ client compilation problems are fixed.</p>
</li>
<li>
<p>Redo problem about Java dummy client is fixed.</p>
</li>
<li>
<p>Round robin load balancer of Java client is improved.</p>
</li>
<li>
<p>Initial timeout is for the initial connections in Java clients.</p>
</li>
<li>
<p>Wildcard configuration improvement in near cache configuration.</p>
</li>
<li>
<p>Unneeded serializations in EntryProcessor should be removed when the
object format is <em>In-Memory</em>
<a href="https://github.com/hazelcast/hazelcast/issues/2139">#2139</a>.</p>
</li>
<li>
<p>Race condition in near cache has been solved, immediate invalidation
of local near cache was needed
<a href="https://github.com/hazelcast/hazelcast/issues/2163">#2163</a>.</p>
</li>
<li>
<p>Predicate issue seen in transactions is solved.</p>
</li>
<li>
<p>Comparator issue in map eviction is solved.</p>
</li>
<li>
<p>Map eviction part has been refactored due to a race condition on map
listener <a href="https://github.com/hazelcast/hazelcast/issues/2324">#2324</a>.</p>
</li>
<li>
<p>Stale data problem in client near cache has been solved
<a href="https://github.com/hazelcast/hazelcast/issues/2065">#2065</a>.</p>
</li>
<li>
<p>Many checkstyle and findbugs issues are solved.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-2"><a class="anchor" href="#3-2"></a><a class="link" href="#3-2">3.2</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section lists the new features, enhancements and fixed issues for
3.2 release.</p>
</div>
<div class="sect2">
<h3 id="new-features-9"><a class="anchor" href="#new-features-9"></a><a class="link" href="#new-features-9">New Features</a></h3>
<div class="ulist">
<ul>
<li>
<p><strong>NIO Client</strong>: New architecture based on NIO introduced to support more
scalable and concurrent client usage.</p>
</li>
<li>
<p><strong>MapReduce Framework</strong>: MapReduce implemented for your key-value
collections that need to be reduced by grouping the keys. Please see
<a href="http://www.infoq.com/news/2014/02/hazelcast-mapreduce-api">the interview</a>
and
<a href="http://docs.hazelcast.org/docs/3.2/manual/html-single/hazelcast-documentation.html#mapreduce">MapReduce</a>
section.</p>
</li>
<li>
<p><strong>Order/Limit Support</strong>: Now you can order and limit results returned by
queries performed on Hazelcast Distributed Map.</p>
</li>
<li>
<p>*C Client*: Native C client developed for C++ users which can
connect to a Hazelcast cluster and realize almost all operations that a
node can perform. Please see
<a href="http://docs.hazelcast.org/docs/3.2/manual/html-single/hazelcast-documentation.html#native-clients">Native
Clients</a>.</p>
</li>
<li>
<p><strong>C# Client</strong>: Also, Native C# client that has a very similar API with
Native Java client developed. Please see
<a href="http://docs.hazelcast.org/docs/3.2/manual/html-single/hazelcast-documentation.html#native-clients">Native
Clients</a>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="enhancements-10"><a class="anchor" href="#enhancements-10"></a><a class="link" href="#enhancements-10">Enhancements</a></h3>
<div class="ulist">
<ul>
<li>
<p>Size of a distributed queue via REST API can be returned.
<a href="https://github.com/hazelcast/hazelcast/pull/1809">[#1809</a>]<br></p>
</li>
<li>
<p>InitialLoadMode configuration parameter (having Lazy and Eager as
values) added to MapStoreConfig.
<a href="https://github.com/hazelcast/hazelcast/pull/1751">[#1751</a>]</p>
</li>
<li>
<p>Tagging support for Executor Service introduced such that nodes can be
tagged for IExecutorService.
<a href="https://github.com/hazelcast/hazelcast/issues/1457">[1457</a>]</p>
</li>
<li>
<p><code>getForUpdate()</code> operation for transactional map introduced.
<a href="https://github.com/hazelcast/hazelcast/issues/1033">[#1033</a>]</p>
</li>
<li>
<p>Entry processor can run on a set of keys with the introduction of
<code>executeOnKeys(keys,entryprocessor)</code> method for IMap.
<a href="https://github.com/hazelcast/hazelcast/pull/1423">[1423</a>]</p>
</li>
<li>
<p><code>getNearCacheStats()</code> introduced. Statistics for near cache can be
retrieved. <a href="https://github.com/hazelcast/hazelcast/issues/30">[#30</a>]</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="fixes-12"><a class="anchor" href="#fixes-12"></a><a class="link" href="#fixes-12">Fixes</a></h3>
<div class="ulist">
<ul>
<li>
<p><code>LocalMapStats.getNearCacheStats()</code> can return null when it is called
before a map get that calls <code>initNearCache()</code>.
<a href="https://github.com/hazelcast/hazelcast/issues/2009">[#2009</a>]</p>
</li>
<li>
<p><code>testMapWithIndexAfterShutDown</code> fails in OpenJDK.
<a href="https://github.com/hazelcast/hazelcast/issues/2001">[#2001</a>]</p>
</li>
<li>
<p>Portable Serialization needs objects to be shared between client and
server. <a href="https://github.com/hazelcast/hazelcast/issues/1957">[#1957</a>]</p>
</li>
<li>
<p>Near cache entries should be locally invalidate on
<code>IMap.executeOnKey()</code>.
<a href="https://github.com/hazelcast/hazelcast/issues/1951">[#1951</a>]</p>
</li>
<li>
<p>OperationTimeoutException is thrown when executing task that runs
longer than <code>hazelcast.operation.call.timeout.millis</code>.
<a href="https://github.com/hazelcast/hazelcast/issues/1949">[#1949</a>]</p>
</li>
<li>
<p><code>MapStore#store</code> was called when executing AbstractEntryProcessor on
backup. <a href="https://github.com/hazelcast/hazelcast/issues/1940">[#1940</a>]</p>
</li>
<li>
<p>After an OperationTimeoutException is thrown from `ILock.tryLock()
(and after the system is back in a normal state), the named lock remains
locked. <a href="https://github.com/hazelcast/hazelcast/issues/1937">[#1937</a>]</p>
</li>
<li>
<p>Hazelcast client needs OutOfMemoryErrorDispatcher.
<a href="https://github.com/hazelcast/hazelcast/issues/1933">[#1933</a>]</p>
</li>
<li>
<p>Near Cache: Caching of local entries may lead to race condition.
<a href="https://github.com/hazelcast/hazelcast/issues/1905">[#1905</a>]</p>
</li>
<li>
<p>After key owner node dies, it takes too much time for threads to
wakeup from <code>condition.await()</code>.
<a href="https://github.com/hazelcast/hazelcast/issues/1879">[#1879</a>]</p>
</li>
<li>
<p>Possible improvements/fixes for NearCache.
<a href="https://github.com/hazelcast/hazelcast/issues/1863">[#1863</a>]</p>
</li>
<li>
<p><code>MultipleEntryBackupOperation</code> does not handle deletion of entries.
<a href="https://github.com/hazelcast/hazelcast/issues/1854">[#1854</a>]</p>
</li>
<li>
<p>If topics are created/destroyed, then the statistics for that topic
are not destroyed and this can cause a memory leak.
<a href="https://github.com/hazelcast/hazelcast/issues/1847">[#1847</a>]</p>
</li>
<li>
<p>PartitionService backup/replication fixes.
<a href="https://github.com/hazelcast/hazelcast/issues/1840">[#1840</a>]</p>
</li>
<li>
<p>Cached null values remain in near cache after <code>evict</code> is called.
<a href="https://github.com/hazelcast/hazelcast/issues/1829">[#1829</a>]</p>
</li>
<li>
<p>NullPointerException in MultiMap when the service is shutdown before
the migration is processed.
<a href="https://github.com/hazelcast/hazelcast/issues/1823">[#1823</a>]</p>
</li>
<li>
<p>Network interruption causes node to continually warn with
WrongTargetException.
<a href="https://github.com/hazelcast/hazelcast/issues/1815">[#1815</a>]</p>
</li>
<li>
<p><code>DefaultRecordStore#removeAll</code> should be modified so that it keeps
``key objects to delete'' as a list, not a set.
<a href="https://github.com/hazelcast/hazelcast/issues/1795">[#1795</a>]</p>
</li>
<li>
<p>Very long <code>operation.run()</code> call stack especially when high partition
count is used.
<a href="https://github.com/hazelcast/hazelcast/issues/1745">[#1745</a>]</p>
</li>
<li>
<p>When executing an entry processor with an index aware predicate, the
index is not used, instead the predicate is applied to the entire entry
set. <a href="https://github.com/hazelcast/hazelcast/issues/1719">[#1719</a>]</p>
</li>
<li>
<p>When one node goes down in a cluster with 2 nodes (where near cache is
enabled), <code>containsKey</code> call hangs in the second node.
<a href="https://github.com/hazelcast/hazelcast/issues/1688">[#1688</a>]</p>
</li>
<li>
<p>When deleting an entry from an entry processor by setting the value to
null, it is not removed from the backup store.
<a href="https://github.com/hazelcast/hazelcast/issues/1687">[#1687</a>]</p>
</li>
<li>
<p>Client calls executed at server side cause unwanted (de)serialization.
<a href="https://github.com/hazelcast/hazelcast/issues/1669">[#1669</a>]</p>
</li>
<li>
<p>In <code>TrackableJobFuture.get(long, TimeUnit)</code>, there is a 100 ms of
sleep-spin while waiting for the result of a MapReduce task to be set.
<a href="https://github.com/hazelcast/hazelcast/issues/1648">[#1648</a>]</p>
</li>
<li>
<p>If <code>storeAll</code> takes much time and if instance terminates while map
store is running, data can be lost.
<a href="https://github.com/hazelcast/hazelcast/issues/1644">[#1644</a>]</p>
</li>
<li>
<p>A missing Spring 4 Cache method added to hazelcast-spring package
(namely <code>public T get(Object key, Class type)</code>).
<a href="https://github.com/hazelcast/hazelcast/issues/1627">[#1627</a>]</p>
</li>
<li>
<p>When eviction tasks are canceled, <code>scheduledExecutorService</code> is not
cleaned. <a href="https://github.com/hazelcast/hazelcast/issues/1595">[#1595</a>]</p>
</li>
<li>
<p><code>storeAll()</code> with new value for the same key should not be executed
until any previous <code>storeAll()</code> operations with the same key are not
completed. <a href="https://github.com/hazelcast/hazelcast/issues/1592">[#1592</a>]</p>
</li>
<li>
<p>When using native client to interact with Hazelcast cluster, some JMX
MBean attribute values on cluster nodes are not set/updated.
<a href="https://github.com/hazelcast/hazelcast/issues/1576">[#1576</a>]</p>
</li>
<li>
<p><code>IMap.getAll(keys)</code> method does not read from near cache.
<a href="https://github.com/hazelcast/hazelcast/issues/1532">[#1532</a>]</p>
</li>
<li>
<p>Near Cache <em>cache-local-entries</em> attribute is missing in
<code>hazelcast-spring-3.2</code> XSD.
<a href="https://github.com/hazelcast/hazelcast/issues/1524">[#1524</a>]</p>
</li>
<li>
<p>Exception while executing script in OpenJDK 8.
<a href="https://github.com/hazelcast/hazelcast/issues/1518">[#1518</a>]</p>
</li>
<li>
<p>Infinite waiting on merge operations when cluster shuts down.
<a href="https://github.com/hazelcast/hazelcast/issues/1504">[#1504</a>]</p>
</li>
<li>
<p>Client side socket interceptor is not needed to be
MemberSocketInterceptor.
<a href="https://github.com/hazelcast/hazelcast/issues/1444">[#1444</a>]</p>
</li>
<li>
<p>Near cache on the local node should be enabled if its InMemoryFormat
is different from that of the map.
<a href="https://github.com/hazelcast/hazelcast/issues/1438">[#1438</a>]</p>
</li>
<li>
<p>Async EntryProcessor does not deserialize the value before it is
called back. <a href="https://github.com/hazelcast/hazelcast/issues/1433">[#1433</a>]</p>
</li>
<li>
<p>A submitted task cannot be canceled via the native client.
<a href="https://github.com/hazelcast/hazelcast/issues/1394">[#1394</a>]</p>
</li>
<li>
<p><code>executeOnKeys(keys,entryprocessor)</code> introduced on IMap. With this
feature entry processor can be run on a set of keys.
<a href="https://github.com/hazelcast/hazelcast/issues/1339">[#1339</a>]</p>
</li>
<li>
<p>FINEST logging should be guarded where appropriate.
<a href="https://github.com/hazelcast/hazelcast/issues/1332">[#1332</a>]</p>
</li>
<li>
<p>False errors reported in Eclipse due to schema definition.
<a href="https://github.com/hazelcast/hazelcast/issues/1330">[#1330</a>]</p>
</li>
<li>
<p>Index based operations are not synchronized with partition changes.
<a href="https://github.com/hazelcast/hazelcast/issues/1297">[#1297</a>]</p>
</li>
<li>
<p>Management Center: InvocationTargetException in Tomcat console when a
node is started and then stopped.
<a href="https://github.com/hazelcast/hazelcast/issues/1267">[#1267</a>]</p>
</li>
<li>
<p>The system property <code>hazelcast.map.load.chunk.size</code> is being ignored
in Hazelcast 3.1.
<a href="https://github.com/hazelcast/hazelcast/issues/1110">[#1110</a>]</p>
</li>
<li>
<p>Master should fire repartitioning after getting confirmation from
nodes. <a href="https://github.com/hazelcast/hazelcast/issues/1058">[#1058</a>]</p>
</li>
<li>
<p>SqlPredicate does not Implement equals/hashCode.
<a href="https://github.com/hazelcast/hazelcast/issues/960">[#960</a>]</p>
</li>
<li>
<p><code>DelegatingFuture.isDone</code> seems to always return false until the
method <code>DelegatingFuture.get</code> is called.
<a href="https://github.com/hazelcast/hazelcast/issues/850">[#850</a>]</p>
</li>
<li>
<p>Predicate support for entry processor.
<a href="https://github.com/hazelcast/hazelcast/issues/826">[#826</a>]</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>RC2 Fixes</strong></p>
</div>
<div class="paragraph">
<p>The following are the fixed issues for 3.2-RC2 (Release Candidate 2)
release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>ClientService.getConnectedClients</code> returns all end points
<a href="https://github.com/hazelcast/hazelcast/issues/1883">[#1883</a>].</p>
</li>
<li>
<p>MultiMap is throwing <code>ConcurrentModificationExceptions</code>
<a href="https://github.com/hazelcast/hazelcast/issues/1882">[#1882</a>].</p>
</li>
<li>
<p><code>executorPoolSize</code> field of ClientConfig cannot be configured using
XML <a href="https://github.com/hazelcast/hazelcast/issues/1867">[#1867</a>].</p>
</li>
<li>
<p>Partition processing cannot be postponed
<a href="https://github.com/hazelcast/hazelcast/pull/1856">[#1856</a>].</p>
</li>
<li>
<p>Memory leak at client endpoints
<a href="https://github.com/hazelcast/hazelcast/pull/1842">[#1842</a>].</p>
</li>
<li>
<p>Errors related to management center configuration on startup
<a href="https://github.com/hazelcast/hazelcast/pull/1821">[#1821</a>].</p>
</li>
<li>
<p>XML parsing error by client
<a href="https://github.com/hazelcast/hazelcast/pull/1818">[#1818</a>].</p>
</li>
<li>
<p><code>ClientReAuthOperation</code> cannot return response without call ID
<a href="https://github.com/hazelcast/hazelcast/issues/1816">[#1816</a>].</p>
</li>
<li>
<p><code>MemberAttributeOperationType</code> should be introduced to remove the
dependency to <code>MapOperationType</code>
<a href="https://github.com/hazelcast/hazelcast/pull/1811">[#1811</a>].</p>
</li>
<li>
<p>Entry listener removal from MultiMap
<a href="https://github.com/hazelcast/hazelcast/pull/1810">[#1810</a>].</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>RC1 Fixes</strong></p>
</div>
<div class="paragraph">
<p>The following are the fixed issues for 3.2-RC1 (Release Candidate 1)
release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>TransactionalMap</em> does not support <code>put(K,V,long,TimeUnit)</code>
<a href="https://github.com/hazelcast/hazelcast/issues/1718">[#1718</a>].</p>
</li>
<li>
<p>Entry is not removed from backup store when it is deleted using entry
processor <a href="https://github.com/hazelcast/hazelcast/issues/1687">[#1687</a>].</p>
</li>
<li>
<p>Possibility of losing data when MapStore takes a long time
<a href="https://github.com/hazelcast/hazelcast/issues/1644">[#1644</a>].</p>
</li>
<li>
<p>When eviction tasks are cancelled, <code>scheduledExecutorService</code> should
be cleaned <a href="https://github.com/hazelcast/hazelcast/issues/1595">[#1595</a>].</p>
</li>
<li>
<p>A fix related to <em>StoreAll</em> is needed in a write-behind scenario
<a href="https://github.com/hazelcast/hazelcast/issues/1592">[#1592</a>].</p>
</li>
<li>
<p>Update problem at map statistics
<a href="https://github.com/hazelcast/hazelcast/issues/1576">[#1576</a>].</p>
</li>
<li>
<p>Exception while executing script in OpenJDK 8
<a href="https://github.com/hazelcast/hazelcast/issues/1518">[#1518</a>].</p>
</li>
<li>
<p>StackOverflowError at <code>AndResultSet</code>
<a href="https://github.com/hazelcast/hazelcast/issues/1501">[#1501</a>].</p>
</li>
<li>
<p>Near Cache using <code>InMemoryFormat.OBJECT</code> also for local node
<a href="https://github.com/hazelcast/hazelcast/issues/1438">[#1438</a>].</p>
</li>
<li>
<p>Async entry processor is not deserializing the value before returning
<a href="https://github.com/hazelcast/hazelcast/issues/1433">[#1433</a>].</p>
</li>
<li>
<p>Distributed Executor; <em>Future Cancel</em> is not working
<a href="https://github.com/hazelcast/hazelcast/issues/1394">[#1394</a>].</p>
</li>
<li>
<p><code>HazelcastInstanceFactory$InstanceFuture.get()</code> never returns when
<code>newHazelcastInstance()</code> method fails/throws exception
<a href="https://github.com/hazelcast/hazelcast/issues/1253">[#1253</a>].</p>
</li>
<li>
<p>Changes for <em>Vertx</em> on Openshift
<a href="https://github.com/hazelcast/hazelcast/pull/1176">[#1176</a>].</p>
</li>
<li>
<p>Serialization should be performed after database interaction for
MapStore <a href="https://github.com/hazelcast/hazelcast/issues/1115">[#1115</a>].</p>
</li>
<li>
<p>System property related to chunk size is passed over in Hazelcast 3.1
<a href="https://github.com/hazelcast/hazelcast/issues/1110">[#1110</a>].</p>
</li>
<li>
<p>Map backups lack eviction of some specific data
<a href="https://github.com/hazelcast/hazelcast/issues/1085">[#1085</a>].</p>
</li>
<li>
<p><code>DelegatingFuture.isDone</code> always returns false until get is called
<a href="https://github.com/hazelcast/hazelcast/issues/850">[#850</a>].</p>
</li>
<li>
<p>Predicate support for entry processor
<a href="https://github.com/hazelcast/hazelcast/issues/826">[#826</a>].</p>
</li>
<li>
<p>Full replication of Maps should be performed
<a href="https://github.com/hazelcast/hazelcast/issues/360">[#360</a>].</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-1-9"><a class="anchor" href="#3-1-9"></a><a class="link" href="#3-1-9">3.1.9</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following is the enhancement performed for 3.1.9 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Exposed <code>TcpIpJoiner.MAX_PORT_TRIES</code> as a configurable system
property. <a href="https://github.com/hazelcast/hazelcast/pull/9734">[#9734</a>]</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-1-8"><a class="anchor" href="#3-1-8"></a><a class="link" href="#3-1-8">3.1.8</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section lists the new features, enhancements and fixed issues for
3.1 and 3.1.x releases.</p>
</div>
<div class="sect2">
<h3 id="new-features-10"><a class="anchor" href="#new-features-10"></a><a class="link" href="#new-features-10">New Features</a></h3>
<div class="paragraph">
<p>This section provides the new features introduced with Hazelcast 3.1
release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Elastic Memory (Enterprise Extensions Only) is now available.</p>
</li>
<li>
<p>Hazelcast Security is now available.</p>
</li>
<li>
<p>Hazelcast JCA integration is back.</p>
</li>
<li>
<p>Controlled Partitioning: Controlled Partitioning is the ability to
control the partition of certain DistributedObjects like the IQueue,
IAtomicLong or ILock. This will make collocating related data easier.
Hazelcast map also supports custom partitioning strategies. A
PartitioningStrategy can be defined in map configuration.</p>
</li>
<li>
<p>TransactionalMap now supports <code>keySet()</code>, <code>keySet(predicate)</code>,
<code>values()</code> and <code>values(predicate)</code> methods.</p>
</li>
<li>
<p>Eviction based on USED_HEAP_PERCENTAGE or USED_HEAP_SIZE now takes
account real heap memory size consumed by map.</p>
</li>
<li>
<p>SqlPredicate now supports ’' as escape character.</p>
</li>
<li>
<p>SqlPredicate now supports regular expressions using REGEX keyword. For
example, <code>map.values(new SqlPredicate("name REGEX .*earl$"))</code>.</p>
</li>
<li>
<p>Hazelcast queue now supports QueueStoreFactory that will be used to
create custom QueueStores for persistent queues. QueueStoreFactory is
similar to map’s MapStoreFactory.</p>
</li>
<li>
<p>TransactionalQueue now supports <code>peek()</code> and <code>peek(timeout, timeunit)</code>
methods.</p>
</li>
<li>
<p>Client now has SSL support.</p>
</li>
<li>
<p>Client also supports custom socket implementations using SocketFactory
API. A custom socket factory can be defined in ClientConfig.</p>
</li>
<li>
<p>Hazelcast IList and ISet now have their own configurations. They can
be configured using config API, XML and Spring.</p>
</li>
<li>
<p><code>HazelcastInstance.shutdown()</code> method added back.</p>
</li>
<li>
<p>OSGI compatibility is improved significantly.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="fixes-13"><a class="anchor" href="#fixes-13"></a><a class="link" href="#fixes-13">Fixes</a></h3>
<div class="paragraph">
<p>This section lists issues solved for 3.1 and 3.1.x releases.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>ClassCastException</code> when using near cache.
<a href="https://github.com/hazelcast/hazelcast/issues/1941">[#1941</a>]</p>
</li>
<li>
<p>Hazelcast management console does not allow update of map
configuration in runtime.
<a href="https://github.com/hazelcast/hazelcast/issues/1898">[#1898</a>]</p>
</li>
<li>
<p>MultiMap ConcurrentModificationExceptions.
<a href="https://github.com/hazelcast/hazelcast/issues/1882">[#1882</a>]</p>
</li>
<li>
<p>Near Cache: Race Condition.
<a href="https://github.com/hazelcast/hazelcast/issues/1861">[#1861</a>]</p>
</li>
<li>
<p>ClientReAuthOperation cannot return response without call ID.
<a href="https://github.com/hazelcast/hazelcast/issues/1816">[#1816</a>]</p>
</li>
<li>
<p>REST put overrides TTL from the configuration.
<a href="https://github.com/hazelcast/hazelcast/issues/1783">[#1783</a>]</p>
</li>
<li>
<p>Management Center usage should not trigger loading of map.
<a href="https://github.com/hazelcast/hazelcast/issues/1770">[#1770</a>]</p>
</li>
<li>
<p>ResourceAdaptor fix to handle external HazelcastInstance breaking
scheme. <a href="https://github.com/hazelcast/hazelcast/issues/1727">[#1727</a>]</p>
</li>
<li>
<p>There is no <code>executeOnAllKey</code> for IMap, the documentation should be
changed. <a href="https://github.com/hazelcast/hazelcast/issues/1711">[#1711</a>]</p>
</li>
<li>
<p>Memory leak; <code>backupCalls</code> record is not removed if <code>Future.get()</code> is
not called during <code>IMap.putAsync()</code> or <code>IMap.removeAsync()</code>.
<a href="https://github.com/hazelcast/hazelcast/issues/1693">[#1693</a>]</p>
</li>
<li>
<p><code>ClassCastException</code> when removing from Multimap.
<a href="https://github.com/hazelcast/hazelcast/issues/1667">[#1667</a>]</p>
</li>
<li>
<p>com.hazelcast.spi.exception.RetryableHazelcastException: Map is not
ready. <a href="https://github.com/hazelcast/hazelcast/issues/1593">[#1593</a>]</p>
</li>
<li>
<p>Member join while loading persistent maps throws NPEs.
<a href="https://github.com/hazelcast/hazelcast/issues/1577">[#1577</a>]</p>
</li>
<li>
<p>Near cache does not work properly for null values.
<a href="https://github.com/hazelcast/hazelcast/issues/1570">[#1570</a>]</p>
</li>
<li>
<p>Memory Leak on operation timeout.
<a href="https://github.com/hazelcast/hazelcast/issues/1559">[#1559</a>]</p>
</li>
<li>
<p>EOFException: Remote socket is closed.
<a href="https://github.com/hazelcast/hazelcast/issues/1551">[#1551</a>]</p>
</li>
<li>
<p>Severe NullPointerException but then everything works fine.
<a href="https://github.com/hazelcast/hazelcast/issues/1548">[#1548</a>]</p>
</li>
<li>
<p><code>IMap.putTransient(K,V)</code> method (without TTL) is missing.
<a href="https://github.com/hazelcast/hazelcast/issues/1526">[#1526</a>]</p>
</li>
<li>
<p>Object is not an instance of declaring the class
com.hazelcast.query.impl.QueryException.
<a href="https://github.com/hazelcast/hazelcast/issues/1503">[#1503</a>]</p>
</li>
<li>
<p>Setting socket timeout, Hazelcast client will throw
SocketTimeoutException.
<a href="https://github.com/hazelcast/hazelcast/issues/1435">[#1435</a>]</p>
</li>
<li>
<p><code>QueueStore.store(Long, Object)</code> is called multiple times from
<code>TransactionalQueue.offer</code>.
<a href="https://github.com/hazelcast/hazelcast/issues/1412">[#1412</a>]</p>
</li>
<li>
<p>Warning: No transaction item for itemId: .
<a href="https://github.com/hazelcast/hazelcast/issues/1393">[#1393</a>]</p>
</li>
<li>
<p>StackOverflow in <code>AndResultSet</code>.
<a href="https://github.com/hazelcast/hazelcast/issues/1349">[#1349</a>]</p>
</li>
<li>
<p><code>maxIdleSeconds</code> is set to DEFAULT_TTL_SECONDS in
<code>com.hazelcast.config.MapConfig</code>.
<a href="https://github.com/hazelcast/hazelcast/issues/1308">[#1308</a>]</p>
</li>
<li>
<p>Serializer implementation registration with Spring config fails.
<a href="https://github.com/hazelcast/hazelcast/issues/1294">[#1294</a>]</p>
</li>
<li>
<p><code>ReadBackupData</code> on Map exposes internally stored value.
<a href="https://github.com/hazelcast/hazelcast/issues/1292">[#1292</a>]</p>
</li>
<li>
<p>Multimap: Lock is not owned by the transaction.
<a href="https://github.com/hazelcast/hazelcast/issues/1276">[#1276</a>]</p>
</li>
<li>
<p>Java deserialization of non-static inner classes fails.
<a href="https://github.com/hazelcast/hazelcast/issues/1265">[#1265</a>]</p>
</li>
<li>
<p>HazelcastInstance is not injected into MapInterceptor when
HazelcastInstanceAware is implemented.
<a href="https://github.com/hazelcast/hazelcast/issues/1233">[#1233</a>]</p>
</li>
<li>
<p>Remove <code>compare</code> optimization from map put.
<a href="https://github.com/hazelcast/hazelcast/issues/1231">[#1231</a>]</p>
</li>
<li>
<p>Unneeded deserialization in EntryOperation.
<a href="https://github.com/hazelcast/hazelcast/issues/1182">[#1182</a>]</p>
</li>
<li>
<p>Adding an InitialMembershipListener to ClientConfig using
<code>ClientConfig.addListenerConfig</code> throws NullPointerException.
<a href="https://github.com/hazelcast/hazelcast/issues/1181">[#1181</a>]</p>
</li>
<li>
<p>Insufficient calculation of next key/value when doing a restore of
message queue from database.
<a href="https://github.com/hazelcast/hazelcast/issues/1165">[#1165</a>]</p>
</li>
<li>
<p>Case insensitivity of configurations in XML.
<a href="https://github.com/hazelcast/hazelcast/issues/1152">[#1152</a>]</p>
</li>
<li>
<p>The scheme <code>hazelcast-spring3.1.xsd</code> throws SAXParseException when
<code>hz:interfaces</code> have multiple <code>hz:interface</code> elements.
<a href="https://github.com/hazelcast/hazelcast/issues/1145">[#1145</a>]</p>
</li>
<li>
<p>Bundle start fails due to <code>OSGiScriptEngineManager</code>.
<a href="https://github.com/hazelcast/hazelcast/issues/1136">[#1136</a>]</p>
</li>
<li>
<p>Apparent memory leak when using near cache.
<a href="https://github.com/hazelcast/hazelcast/issues/1087">[#1087</a>]</p>
</li>
<li>
<p>Semaphore can be initialized multiple times if permit-count = 0.
<a href="https://github.com/hazelcast/hazelcast/issues/1080">[#1080</a>]</p>
</li>
<li>
<p>Exception when running continuous query. And non-existent key is
deleted under transaction.
<a href="https://github.com/hazelcast/hazelcast/issues/1076">[#1076</a>]</p>
</li>
<li>
<p>Race condition between first map operation and re-populating a map
after a cluster restart.
<a href="https://github.com/hazelcast/hazelcast/issues/1070">[#1070</a>]</p>
</li>
<li>
<p>Eviction tasks should be cancelled on <code>remove()</code>, <code>evict()</code>.
<a href="https://github.com/hazelcast/hazelcast/issues/1068">[#1068</a>]</p>
</li>
<li>
<p>Stale cache issues when using <code>HazelcastLocalCacheRegionFactory</code>.
<a href="https://github.com/hazelcast/hazelcast/issues/1039">[#1039</a>]</p>
</li>
<li>
<p>When multiple nodes start simultaneously, post join process duplicates
some event registrations and causes warning logs on each publish.
<a href="https://github.com/hazelcast/hazelcast/issues/1024">[#1024</a>]</p>
</li>
<li>
<p>Multimap entry listener is called twice.
<a href="https://github.com/hazelcast/hazelcast/issues/993">[#993</a>]</p>
</li>
<li>
<p>Clear logic on <code>ByteArrayObjectDataOutput</code> can create memory leak with
large objects. <a href="https://github.com/hazelcast/hazelcast/issues/989">[#989</a>]</p>
</li>
<li>
<p>TransactionException: Lock is not owned by the transaction.
<a href="https://github.com/hazelcast/hazelcast/issues/988">[#988</a>]</p>
</li>
<li>
<p>Spring schema declaration is missing.
<a href="https://github.com/hazelcast/hazelcast/issues/982">[#982</a>]</p>
</li>
<li>
<p>Null object indexing exception.
<a href="https://github.com/hazelcast/hazelcast/issues/978">[#978</a>]</p>
</li>
<li>
<p>Entries not changed by an EntryProcessor should not render an
EntryListener event.
<a href="https://github.com/hazelcast/hazelcast/issues/969">[#969</a>]</p>
</li>
<li>
<p>Unlock parameter in TxnSetOperation backup operation is not
serialized. <a href="https://github.com/hazelcast/hazelcast/issues/956">[#956</a>]</p>
</li>
<li>
<p>PartitioningStrategy is not set in HazelcastClient.
<a href="https://github.com/hazelcast/hazelcast/issues/923">[#923</a>]</p>
</li>
<li>
<p>Enhancement request: Consider extending SqlPredicate to allow using
regexes. <a href="https://github.com/hazelcast/hazelcast/issues/914">[#914</a>]</p>
</li>
<li>
<p>Map <code>getAll()</code> is blocked with ``Map is not ready exception''.
<a href="https://github.com/hazelcast/hazelcast/issues/887">[#887</a>]</p>
</li>
<li>
<p>QueueStoreConfig needs a factory to support wildcard creation.
<a href="https://github.com/hazelcast/hazelcast/issues/884">[#884</a>]</p>
</li>
<li>
<p>Data is lost when transaction manager node terminates/crashes without
preparing transaction.
<a href="https://github.com/hazelcast/hazelcast/issues/863">[#863</a>]</p>
</li>
<li>
<p>Make <code>cache-null-value-seconds</code> customizable.
<a href="https://github.com/hazelcast/hazelcast/issues/806">[#806</a>]</p>
</li>
<li>
<p>Reintroduce the <code>Instanceof</code> predicate.
<a href="https://github.com/hazelcast/hazelcast/issues/790">[#790</a>]</p>
</li>
<li>
<p>Add <code>IMap.addEntryListener()</code> without key (continuous query).
<a href="https://github.com/hazelcast/hazelcast/issues/710">[#710</a>]</p>
</li>
<li>
<p>The calculation <code>used_heap_percentage</code> should take backups into
account. <a href="https://github.com/hazelcast/hazelcast/issues/403">[#403</a>]</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-0-3"><a class="anchor" href="#3-0-3"></a><a class="link" href="#3-0-3">3.0.3</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section lists the new features, enhancements and fixed issues for
3.0 and 3.0.x releases.</p>
</div>
<div class="sect2">
<h3 id="new-features-11"><a class="anchor" href="#new-features-11"></a><a class="link" href="#new-features-11">New Features</a></h3>
<div class="paragraph">
<p>This section provides the new features introduced with Hazelcast 3.0
release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Multi-thread execution: Operations are now executed by multiple
threads (by factor of processor cores). With Hazelcast 2, there was a
only single thread.</p>
</li>
<li>
<p>SPI: Service Programming Interface for developing new partitioned
services, data structures. All Hazelcast data structures like Map, Queue
are reimplemented with SPI.</p>
</li>
<li>
<p>IdentifiedDataSerializable: A slightly optimized version of
DataSerializable that does not use class name and reflection for
de-serialization.</p>
</li>
<li>
<p>Portable Serialization: Another Serialization interface that does not
use reflection and can navigate through binary data and
fetch/query/index individual field without having any reflection or
whole object de-serialization.</p>
</li>
<li>
<p>Custom Serialization: Support for custom serialization that can be
plugged into Hazelcast.</p>
</li>
<li>
<p>Entry Processor: Executing an EntryProcessor on the key or on all
entries. Hazelcast implicitly locks the entree and guarantees no
migration while the execution of the Processor.</p>
</li>
<li>
<p>In-Memory Format: Support for storing entries in Binary, Object and
Cached format.</p>
</li>
<li>
<p>Continuous Query: Support for listeners that register with a query and
are notified when there is a change on the Map that matches the Query.</p>
</li>
<li>
<p>Interceptors: Ability to intercept the Map operation before/after it
is actually executed.</p>
</li>
<li>
<p>Lazy Indexing:Ability to index existing items in the map. No need to
add indexes at the very beginning.</p>
</li>
<li>
<p>Queue: No more dependency on the distributed map</p>
</li>
<li>
<p>Queue: Scales really well as you have thousands of separate queues.</p>
</li>
<li>
<p>Queue: Persistence Support for persistence with QueueStore.</p>
</li>
<li>
<p>Multimap: Values can be Set/List/Queue.</p>
</li>
<li>
<p>Topic: Support for global ordering where all Nodes receive all
messages in the same order.</p>
</li>
<li>
<p>Distributed Transaction: Support for both 1-phase (local) and 2 phase
transactions with a totally new API.</p>
</li>
<li>
<p>New Binary Protocol: A new binary protocol based on portable
serialization. The same protocol is used for Java/C/C# and other
clients.</p>
</li>
<li>
<p>Smart client: Support for dummy and smart client. A dummy client will
maintain a connection to only one member, whereas the smart client can
route the operations to the node that owns the data.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="fixes-14"><a class="anchor" href="#fixes-14"></a><a class="link" href="#fixes-14">Fixes</a></h3>
<div class="paragraph">
<p>This section lists issues solved for 3.0 and 3.0.x releases.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A class cannot be LifecycleListener and MigrationListener at the same
time. <a href="https://github.com/hazelcast/hazelcast/issues/970">[#970</a>]</p>
</li>
<li>
<p>EntryProcessor does not fire entry events.
<a href="https://github.com/hazelcast/hazelcast/issues/950">[#950</a>]</p>
</li>
<li>
<p><code>IMap.localKeySet()</code> is very slow after upgrade to 3.0.
<a href="https://github.com/hazelcast/hazelcast/issues/946">[#946</a>]</p>
</li>
<li>
<p>Eviction logic error for <code>USED_HEAP_PERCENTAGE</code> and <code>USED_HEAP_SIZE</code>.
<a href="https://github.com/hazelcast/hazelcast/issues/891">[#891</a>]</p>
</li>
<li>
<p>Failed to execute SqlPredicate with LIKE and OR keywords on the same
field of the class.
<a href="https://github.com/hazelcast/hazelcast/issues/885">[#885</a>]</p>
</li>
<li>
<p>Infinite loop in native client when cluster is gone.
<a href="https://github.com/hazelcast/hazelcast/issues/821">[#821</a>]</p>
</li>
<li>
<p>TransactionalMap: DistributedObjectListener is not working.
<a href="https://github.com/hazelcast/hazelcast/issues/812">[#812</a>]</p>
</li>
<li>
<p>Could not find PortableFactory for factoryId: -3.
<a href="https://github.com/hazelcast/hazelcast/issues/800">[#800</a>]</p>
</li>
<li>
<p>Eviction occurs when it is not expected to occur.
<a href="https://github.com/hazelcast/hazelcast/issues/776">[#776</a>]</p>
</li>
<li>
<p>Possible dead-lock while updating an entry which loaded by map-loader.
<a href="https://github.com/hazelcast/hazelcast/issues/768">[#768</a>]</p>
</li>
<li>
<p><code>IMap.destroy()</code> clears map instead of destroy.
<a href="https://github.com/hazelcast/hazelcast/issues/764">[#764</a>]</p>
</li>
<li>
<p><code>IMap.destroy()</code> throws an exception on client.
<a href="https://github.com/hazelcast/hazelcast/issues/726">[#726</a>]</p>
</li>
<li>
<p>Client replace method issue.
<a href="https://github.com/hazelcast/hazelcast/issues/724">[#724</a>]</p>
</li>
<li>
<p>Classloader issue in deserialization.
<a href="https://github.com/hazelcast/hazelcast/issues/723">[#723</a>]</p>
</li>
<li>
<p>JMX preDeregister of some beans throws HazelcastIsNotActiveException
during <code>shutdownAll()</code>.
<a href="https://github.com/hazelcast/hazelcast/issues/713">[#713</a>]</p>
</li>
<li>
<p>Optional sequencing support for Hazelcast write-behind implementation
is needed. <a href="https://github.com/hazelcast/hazelcast/issues/712">[#712</a>]</p>
</li>
<li>
<p>ManagementService.destroy fails to find HazelcastMBean on shutdown.
<a href="https://github.com/hazelcast/hazelcast/issues/683">[#683</a>]</p>
</li>
<li>
<p>Client <code>getDistributedObject()</code> does not work.
<a href="https://github.com/hazelcast/hazelcast/issues/678">[#678</a>]</p>
</li>
<li>
<p>Spring ManagedContext does not run on the local node when a task is
executed. <a href="https://github.com/hazelcast/hazelcast/issues/659">[#659</a>]</p>
</li>
<li>
<p>MemberLeftException during SqlPredicate search.
<a href="https://github.com/hazelcast/hazelcast/issues/654">[#654</a>]</p>
</li>
<li>
<p>NearCacheConfig: maxSize = 0 is no longer interpreted as
<code>Integer.MAX_VALUE</code>.
<a href="https://github.com/hazelcast/hazelcast/issues/650">[#650</a>]</p>
</li>
<li>
<p><code>statistics-enabled</code> is missing for most items in the XSD scheme.
<a href="https://github.com/hazelcast/hazelcast/issues/642">[#642</a>]</p>
</li>
<li>
<p>Could not find PortableFactory for factoryId: 1095521605 on
SqlPredicate query.
<a href="https://github.com/hazelcast/hazelcast/issues/617">[#617</a>]</p>
</li>
<li>
<p><code>Map.containsKey()</code> should delay eviction.
<a href="https://github.com/hazelcast/hazelcast/issues/614">[#614</a>]</p>
</li>
<li>
<p>Error when serializing portable nested inside other types: Could not
find PortableFactory for factoryId: 0.
<a href="https://github.com/hazelcast/hazelcast/issues/600">[#600</a>]</p>
</li>
<li>
<p>Client related configuration improvements.
<a href="https://github.com/hazelcast/hazelcast/issues/599">[#599</a>]</p>
</li>
<li>
<p>Index on <code>enum</code> properties does not work.
<a href="https://github.com/hazelcast/hazelcast/issues/597">[#597</a>]</p>
</li>
<li>
<p>Executing Query operation with a heavy CRUD load throws an
IllegalArgumentException.
<a href="https://github.com/hazelcast/hazelcast/issues/596">[#596</a>]</p>
</li>
<li>
<p><code>Map.set()</code> always calls the <code>onAdded</code> entry event.
<a href="https://github.com/hazelcast/hazelcast/issues/589">[#589</a>]</p>
</li>
<li>
<p>Client throws `Could not register listener' often - Near Cache entries
get never invalidated after.
<a href="https://github.com/hazelcast/hazelcast/issues/584">[#584</a>]</p>
</li>
<li>
<p>Unexpected authentication exception.
<a href="https://github.com/hazelcast/hazelcast/issues/576">[#576</a>]</p>
</li>
<li>
<p>Map <code>clear</code> does not call MapStore.
<a href="https://github.com/hazelcast/hazelcast/issues/572">[#572</a>]</p>
</li>
<li>
<p>Transactional collections should check the transaction state to
validate proper access.
<a href="https://github.com/hazelcast/hazelcast/issues/568">[#568</a>]</p>
</li>
<li>
<p>Client threads are not destroyed on authentication failures.
<a href="https://github.com/hazelcast/hazelcast/issues/555">[#555</a>]</p>
</li>
<li>
<p>Map index from configuration is not working.
<a href="https://github.com/hazelcast/hazelcast/issues/553">[#553</a>]</p>
</li>
<li>
<p>Client disconnects and never tries to reconnect.
<a href="https://github.com/hazelcast/hazelcast/issues/538">[#538</a>]</p>
</li>
<li>
<p>Map local entry listener gives no Value on <code>entryEvicted</code>.
<a href="https://github.com/hazelcast/hazelcast/issues/537">[#537</a>]</p>
</li>
<li>
<p>The method <code>map.getAll()</code> is not working if entry does not exist via
Client. <a href="https://github.com/hazelcast/hazelcast/issues/535">[#535</a>]</p>
</li>
<li>
<p>EC2 Auto discovery bug: Instances do not see each other.
<a href="https://github.com/hazelcast/hazelcast/issues/516">[#516</a>]</p>
</li>
<li>
<p>Custom types (other than primitives, string, date, enum, etc) can not
be queried. <a href="https://github.com/hazelcast/hazelcast/issues/503">[#503</a>]</p>
</li>
<li>
<p>OOME is thrown when queues are not explicitly destroyed.
<a href="https://github.com/hazelcast/hazelcast/issues/417">[#417</a>]</p>
</li>
<li>
<p>The method <code>loadAll</code> is called redundantly on a new node joining the
cluster. <a href="https://github.com/hazelcast/hazelcast/issues/341">[#341</a>]</p>
</li>
<li>
<p>Support for Hibernate 4.0 cache is needed.
<a href="https://github.com/hazelcast/hazelcast/issues/72">[#72</a>]</p>
</li>
<li>
<p>Add a functionality that performs entry processings.
<a href="https://github.com/hazelcast/hazelcast/issues/71">[#71</a>]</p>
</li>
<li>
<p>Support for JVM system property reference in Hazelcast XML is needed.
<a href="https://github.com/hazelcast/hazelcast/issues/59">[#59</a>]</p>
</li>
<li>
<p>Support <code>invalidation-only</code> 2nd level cache for Hibernate.
<a href="https://github.com/hazelcast/hazelcast/issues/57">[#57</a>]</p>
</li>
<li>
<p>Hazelcast resource adapter does not work on WebSphere 6.1/7.
<a href="https://github.com/hazelcast/hazelcast/issues/37">[#37</a>]</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="2-6-9"><a class="anchor" href="#2-6-9"></a><a class="link" href="#2-6-9">2.6.9</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following is the fixed issue for 2.6.9 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Hazelcast cannot match hostnames when wildcards are used in <code>interfaces</code> configuration element. [2396]</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="2-6-8"><a class="anchor" href="#2-6-8"></a><a class="link" href="#2-6-8">2.6.8</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following is the fixed issue for 2.6.8 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>OperationTimeoutException</code>: [CONCURRENT_MAP_SET] Redo threshold[90]
exceeded! Last redo cause: REDO_MAP_OVER_CAPACITY. [1685]</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="2-6-6"><a class="anchor" href="#2-6-6"></a><a class="link" href="#2-6-6">2.6.6</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following are the fixed issues for 2.6.6 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Hazelcast 2.6.5 throws <code>NullPointerException</code> if the method
<code>MapStore.load()</code> returns null during <code>IMap.getAll()</code> execution. [1605]</p>
</li>
<li>
<p>In Hazelcast 2.x branch, Hazelcast instance is shutdown but exception
is not logged. [1488]</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="2-6-3"><a class="anchor" href="#2-6-3"></a><a class="link" href="#2-6-3">2.6.3</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following are the fixed issues for 2.6.3 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Memcache client content in the Reference Manual needs to be improved .</p>
</li>
<li>
<p>Hazelcast Hibernate <code>pom</code> is using a retired maven repo. [831]</p>
</li>
<li>
<p>``Marked for removal'' mechanism should be more clarified. [792]</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="2-6-2"><a class="anchor" href="#2-6-2"></a><a class="link" href="#2-6-2">2.6.2</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following are the fixed issues for 2.6.2 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Client Listener: the <code>Client</code> argument has null <code>Socketaddress</code> for
<code>ClientDisconnected</code> listener. [756]</p>
</li>
<li>
<p>Entries put by the method <code>IMap.putAll</code> were never evicted from the
map with the TTL configured. [670]</p>
</li>
<li>
<p>The Java client is initialized with two cluster members. After killing
one member in the cluster where it is connected, the client is unable to
reconnect. [653]</p>
</li>
<li>
<p>Put operation after a missed get operation in a transaction does not
have any effect. [644]</p>
</li>
<li>
<p>Near cache functionality does not work for Java client. <code>MapConfig</code>
always returns the generic map name since in the client, the client
prefix is added to map’s name. [620]</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="2-6-1"><a class="anchor" href="#2-6-1"></a><a class="link" href="#2-6-1">2.6.1</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following are the fixed issues and enhancements for 2.6.1 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The method <code>set(Key, Value, 0, Timeunit)</code> applies the configured TTL
values where it should cancel eviction. Also, the method
<code>set(Key, Value)</code> should apply the inherited TTL if exists. [585]</p>
</li>
<li>
<p>Operations like <code>contains()</code> should use a specific executor service.
Calling the default executor service may cause a deadlock. [579]</p>
</li>
<li>
<p>Empty array for the predicate <code>in</code> throws exception. [573]</p>
</li>
<li>
<p>The methods <code>ILock.destroy()</code> and <code>ISemaphore.destroy()</code> throw
exceptions on Hazelcast 2.5. [566]</p>
</li>
<li>
<p><code>NullPointerException</code> in <code>com.hazelcast.nio.ConnectionManager</code> in
Hazelcast 2.5. [530]</p>
</li>
<li>
<p>Hazelcast instance does not start with TCP configuration in Hazelcast
2.5 when the hosts are not reachable. [523]</p>
</li>
<li>
<p>Hazelcast source archives in Maven central repository does not contain
the Java source files but the class files. [514]</p>
</li>
<li>
<p>There is an unexpected store call behavior in Hazelcast 2.6. Every
time when the method <code>get()</code> is used in a transaction and when the
method <code>commit()</code> is called, it throws ``Duplicated key order_id''
exception. [506]</p>
</li>
<li>
<p>When the method <code>getInstances()</code> on HazelcastInstance is called
(acquired via <code>HazelcastClient.newHazelcastClient(clientConfig)</code>), the
collection is retrieved. After some time, <code>NullPointerException</code> is
thrown when the same method is called. [478]</p>
</li>
<li>
<p>There are some formatting problems when using SQL predicates with
date. [473]</p>
</li>
<li>
<p>There is a memory leak in the member when clients are connected. An
<code>OutofMemoryException</code> is thrown related to a client authentication
failure. [450]</p>
</li>
<li>
<p>Hazelcast client’s <code>putAll()</code> method throws <code>NullPointerException</code>
when called with an empty map. [397]</p>
</li>
<li>
<p>The <code>InputStream</code> in the <code>XmlConfigBuilder</code> can never be closed. If
the constructor which provides an XML file is used, it creates a new
<code>FileInputStream</code>. There is no ability to close this input stream after
it is created. [390]</p>
</li>
<li>
<p>The heartbeat timer for Hazelcast client does not run again after a
<code>NullPointerException</code>. [382]</p>
</li>
<li>
<p>The queue <code>SysmteLogService.joinLogs</code> holds some data and causes
memory consumption. [325]</p>
</li>
<li>
<p>Doing a read of a value not modified in a transaction causes the
listener to fire an update for that entry. [311]</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="2-6"><a class="anchor" href="#2-6"></a><a class="link" href="#2-6">2.6</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following are the fixed issues and enhancements for 2.6 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Issues with Spring configuration and merge policies. [488]</p>
</li>
<li>
<p>Trying to create a configuration object by API, serializing and
deserializing the objects (by Hazelcast builder), due to an error of
PartitionGroup, <code>RuntimeException</code> is thrown. If set by API, it works.</p>
</li>
<li>
<p>OSGi: The manifest data in <code>hazelcast-all.jar</code> for 2.5.1 is not
correct. [484]</p>
</li>
<li>
<p>Consistency of the set of members in the cluster should be guaranteed.</p>
</li>
<li>
<p>Hazelcast IMap’s `containsKey()`method does not reset the idle
timeout. [472]</p>
</li>
<li>
<p><code>@SpringAware</code> annotation leads to memory leak when using Hazelcast
distributed executor service. [470]</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="2-5-1"><a class="anchor" href="#2-5-1"></a><a class="link" href="#2-5-1">2.5.1</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following are the fixed issues and enhancements for 2.5.1 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Deadlock happens when Hazelcast client is shut down. [466]</p>
</li>
<li>
<p>There is a data inconsistency and loss following the
<code>ClassCastException: CONCURRENT_MAP_REPLACE_IF_SAME</code>. [462]</p>
</li>
<li>
<p>Put operations with zero TTL does not prevent the eviction. [455]</p>
</li>
<li>
<p><code>NullPointerException</code> is thrown at
<code>com.hazelcast.query.MapIndexService.remove</code> during
CONCURRENT_MAP_REMOVE operation. [454]</p>
</li>
<li>
<p>The exception <code>Failed migrating from Member</code> is thrown when two
clients are started in Eclipse and one is stopped before it is
completely initialized. [452]</p>
</li>
<li>
<p>The method <code>IList.destroy()</code> does not empty the list. [449]</p>
</li>
<li>
<p>The package <code>hazelcast-all.jar</code> should build its manifest dynamically.</p>
</li>
<li>
<p>The package <code>hazelcast-client.jar</code> does not deploy as OSGi bundle in
JBoss7. [447]</p>
</li>
<li>
<p>The package <code>hazelcast-wm.jar</code> should not require <code>servlet-api</code> v3.0.</p>
</li>
<li>
<p><code>NullPointerException</code> is thrown when trying to run the method
<code>clear()</code> on an empty distributed set when migrating from Hazelcast
2.1.2 to 2.4 and 2.5 [430]</p>
</li>
<li>
<p>The method <code>getOldValue()</code> consistently returns wrong results for
<code>entryUpdated</code> listener notifications after the <code>replace()</code> operation.</p>
</li>
<li>
<p>In the Hazelcast configuration schema XSD, the <code>tcp-ip</code> and <code>aws</code>
elements do not have <code>conn-timeout-seconds</code> sub-element. [410]</p>
</li>
<li>
<p>It would be nice if the <code>hazelcast.config</code> option can be used in
combination with the classpath. [408]</p>
</li>
<li>
<p>Deadlock happens when adding an index to a map that is not empty.</p>
</li>
<li>
<p>When custom loader is used with write-behind persistence mode, every
time <code>store()</code> is called in loader and then <code>remove()</code> is called on
locked map, value for the key is read from the store and not from map.
Consequently, put/set/update is overridden and data is lost. [187]</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="2-5"><a class="anchor" href="#2-5"></a><a class="link" href="#2-5">2.5</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section lists the new features, enhancements and fixed issues for
2.5 release.</p>
</div>
<div class="sect2">
<h3 id="new-features-12"><a class="anchor" href="#new-features-12"></a><a class="link" href="#new-features-12">New Features</a></h3>
<div class="paragraph">
<p>The following are the new features introduced with 2.5 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Added near cache support for Java Client.</p>
</li>
<li>
<p>Management Center alert system can now receive alerts based on custom
filters.</p>
</li>
<li>
<p>Management Center has now better support for Hazelcast cluster running
in OSGI environment.</p>
</li>
<li>
<p>Nodes can be easily shutdown or restarted using Management Center
interface.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="fixes-15"><a class="anchor" href="#fixes-15"></a><a class="link" href="#fixes-15">Fixes</a></h3>
<div class="paragraph">
<p>The following are the fixed issues and enhancements for 2.5 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Management Center does not respond for the maps with names having
underscore characters. [394]</p>
</li>
<li>
<p>MultiTask operation returns <code>Constants$Object$6</code> instead of a map.</p>
</li>
<li>
<p>In the method <code>forceUnlock()</code>, local lock is not removed. [386]</p>
</li>
<li>
<p>Deadlock happens when the cluster is being initialized. [386]</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="2-4-1"><a class="anchor" href="#2-4-1"></a><a class="link" href="#2-4-1">2.4.1</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section lists the new features, enhancements and fixed issues for
2.4.1 release.</p>
</div>
<div class="sect2">
<h3 id="new-features-13"><a class="anchor" href="#new-features-13"></a><a class="link" href="#new-features-13">New Features</a></h3>
<div class="paragraph">
<p>The following are the new features introduced with 2.4.1 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Added Hibernate 2nd level cache local/invalidation mode.</p>
</li>
<li>
<p>Added quick clear feature for maps.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="fixes-16"><a class="anchor" href="#fixes-16"></a><a class="link" href="#fixes-16">Fixes</a></h3>
<div class="paragraph">
<p>The following are the fixed issues and enhancements for 2.4.1 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>After a split-brain syndrome, states sent by a non-member should be
ignored. [374]</p>
</li>
<li>
<p>Indexing: Negative double values comparison causes problems in SQL
predicate. [368]</p>
</li>
<li>
<p>Query on Hazelcast IMap with indexes returns stale data. [359]</p>
</li>
<li>
<p>By default, the method <code>map.clear()</code> clears the map entry by entry
since the entries should be checked if they have a related lock, should
be persisted, etc. If you do not use map store and can assume that there
is no locked entries, then there should be an option to clear the map
directly. [356]</p>
</li>
<li>
<p>System logs should be optional. [351]</p>
</li>
<li>
<p>Management center should show the Hazelcast version. [349]</p>
</li>
<li>
<p><code>UnsupportedOperationException</code> is thrown when the method
<code>getConfig()</code> is called during the startup of the web application. Used
versions are Hazelcast 2.4 and Hibernate 3.6.6. [339]</p>
</li>
<li>
<p>Documentation is wrong. Hazelcast supports <code>REPEATABLE_READ</code> instead
of <code>READ_COMMITTED</code>. [337]</p>
</li>
<li>
<p>When you need a lite member, since it cannot be specified in the
configuration file, you need to do the whole loading mechanism yourself.</p>
</li>
<li>
<p>In the local map statistics, currently there is only <code>getHits()</code>.
There should be statistics for misses (get requests which return null)
to see hit/miss ratio. [328]</p>
</li>
<li>
<p>When Hazelcast OSGi bundle is used in Glassfish 3.1.2,
<code>ClassNotFoundException</code> is thrown. [322]</p>
</li>
<li>
<p>The method <code>MapConfig.toString()</code> should report <code>mapIndexConfig</code> too.</p>
</li>
<li>
<p>When the connection between the client and member is lost, the client
does not notice it and tries to send the data for a very long time and
it does not shut down.[315]</p>
</li>
<li>
<p>Hazelcast tends to consume large amounts of memory in
<code>com.hazelcast.nio.Packet</code> instances. [312]</p>
</li>
<li>
<p>Map index entries are not deleted upon migration. When using SQL
predicate in the method <code>localKeySet()</code>, the same key can be retrieved
on different nodes. [308]</p>
</li>
<li>
<p>Hazelcast IMap entries are evicted even they are touched by the method
<code>put()</code>. [466]</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="2-4"><a class="anchor" href="#2-4"></a><a class="link" href="#2-4">2.4</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section lists the new features, enhancements and fixed issues for
2.4 release.</p>
</div>
<div class="sect2">
<h3 id="new-features-14"><a class="anchor" href="#new-features-14"></a><a class="link" href="#new-features-14">New Features</a></h3>
<div class="paragraph">
<p>The following are the new features introduced with 2.4 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Client threads does not have fixed size anymore, now it uses internal
Hazelcast cached thread pool.</p>
</li>
<li>
<p>Added ability to restrict outbound ports that Hazelcast uses to
connect to other nodes.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="fixes-17"><a class="anchor" href="#fixes-17"></a><a class="link" href="#fixes-17">Fixes</a></h3>
<div class="paragraph">
<p>The following are the fixed issues and enhancements for 2.4 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Hazelcast Management Center’s ``Configuration has been successfully
updated.'' notification is never removed. [301]</p>
</li>
<li>
<p>Map maximum size does not take into account that some cluster members
are lite members and cannot hold any data. Thus, the map becomes smaller
than the size it was configured. [292]</p>
</li>
<li>
<p>The method <code>map.containsKey()</code> does not reset the idle time counter.</p>
</li>
<li>
<p>In Hazelcast 2.3.1, the property <code>hazelcast.local.localAddress</code> is
used only when provided directly from <code>System.properties</code>. [282]</p>
</li>
<li>
<p>Data removed under transaction sometimes could not be removed from the
backup. [277]</p>
</li>
<li>
<p>Map initialization should not use the default executor service. [276]</p>
</li>
<li>
<p>In Hazelcast 2.3.1, Hazelcast got into a state where the list of
members on some of the nodes do not match up. [274]</p>
</li>
<li>
<p>Map <code>EntryListener</code> is not working correctly if one master is
restarted. [269]</p>
</li>
<li>
<p><code>IMap.tryLockAndGet</code>: There is a concurrency error when the map has
map store. [268]</p>
</li>
<li>
<p>Error in <code>com.hazelcast.query.Predicates.NotEqualPredicate</code>. [262]</p>
</li>
<li>
<p>Partition Group with group type CUSTOM should honor configured
backups. [260]</p>
</li>
<li>
<p>Messages are lost while moving them inside a transaction. [259]</p>
</li>
<li>
<p>Enable Hazelcast to use specified port ranges to accommodate firewall
policies. [251]</p>
</li>
<li>
<p>Seeing multiple concurrent locks on a distributed lock. [168]</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="2-3-1"><a class="anchor" href="#2-3-1"></a><a class="link" href="#2-3-1">2.3.1</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following are the fixed issues and enhancements for 2.3.1 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Changed <code>hazelcast.partition.migration.interval</code> property’s value from
1 to 0.</p>
</li>
<li>
<p>The method <code>ILock.newCondition()</code> now throws
<code>UnsupportedOperationException</code>.</p>
</li>
<li>
<p>After upgrading Hazelcast to 2.3, IPv6 is no longer supported in TCP
join mechanism. [258]</p>
</li>
<li>
<p><code>ClassCastException</code> is thrown when the method <code>MultiMap.get()</code> is
run. [256]</p>
</li>
<li>
<p>Currently, the method <code>MultiMap.get(K key)</code> returns null if there are
no values associated with the key. However, it should return an empty
collection instead. [167]</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="2-3"><a class="anchor" href="#2-3"></a><a class="link" href="#2-3">2.3</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section lists the new features, enhancements and fixed issues for
2.3 release.</p>
</div>
<div class="sect2">
<h3 id="new-features-and-changes"><a class="anchor" href="#new-features-and-changes"></a><a class="link" href="#new-features-and-changes">New Features and Changes</a></h3>
<div class="paragraph">
<p>The following are the new features and changes introduced with 2.3
release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Changed <code>hazelcast.max.operation.timeout</code> unit from seconds to
milliseconds.</p>
</li>
<li>
<p>Added <code>hazelcast.max.concurrent.operation.limit</code> property to be able
to limit the number of concurrent operations that can be submitted to
Hazelcast.</p>
</li>
<li>
<p>Added <code>hazelcast.backup.redo.enabled</code> property to enable/disable redo
for backup operations.</p>
</li>
<li>
<p>Added MultiMap and Distributed ExecutorService statistics to
Management Center application.</p>
</li>
<li>
<p><code>MigrationListener</code> has now an additional method to receive failed
migration events; <code>void migrationFailed(MigrationEvent migrationEvent)</code>.</p>
</li>
<li>
<p><code>ItemEvent</code> has now an additional method returning Member firing that
event; <code>public Member getMember()</code>.</p>
</li>
<li>
<p>Improved out of memory (OOM) error detection and handling. Now it is
possible to register a custom hook when OutOfMemoryError is thrown.</p>
</li>
<li>
<p>Fixed some issues related to domain name handling and networking/join.</p>
</li>
<li>
<p>During cluster merge after a network split-brain, merging side will
now fire MERGING and MERGED before and after RESTARTING and RESTARTED
LifecycleEvents.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="fixes-18"><a class="anchor" href="#fixes-18"></a><a class="link" href="#fixes-18">Fixes</a></h3>
<div class="paragraph">
<p>The following are the fixed issues and enhancements for 2.3 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Operation exceptions occur randomly while the SQL predicates are
stress tested. [263]</p>
</li>
<li>
<p><code>EOF</code> exception is thrown in Management Center. [252]</p>
</li>
<li>
<p>The method <code>IMap.flush()</code> delegates map store exceptions to the caller
instead of suppressing them. [250]</p>
</li>
<li>
<p>Node appears to be in multiple clusters. [247]</p>
</li>
<li>
<p>It would be nice to have Spring support in Runnable tasks. [244]</p>
</li>
<li>
<p>MERGING and MERGED events should be fired during a split-brain merging
process. [241]</p>
</li>
<li>
<p>A problem occurs during a quick restart of master node. [235]</p>
</li>
<li>
<p>Distributed <code>tryLock()</code> throws <code>NullPointerException</code> from lite
member. [233]</p>
</li>
<li>
<p>Using domain instead of IP address is problematic. [230]</p>
</li>
<li>
<p>The method <code>MultiMap.lock()</code> blocks forever. [228]</p>
</li>
<li>
<p><code>SimpleMapTest</code> uses deprecated method <code>Hazelcast.getLoggingService()</code>
and annoys WebLogic 12. [227]</p>
</li>
<li>
<p><code>ItemEvent</code> should have a <code>getMember</code> method to return the member that
offered/polled an item. [226]</p>
</li>
<li>
<p>The consumers do <code>queue.take()</code> and block until something is put on
the queue. In Hazelcast 2.1.2, this was fine, but in 2.2, it causes a
massive amount of WARN-level log spam. [225]</p>
</li>
<li>
<p>The method <code>MultiMap.put()</code> is inconsistent when the key is locked by
another node/thread. [223]</p>
</li>
<li>
<p>FAILED event should be fired when migration fails for some reason.</p>
</li>
<li>
<p><code>Runtime</code> exception is thrown when accessing to queue after client
restarted. [220]</p>
</li>
<li>
<p>Using the client, once it tries to access the cache while the cache is
unavailable, the client cannot be used anymore after the server cache
becomes available. [218]</p>
</li>
<li>
<p>The methods <code>DistributedTask.get()</code> and <code>MultiTask.get()</code> throw
<code>OperationTimeoutException</code>. [217]</p>
</li>
<li>
<p>There are a couple of classes that do not implement <code>toString</code>, that
makes the <code>Config.toString</code> message incomplete. [209]</p>
</li>
<li>
<p>Hazelcast IMap ignores the size capacity. [188]</p>
</li>
<li>
<p>Hazelcast resource adapter package (version 2.1.2) does not deploy on
JBoss 7.1.1. [182]</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="2-2"><a class="anchor" href="#2-2"></a><a class="link" href="#2-2">2.2</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section lists the new features, enhancements and fixed issues for
2.2 release.</p>
</div>
<div class="sect2">
<h3 id="new-features-and-changes-2"><a class="anchor" href="#new-features-and-changes-2"></a><a class="link" href="#new-features-and-changes-2">New Features and Changes</a></h3>
<div class="paragraph">
<p>The following are the new features and changes introduced with 2.2
release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Improved redo logs and added maximum call/operation timeout.</p>
</li>
<li>
<p>Improved domain name handling; Hazelcast will use defined
addresses/domain-names in TCP-IP Config as they are, without resolving
an IP address.</p>
</li>
<li>
<p>Added Cluster Health Check to Management Center application.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="fixes-19"><a class="anchor" href="#fixes-19"></a><a class="link" href="#fixes-19">Fixes</a></h3>
<div class="paragraph">
<p>The following are the fixed issues and enhancements for 2.2 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The Hazelcast manual show a default config for WAN replication that
includes the config item
<code>&lt;replication-impl&gt;com.hazelcast.impl.wan.WanNoDelayReplication&lt;/replication-impl&gt;</code>.
This item appears to be used for configuring WAN replication
implementation to be used. This item is not being used at all. Instead
the replication implementation is hard coded in
<code>WanReplicationService.java</code>. [152]</p>
</li>
<li>
<p>It would be nice to have possibilities to instantiate native client
from <code>java.util.Properties</code> and/or from classpath-located configuration
file. [93]</p>
</li>
<li>
<p>The method <code>ILock.isLocked()</code> should have the ability to implement a
spin lock / wait for a lock release to perform non-blocking code. [39]</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="2-1-3"><a class="anchor" href="#2-1-3"></a><a class="link" href="#2-1-3">2.1.3</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following are the fixed issues and enhancements for 2.1.3 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Hazelcast IList evicts the items using the default map TTL. [196]</p>
</li>
<li>
<p>Nodes with EC2 auto-discovery do not rejoin the cluster after a
network outage. [195]</p>
</li>
<li>
<p>The method <code>remove()</code> cannot be called on a Hazelcast Set iterator.</p>
</li>
<li>
<p>Topic does not receive messages when using Spring injection. [186]</p>
</li>
<li>
<p>The method <code>IMap.set()</code> should not load data from map store. [185]</p>
</li>
<li>
<p><code>EntryListener</code> for native clients receives duplicate events. [183]</p>
</li>
<li>
<p>Listeners do not work when used with locks and <code>remove</code>. [196]</p>
</li>
<li>
<p>The package <code>hazelcast-spring</code> dependencies on Hibernate and MongoDB
should be optional. [179]</p>
</li>
<li>
<p>Backup entry count is smaller than the owned entries. [177]</p>
</li>
<li>
<p>Queries on enum indexed types return an empty result set. [176]</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="2-1-2"><a class="anchor" href="#2-1-2"></a><a class="link" href="#2-1-2">2.1.2</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following are the fixed issues and enhancements for 2.1.2 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The method <code>containsKey()</code> does not work on a single node with the
default near cache configuration. [174]</p>
</li>
<li>
<p>The method Transactional <code>IMap.get(key)</code> causes the key to be added to
map. [161]</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="2-1-1"><a class="anchor" href="#2-1-1"></a><a class="link" href="#2-1-1">2.1.1</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following are the fixed issues and enhancements for 2.1.1 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Item listener does not work when using client. [158]</p>
</li>
<li>
<p>The method <code>IMap.remove(key)</code> returns incorrect object. [149]</p>
</li>
<li>
<p>Map eviction policies are not documented. [148]</p>
</li>
<li>
<p>When calling the method <code>IQueue.remove(object)</code>, the item listener
added for that queue is not invoked. [146]</p>
</li>
<li>
<p>List is not keeping the order in transactional context. [73]</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="2-1"><a class="anchor" href="#2-1"></a><a class="link" href="#2-1">2.1</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section lists the new features, enhancements and fixed issues for
2.1 release.</p>
</div>
<div class="sect2">
<h3 id="new-features-and-changes-3"><a class="anchor" href="#new-features-and-changes-3"></a><a class="link" href="#new-features-and-changes-3">New Features and Changes</a></h3>
<div class="paragraph">
<p>The following are the new features and changes introduced with 2.1
release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Hazelcast now supports IPv6 addresses seamlessly.</p>
</li>
<li>
<p>Added async backup support.</p>
</li>
<li>
<p>Hazelcast now can be used as Spring Cache provider.</p>
</li>
<li>
<p>Spring Dependency Injection support: Hazelcast can apply bean
properties or to apply factory callbacks such as
ApplicationContextAware, BeanNameAware or to apply bean post-processing
such as InitializingBean, @PostConstruct like annotations while using
Hazelcast distributed ExecutorService or DistributedTasks or more
generally any Hazelcast managed object.</p>
</li>
<li>
<p>Added persistence support with Spring-Data MongoDB and JPA
integration.</p>
</li>
<li>
<p><code>Member.getUuid()</code> now will return UUID for node.</p>
</li>
<li>
<p>Improved session clustering configuration.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="fixes-20"><a class="anchor" href="#fixes-20"></a><a class="link" href="#fixes-20">Fixes</a></h3>
<div class="paragraph">
<p>The following are the fixed issues and enhancements for 2.1 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Hazelcast client breaks the lifecycle listeners. [130]</p>
</li>
<li>
<p>The Spring bean attributes <code>lazy-init</code> and <code>scope</code> should be added.</p>
</li>
<li>
<p>Spring configuration namespace is missing <code>lock</code>. [116]</p>
</li>
<li>
<p><code>MaxSizeHeapPolicy</code> issue causing improper evictions and freezes.</p>
</li>
<li>
<p><code>NullPointerException</code> is thrown by the method <code>tx.commit()</code>. [108]</p>
</li>
<li>
<p>Hazelcast client does not shutdown properly if no connection can be
established. [101]</p>
</li>
<li>
<p>It would be nice to have ``semi-asynchronous'' replication for
Hazelcast. [92]</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="2-0-4"><a class="anchor" href="#2-0-4"></a><a class="link" href="#2-0-4">2.0.4</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following are the fixed issues and enhancements for 2.0.4 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>NullPointerException</code> is thrown by the method
<code>AbstractRecord.getLockCount()</code>. [166]</p>
</li>
<li>
<p>There are ``Connection refused'' in Hazelcast 2.0.3. [140]</p>
</li>
<li>
<p>Predicate value on the date field should not be converted from a
String by the method <code>getRealObject()</code>.[135]</p>
</li>
<li>
<p>Some IMap removed/evicted entries will go back when one cluster node
crashes. [132]</p>
</li>
<li>
<p><code>Predicates.GreaterLesserPredicate</code>’s <code>doApply</code> operation is broken.</p>
</li>
<li>
<p>Incorrect selection by predicate with comparison of non-numerical
fields and indexing problems. [98]</p>
</li>
<li>
<p>Evicted/deleted entries should not be stored to the map store. [96]</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="2-0-3"><a class="anchor" href="#2-0-3"></a><a class="link" href="#2-0-3">2.0.3</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following are the fixed issues and enhancements for 2.0.3 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Increasing amount of stuck Hazelcast threads in weblogic; in a
clustered environment and also when running a single instance. [160]</p>
</li>
<li>
<p>Hyphens in the group names confuse the Management Center. It treats
the group name as two separate tokens. [128]</p>
</li>
<li>
<p>Split-brain merge handling causes the locks never to be acquired
again. [127]</p>
</li>
<li>
<p><code>ConfigXmlGenerator</code> does not handle the TTL correctly when multicast
joining mechanism is used. [127]</p>
</li>
<li>
<p>Data is lost in a map when adding a key the second time after a new
member joins the cluster. [117]</p>
</li>
<li>
<p>Listeners are not called when a queue is changed within a transaction.</p>
</li>
<li>
<p>Programmatic session destruction does not lead to the destruction of
the clustered session. [104]</p>
</li>
<li>
<p>The name for <code>hazelcast.sessionId</code> should be configurable. [103]</p>
</li>
<li>
<p>There is an issue in concurrent <code>queue.take()</code> and
<code>txn.rollback()</code>.[99]</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="2-0"><a class="anchor" href="#2-0"></a><a class="link" href="#2-0">2.0</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section lists the new features, enhancements and fixed issues for
2.0 release.</p>
</div>
<div class="sect2">
<h3 id="new-features-and-changes-4"><a class="anchor" href="#new-features-and-changes-4"></a><a class="link" href="#new-features-and-changes-4">New Features and Changes</a></h3>
<div class="paragraph">
<p>The following are the new features and changes introduced with 2.0
release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>New Elastic Memory(Enterprise Edition Only): By default, Hazelcast
stores your distributed data (map entries, queue items) into Java heap
which is subject to garbage collection. As your heap gets bigger,
garbage collection might cause your application to pause tens of
seconds, badly effecting your application performance and response
times. Elastic Memory is Hazelcast with off-heap memory storage to avoid
GC pauses. Even if you have terabytes of cache in-memory with lots of
updates, GC will have almost no effect; resulting in more predictable
latency and throughput.</p>
</li>
<li>
<p>Security Framework(Enterprise Edition Only): Hazelcast Security is
JAAS based pluggable security framework which can be used to
authenticate both cluster members and clients and do access control
checks on client operations. With the security framework, take control
of who can be part of the cluster or connect as client and which
operations are allowed or not.</p>
</li>
<li>
<p>Native C# Client(Enterprise Edition Only): Just like our Native Java
Client, it supports all map, multimap, queue, topic operations including
listeners and queries.</p>
</li>
<li>
<p>Distributed Backups: Data owned by a member will be evenly backed up
by all the other members. In other word, every member takes equal
responsibility to backup every other node. This leads to better memory
usage and less influence in the cluster when you add/remove nodes. The
new backup system makes it possible to form backup-groups so that you
can have backups and owners fall into different groups.</p>
</li>
<li>
<p>Parallel IO: Number of socket selector threads can be configured. You
can have more IO threads, if you have good number of CPU/cores and
high-throughput network.</p>
</li>
<li>
<p>Connection Management: Hazelcast 2.0 is more tolerant to connection
failures. On connection failure it tries to repair it before declaring
the member as dead. So now it is ok to have short socket disconnections…
No problem if your virtual server migrates to a new host.</p>
</li>
<li>
<p>Listeners such as migration, membership and map indexes can be added
with configuration.</p>
</li>
<li>
<p>New Event Objects: Event Listeners for Queue/List/Set/Topic were
delivering the item itself on event methods. That’s why the items had to
be deserialized by Hazelcast Threads before invoking the listeners.
Sometimes this was causing class loader problems too. With 2.0, we have
introduced new event containers for Queue/List/Set and Topic just like
Map has EntryEvent. The new listeners now receive ItemEvent and Message
objects respectively. The actual items are deserialized only if you call
the appropriate get method on the event objects. This is where we brake
the compatibility with the older versions of Hazelcast.</p>
</li>
<li>
<p>ClientConfig API: We had too many of factory methods to instantiate a
HazelcastClient. Now all we need
<code>isHazelcastClient.newHazelcastClient(ClientConfig)</code>.</p>
</li>
<li>
<p>SSL communication support among cluster nodes.</p>
</li>
<li>
<p>Distributed MultiMap value collection can be either List or Set.</p>
</li>
<li>
<p>SuperClient is renamed to LiteMember to avoid confusion. Be careful!
It is a member, not a client.</p>
</li>
<li>
<p>New <code>IMap.set(key, value, ttl, TimeUnit)</code> implementation, which is
optimized <code>put(key, value)</code> operation as <code>Set</code> does not return the old
value.</p>
</li>
<li>
<p><code>HazelcastInstance.getLifecycleService().kill()</code> will forcefully kill
the node. Useful for testing.</p>
</li>
<li>
<p><code>forceUnlock</code>, to unlock the locked entry from any node and any thread
regardless of the owner.</p>
</li>
<li>
<p>Enum type query support: As an example;
<code>new SqlPredicate (“level = Level.WARNING”)</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="fixes-21"><a class="anchor" href="#fixes-21"></a><a class="link" href="#fixes-21">Fixes</a></h3>
<div class="paragraph">
<p>The following are the fixed issues and enhancements for 2.0 release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>[459], [471], [567], [574], [582], [629], [632], [646], [666], [686],
[669], [690], [692], [693], [695], [698], [705], [708], [711], [714],
[715], [719], [721], [722], [727], [728], [729], [730], [731], [732],
[733], [735], [738], [739], [740], [741], [742], [747], [751], [752],
[758], [759], [760], [761], [765], [767], [770], [773], [779], [781],</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="1-9-4-9"><a class="anchor" href="#1-9-4-9"></a><a class="link" href="#1-9-4-9">1.9.4.9</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section lists the new features, enhancements and fixed issues for
the releases starting from 1.9.4.9 to 1.0.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Added WAN Replication (synchronization of separate active clusters).</p>
</li>
<li>
<p>Added Data Affinity (co-location of related entries) feature.</p>
</li>
<li>
<p>Added EC2 Auto Discovery for your Hazelcast cluster running on Amazon
EC2 platform.</p>
</li>
<li>
<p>Implemented Distributed CountDownLatch.</p>
</li>
<li>
<p>Implemented Distributed Semaphore implementation.</p>
</li>
<li>
<p>Hazelcast distribution now contains HTML and PDF documentation besides
Javadoc.</p>
</li>
<li>
<p>Better TCP/IP and multicast join support. Handling more edge cases
like multiple nodes starting at the same time.</p>
</li>
<li>
<p>Memcache protocol: Better integration between Java and Memcache
clients. Put from memcache, get from Java client.</p>
</li>
<li>
<p>Monitoring Tool is removed from the project.</p>
</li>
<li>
<p>Re-implementation of distributed queue:</p>
<div class="ulist">
<ul>
<li>
<p>Configurable backup count and synchronous backup.</p>
</li>
<li>
<p>Persistence support based on backing MapStore.</p>
</li>
<li>
<p>Auto-recovery from backing MapStore on startup.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Re-implementation of distributed list supporting index based
operations.</p>
</li>
<li>
<p>Optimized <code>IMap.putAll</code> for much faster bulk writes.</p>
</li>
<li>
<p>Added <code>IMap.getAll</code> for bulk reads which is calling
<code>MapLoader.loadAll</code> if necessary.</p>
</li>
<li>
<p>Added <code>IMap.tryLockAndGet</code> and <code>IMap.putAndUnlock</code> methods.</p>
</li>
<li>
<p>Added <code>IMap.putTransient</code> API for storing only in-memory.</p>
</li>
<li>
<p>Added <code>IMap.addLocalEntryListener()</code> for listening locally owned entry
events.</p>
</li>
<li>
<p>Added <code>IMap.flush()</code> for flushing the dirty entries into MapStore.</p>
</li>
<li>
<p>Added <code>MapLoader.getAllKeys</code> API for auto-pre-populating the map when
cluster starts.</p>
</li>
<li>
<p>Support for minimum initial cluster size to enable equally partitioned
start.</p>
</li>
<li>
<p>Introduced graceful shutdown.</p>
</li>
<li>
<p>Faster dead-member detection.</p>
</li>
<li>
<p>Memcache interface support. Memcache clients written in any language
can access Hazelcast cluster.</p>
</li>
<li>
<p>RESTful access support,
e.g. <a href="http://:5701/hazelcast/rest/maps/mymap/key1" class="bare">http://:5701/hazelcast/rest/maps/mymap/key1</a>.</p>
</li>
<li>
<p>Added split-brain (network partitioning) handling.</p>
</li>
<li>
<p>Added LifecycleService API to restart, pause Hazelcast instances and
listen for the lifecycle events.</p>
</li>
<li>
<p>Added asynchronous put and get support for IMap via <code>IMap.asyncPut()</code>
and <code>IMap.asyncGet()</code>.</p>
</li>
<li>
<p>Added AtomicNumber API; distributed implementation of
<code>java.util.concurrent.atomic.AtomicLong</code>.</p>
</li>
<li>
<p>Significant performance gain for multi-core servers. Higher CPU
utilization and lower latency.</p>
</li>
<li>
<p>Reduced the cost of map entries by 50 percent.</p>
</li>
<li>
<p>Better thread management. No more idle threads.</p>
</li>
<li>
<p>Added queue statistics API and the queue statistics panel on the
Monitoring Tool.</p>
</li>
<li>
<p>Monitoring Tool enhancements. More responsive and robust.</p>
</li>
<li>
<p>Hazelcast distribution now contains <code>hazelcast-all-&lt;version&gt;.jar</code> to
simplify the JAR dependency.</p>
</li>
<li>
<p>Sorted index optimization for map queries.</p>
</li>
<li>
<p>Added Hazelcast Cluster Monitoring Tool.</p>
</li>
<li>
<p>Added Partition API. Partition and key owner, migration listeners.</p>
</li>
<li>
<p>Added <code>IMap.lockMap()</code> method.</p>
</li>
<li>
<p>Added Multicast and TCP/IP join feature. Try multicast first, if not
found, try TCP/IP.</p>
</li>
<li>
<p>Added <code>Hazelcast.getExecutorService(name)</code> API. You can have separate
named executor services. Do not let your big tasks blocking your small
ones.</p>
</li>
<li>
<p>Added <code>Logging</code> API. Build your own logging. or simply use Log4j or
get logs as LogEvents.</p>
</li>
<li>
<p>Added <code>MapStatistics</code> API. Get statistics for your Map operations and
entries.</p>
</li>
<li>
<p>Hazelcast client now automatically updates the member list. There is
no need to pass the list to all members.</p>
</li>
<li>
<p>Added the ability to start the cluster members evenly partitioned.
Hence, no migration.</p>
</li>
<li>
<p>Added Java clients for accessing the cluster remotely.</p>
</li>
<li>
<p>Added Distributed Query for maps. Both Criteria API and SQL are
supported.</p>
</li>
<li>
<p>Added near cache feature for distributed maps.</p>
</li>
<li>
<p>Added TTL (time-to-live) property for each individual map entry.</p>
</li>
<li>
<p>Improved the put operation: <code>IMap.put(key,value, ttl, timeunit)</code>.</p>
</li>
<li>
<p>Introduced the method <code>IMap.putIfAbsent(key,value, ttl, timeunit)</code>.</p>
</li>
<li>
<p>Now, you can have multiple Hazelcast members on the same JVM.
Introduced <code>HazelcastInstance</code> API.</p>
</li>
<li>
<p>Better API based configuration support.</p>
</li>
<li>
<p>Smoother data migration enabling better response times during joins.</p>
</li>
<li>
<p>Persistence via Loader/Store interface for distributed map.</p>
</li>
<li>
<p>Added Socket level encryption feature. Both symmetric and asymmetric
encryption are supported.</p>
</li>
<li>
<p>Added support for JMX.</p>
</li>
<li>
<p>Added support for Hibernate second level cache provider.</p>
</li>
<li>
<p>Added instance events for getting notified when a data structure
instance (map, queue, topic, etc.) is created or destroyed.</p>
</li>
<li>
<p>Added eviction listener: <code>EntryListener.entryEvicted(EntryEvent)</code>.</p>
</li>
<li>
<p>Hazelcast is now fully ``maven''ized.</p>
</li>
<li>
<p>Added support for synchronous backups and configurable backup-count
for maps.</p>
</li>
<li>
<p>Added eviction support: Timed eviction for queues. LRU, LFU and time
based eviction for maps.</p>
</li>
<li>
<p>Added support for statistics/history for entries: create/update time,
number of hits, cost.</p>
</li>
<li>
<p>Implemented MultiMap structure. Similar to <code>google-collections</code> and
<code>apache-common-collections</code>, but distributed and thread-safe.</p>
</li>
<li>
<p>Now, you can <code>destroy()</code> the data structures when not needed anymore.</p>
</li>
<li>
<p>Now, you can shutdown the local member using <code>Hazelcast.shutdown()</code>.</p>
</li>
<li>
<p>Now, you can get the list of all data structure instances via
<code>Hazelcast.getInstances()</code>.</p>
</li>
<li>
<p>Full implementation of <code>java.util.concurrent.BlockingQueue</code>. Now,
queues can have configurable capacity limits.</p>
</li>
<li>
<p>Introduced Super Clients (a.k.a LiteMember): Members with no storage.
If <code>-Dhazelcast.super.client=true</code> JVM parameter is set, that JVM will
join the cluster as a `super client' which will not be a `data
partition' (no data on that node) but will have super fast access to the
cluster just like any regular member does.</p>
</li>
<li>
<p>Added HTTP Session sharing support for Hazelcast Web Manager.
Different web applications can share the same sessions.</p>
</li>
<li>
<p>Added the ability to separate clusters by creating groups.</p>
</li>
<li>
<p>Added <code>java.util.logging</code> support.</p>
</li>
<li>
<p>Added the support for adding, removing and updating events for queue,
map, set and list data structures.</p>
</li>
<li>
<p>Introduced Distributed Topic for pub/sub messaging.</p>
</li>
<li>
<p>Added integration with J2EE transactions via JCA complaint resource
adapter.</p>
</li>
<li>
<p>Added <code>ExecutionCallback</code> interface for distributed tasks.</p>
</li>
<li>
<p>Introduced cluster-wide unique ID generator.</p>
</li>
<li>
<p>Implemented Transactional Distributed Queue, Map, Set and List.</p>
</li>
<li>
<p>Implemented Distributed Executor Service.</p>
</li>
<li>
<p>Added support for multi member executions.</p>
</li>
<li>
<p>Implemented key based execution routing.</p>
</li>
<li>
<p>Added task cancellation support.</p>
</li>
<li>
<p>Implemented Session Clustering with Hazelcast Webapp Manager.</p>
</li>
<li>
<p>Added full TCP/IP clustering support.</p>
</li>
<li>
<p>Introduced distributed implementation of
<code>java.util.{Queue,Map,Set,List}</code>.</p>
</li>
<li>
<p>Introduced distributed implementation of <code>java.util.concurrency.Lock</code>.</p>
</li>
<li>
<p>Added support for retrieving cluster membership events.</p>
</li>
<li>
<p>1000+ commits 100+ bug fixes and several other enhancements.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2018-04-16 11:04:44 EEST
</div>
</div>
</body>
</html>