<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>Hazelcast Release Notes</title>

    <link type="text/css" rel="stylesheet" href="assets/css/reset.css">
    <link type="text/css" rel="stylesheet" href="http://yandex.st/highlightjs/7.3/styles/github.min.css">
    <link type="text/css" rel="stylesheet" href="assets/css/docs.css">
    <link type="text/css" rel="stylesheet" href="assets/css/print.css" media="print">
    

    <script type="text/javascript" src="assets/js/jquery-1.10.1.min.js"></script>
    <script type="text/javascript" src="assets/js/jquery.sticky-kit.js"></script>
    <script type="text/javascript" src="http://yandex.st/highlightjs/6.1/highlight.min.js"></script>
    <script type="text/javascript" src="assets/js/lunr.min.js"></script>
    

    

    <script type="text/javascript">var BASE_URL = "";</script>
    <script type="text/javascript" src="assets/js/viewer.js"></script>
    <script type="text/javascript" src="assets/js/toc.scroll.js"></script>
    <script type="text/javascript" src="assets/js/collapsible.toc.js"></script>

    <script type="text/javascript"> 
  	$(function(){
		$("#sidebar").stick_in_parent()
	});
    </script>
    <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-3921306-1']);
        _gaq.push(['_setDomainName', 'hazelcast.com']);
        _gaq.push(['_trackPageview']);
        (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'stats.g.doubleclick.net/dc.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
    </script>
    <script type="text/javascript">
        setTimeout(function(){var a=document.createElement("script");
            var b=document.getElementsByTagName("script")[0];
            a.src=document.location.protocol+"//dnn506yrbagrg.cloudfront.net/pages/scripts/0020/7413.js?"+Math.floor(new Date().getTime()/3600000);
            a.async=true;a.type="text/javascript";b.parentNode.insertBefore(a,b)}, 1);
    </script>

</head>
<body>
    <div id="page">
        <a name="top" />
        <div id="sitebar">
    <div class="content">
      <p><a href="http://hazelcast.org/documentation">Go to <span style="font-weight:bold">hazelcast.org/documentation</span></a></p>
      </div>
  </div>

        <header id="header">
			<div class="content">
			<div style="overflow:hidden">
				<div style="float:left">
                    <a href="http://www.hazelcast.org"><img src="assets/img/logo.png" style="width: 199px;padding-top: 18px"/></a>
					
				</div>	
				<div style="float:left;padding-top: 15px;padding-left: 30px;">
<h1><a href="">Release Notes<span style="font-size:12px">   Publication Date : Feb 29, 2016 </span></a></h1>
				</div>
			</div>
			</div>
        </header>
        <div class="content">
	        ﻿
	<div id="sidebar" style="overflow-y:auto">
	    <form action="search.html"><input id="search" type="text" placeholder="Search" name="q" /></form>
           <nav id="toc">
       
    <ol>
    
        <li>
            <a href="index.html#361">3.6.1</a>
            
        </li>
    
        <li>
            <a href="index.html#36">3.6</a>
            
        </li>
    
        <li>
            <a href="index.html#355">3.5.5</a>
            
        </li>
    
        <li>
            <a href="index.html#345">3.4.5</a>
            
        </li>
    
        <li>
            <a href="index.html#335">3.3.5</a>
            
        </li>
    
        <li>
            <a href="index.html#326">3.2.6</a>
            
        </li>
    
        <li>
            <a href="index.html#318">3.1.8</a>
            
        </li>
    
        <li>
            <a href="index.html#303">3.0.3</a>
            
        </li>
    
        <li>
            <a href="index.html#upgrading-from-3x">Upgrading from 3.x</a>
            
        </li>
    
        <li>
            <a href="index.html#upgrading-from-2x">Upgrading from 2.x</a>
            
        </li>
    
</ol>

   </nav>
	    
	    <nav id="links">
	        <ul>
	            
	        </ul>
	    </nav>
	    
		<div id="copyright">
			Powered by <a href="http://github.com/maximebf/beautiful-docs">beautiful-docs</a> -
	        <a href="#top">Back to top</a>
		</div>
	</div>

	        <div id="content">
	        <p>This document includes the new features, enhancements and fixed issues for Hazelcast releases.<p>
	            <a name="361"></a><h1 id="3-6-1">3.6.1</h1>
<p>This section lists the fixed issues for 3.6.1 release.</p>
<ul>
<li>Hazelcast 3.6 fails to create <code>ObjectName</code> for an instance created with JCache API. <a href="https://github.com/hazelcast/hazelcast/issues/7548" target="_blank">[7548]</a></li>
<li>The test <code>com.hazelcast.client.spi.impl.ClientInvocationTest.executionCallback_FailOnShutdown</code> fails. <a href="https://github.com/hazelcast/hazelcast/issues/7462" target="_blank">[7462]</a></li>
<li>There are failures in <code>SystemClockChangeTest</code>. <a href="https://github.com/hazelcast/hazelcast/issues/7444" target="_blank">[7444]</a></li>
<li>When you use EntryProcessor with a map interceptor, it does not get the correct value. <a href="https://github.com/hazelcast/hazelcast/issues/7414" target="_blank">[7414]</a></li>
<li>Backup records also increase the owned cache entry count but they should be ignored. Cache statistics show incorrect entry count via the method <code>getOwnedEntryCount</code>. <a href="https://github.com/hazelcast/hazelcast/issues/7403" target="_blank">[7403]</a></li>
<li>When getting values from <code>PredicateSupplier</code>, the method <code>DistinctValueAggregation.DistinctValueMapper.map()</code> throws a <code>ClassCastException</code>. <a href="https://github.com/hazelcast/hazelcast/issues/7398" target="_blank">[7398]</a></li>
<li>Timeout is not enough for the test <code>TransferStressTest.testLargePackets</code>. <a href="https://github.com/hazelcast/hazelcast/issues/7393" target="_blank">[7393]</a></li>
<li>There are failures in the test <code>ClientExceptionFactoryTest.testException</code>. <a href="https://github.com/hazelcast/hazelcast/issues/7360" target="_blank">[7360]</a></li>
<li>The method <code>getReplicationImplObject</code> in <code>WanTargetClusterConfig</code> is not used. <a href="https://github.com/hazelcast/hazelcast/issues/7353" target="_blank">[7353]</a></li>
<li>Entry processor and map put/remove tests in WAN replication module fail.  <a href="https://github.com/hazelcast/hazelcast/issues/7352" target="_blank">[7352]</a></li>
<li>Hazelcast namespace for Spring configuration does not support Discovery SPI. <a href="https://github.com/hazelcast/hazelcast/issues/6913" target="_blank">[6913]</a></li>
<li>When Hazelcast Spring configuration is used for the client and if a serialization configuration is present in the Spring client, then the client hangs forever during the authentication method. <a href="https://github.com/hazelcast/hazelcast/issues/5815" target="_blank">[5815]</a></li>
</ul>
<a name="36"></a><h1 id="3-6">3.6</h1>
<p>This section lists the new features, enhancements and fixed issues for 3.6 release.</p>
<a name="new-features"></a><h2 id="new-features">New Features</h2>
<p>The following are the new features introduced with 3.6 release.</p>
<ul>
<li><strong>High-Density Memory Store for Hazelcast Map</strong>: With this release, Hazelcast Map data structure is now equipped with the High-Density Memory Store, previously implemented for Hazelcast JCache. Please refer to the <a href="http://docs.hazelcast.org/docs/latest-dev/manual/html-single/index.html#setting-in-memory-format">Setting In Memory Format section</a>.</li>
<li><strong>Discovery Service Provider Interface (Discovery SPI)</strong>: You can use this SPI to discover  Hazelcast instances on cloud environments provided by jclouds&reg;, Kubernetes and many more. The existing discovery mechanisms that Hazelcast provides (Multicast, TCP/IP and Amazon EC2) have been re-implemented on top of this new Discovery SPI. Please refer to the <a href="http://docs.hazelcast.org/docs/latest-dev/manual/html-single/index.html#discovery-spi">Discovery SPI section</a>.</li>
<li><strong>Client Protocol</strong>: This feature presents the Hazelcast&#39;s new open binary client protocol. Please refer to <a href="http://hazelcast.org/documentation/" target="_blank">Open Binary Client Protocol Documentation</a>.</li>
<li><strong>Client Cross Version Compatibility</strong>: Now you can upgrade your Hazelcast clients independently from servers and other clients. Please refer to <a href="http://hazelcast.org/documentation/" target="_blank">Open Binary Client Protocol Documentation</a>.</li>
<li><strong>Support for cloud providers through jclouds&reg;</strong>: Hazelcast now supports deployments on all the well-known cloud providers through the <a href="https://jclouds.apache.org/" target="_blank">jclouds&reg;</a> open source library. Please refer to the <a href="http://docs.hazelcast.org/docs/latest-dev/manual/html-single/index.html#discovering-members-with-jclouds">Discovering Members with jclouds section</a>.</li>
<li><strong>Hot Restart Persistence</strong>: This new feature provides fast restarting of the Hazelcast clusters. This is achieved by storing the state of the cluster members to the disk. Please refer to the <a href="http://docs.hazelcast.org/docs/latest-dev/manual/html-single/index.html#hot-restart-persistence">Hot Restart Persistence section</a> for more details.</li>
<li><strong>Ringbuffer and Reliable Topic in Hazelcast Clients</strong>: The data structures Ringbuffer and Reliable Topic recently introduced by Hazelcast (with the release 3.5) are now implemented for Hazelcast Java Client. Ringbuffer has also been implemented for .NET Client.</li>
<li><strong>Cluster Quorum for Hazelcast JCache</strong>: Cluster Quorum checks are now provided for Hazelcast JCache implementations, too. Please refer to the <a href="http://docs.hazelcast.org/docs/latest-dev/manual/html-single/index.html#defining-a-cluster-quorum">Defining a Cluster Quorum section</a> to refresh and to the <a href="http://docs.hazelcast.org/docs/latest-dev/manual/html-single/index.html#icache-configuration">ICache Configuration section</a> to learn configuring it for JCache.</li>
<li><strong>Split Brain Syndrome handler for Hazelcast JCache</strong>: Now Split Brain Syndrome is handled in JCache as it is taken care in Hazelcast Map. Please refer to the <a href="http://docs.hazelcast.org/docs/latest-dev/manual/html-single/index.html#jcache-split-brain">JCache Split-Brain section</a>.  </li>
<li><strong>Partition Lost Listener for Hazelcast JCache</strong>: You can listen to partition lost events fired in your Hazelcast JCache implementation. Please refer to the <a href="http://docs.hazelcast.org/docs/latest-dev/manual/html-single/index.html#icache-configuration">ICache Configuration section</a>.</li>
<li><strong>Hazelcast Docker image</strong>: Now you can run Hazelcast using our image in the Docker platform. Please refer to <a href="http://docs.hazelcast.org/docs/latest-dev/manual/html-single/index.html#deploying-using-docker">Deploying using Docker</a>.</li>
<li><strong>Lite Members</strong>: With the re-introduction of Hazelcast Lite Members (it was removed starting with Hazelcast 3.0 release), you are able to specify certain members in your cluster so that they do not store data. You can use these lite members mostly for your task executions and listener registrations. Please refer to <a href="http://docs.hazelcast.org/docs/latest-dev/manual/html-single/index.html#enabling-lite-members">Enabling Lite Members</a>.</li>
<li><strong>Querying in collections and arrays</strong>: Hazelcast is now able to query and index attributes of objects stored in a collection or array. Please refer to the <a href="http://docs.hazelcast.org/docs/latest-dev/manual/html-single/index.html#querying-in-collections-and-arrays">Querying in collections section</a>.</li>
<li><strong>Custom attributes extraction</strong>: It is now possible to extract a value of an object&#39;s attribute using a custom extractor class. Please refer to the <a href="http://docs.hazelcast.org/docs/latest-dev/manual/html-single/index.html#custom-attributes">Custom attributes</a>.</li>
<li><strong>Acquiring locks with a lease time</strong>: Now, you can try to acquire locks with a lease time. Please refer to the the comment for the method <code>tryLock()</code> in <a href="https://github.com/hazelcast/hazelcast/blob/master/hazelcast/src/main/java/com/hazelcast/core/ILock.java">ILock code</a>.</li>
<li><strong>Monitoring the WAN replication</strong>: You can now monitor the state of your WAN replications using the Hazelcast Management Center. Please refer to the <a href="http://docs.hazelcast.org/docs/latest-dev/manual/html-single/index.html#monitoring-wan-replication">Monitoring WAN Replication section</a>.</li>
</ul>
<a name="enhancements"></a><h2 id="enhancements">Enhancements</h2>
<p>The following are the the enhancements introduced with 3.6 release.</p>
<ul>
<li><strong>Replicated Map improvements</strong>: The implementation of Hazelcast replicated maps has been revisited. Please especially refer to the <a href="http://docs.hazelcast.org/docs/latest-dev/manual/html-single/index.html#considerations-for-replicated-map">Considerations for Replicated Map section</a>.</li>
<li><strong>Management Center improvements</strong>: Alerting mechanism added. Please refer to the <a href="http://docs.hazelcast.org/docs/latest-dev/manual/html-single/index.html#management-center">Management Center section</a>.</li>
<li><strong>Paging Predicate improvements</strong>: With the performed improvements, now random page accessing is supported. Please refer to the <a href="http://docs.hazelcast.org/docs/latest-dev/manual/html-single/index.html#filtering-with-paging-predicates">Filtering with Paging Predicates section</a>.</li>
<li><strong>Rule based query optimizations</strong>: This improvement introduces a query optimizer based on static rewriting rules. The optimizer treats predicates as immutable and returns a modified copy when the optimized one is found. Please refer to the <code>hazelcast.query.optimizer.type</code> property definition in the <a href="http://docs.hazelcast.org/docs/latest-dev/manual/html-single/index.html#system-properties">System Properties section</a>.</li>
<li><strong>WAN replication improvements</strong>: With the improvements performed on Hazelcast&#39;s WAN replication feature, you can now monitor WAN replication events for each data structure and WAN replication now supports different acknowledge types for each target cluster group. Please refer to the <a href="http://docs.hazelcast.org/docs/latest-dev/manual/html-single/index.html#wan-replication-event-filtering-api">WAN Replication Event Filtering API section</a> and <a href="http://docs.hazelcast.org/docs/latest-dev/manual/html-single/index.html#wan-replication-acknowledge-types">WAN Replication Acknowledge Types section</a> for more information.</li>
<li><strong>Improvements on Hazelcast&#39;s OSGI support</strong>: With this improvement, Hazelcast bundles provide OSGI services so that the users can manage (create, access, shutdown) the Hazelcast instances through this service on OSGI environments. Having the <code>hazelcast.osgi.start</code> property enabled, when an Hazelcast OSGI service is activated, a default Hazelcast instance is created automatically. These instances can be served as an OSGI service to be accessed by other bundles. Registering the created Hazelcast instances behavior is enabled by default and can be disabled using the <code>hazelcast.osgi.register.disabled</code> property. Each Hazelcast bundle provides a different OSGI service and their instances can be grouped (clustered) together to prevent possible compatibility issues between different Hazelcast versions/bundles. This grouping behavior is enabled by default and can be disabled using the <code>hazelcast.osgi.grouping.disabled</code> property. Hazelcast OSGI service&#39;s lifecycle (and also the owned/created instances&#39; lifecycles) are the same as the owner Hazelcast bundles. When the bundle is stopped (deactivated), owned service and Hazelcast instances are also deactivated/shutdown and deregistered automatically. Then, when the bundle is re-activated, its service is registered again. In addition, the Hazelcast Enterprise JAR file is also an OSGI bundle like the Hazelcast OSS JAR file.</li>
</ul>
<p>The following are the other improvements performed to solve the enhancement issues opened by the Hazelcast customers/team.</p>
<ul>
<li>Approximate <code>max-size</code> calculation should be removed for IMap eviction. <a href="https://github.com/hazelcast/hazelcast/issues/6463" target="_blank">[6463]</a></li>
<li><code>SpringAwareWebFilter</code> should have a constructor which takes properties as arguments. <a href="https://github.com/hazelcast/hazelcast/issues/6438" target="_blank">[6438]</a></li>
<li>Client side and server side cache proxies handle <code>putAll</code> operation one by one. This is not efficient. Records for this operation should be grouped as per their partitions and should be sent and processed in batches. <a href="https://github.com/hazelcast/hazelcast/issues/6367" target="_blank">[6367]</a></li>
<li>Not requested events should not be sent to <code>MapListener</code> <a href="https://github.com/hazelcast/hazelcast/issues/6349" target="_blank">[6349]</a></li>
<li>Inconsistent and potentially buggy design in <code>BasicCompletableFuture</code>. <a href="https://github.com/hazelcast/hazelcast/issues/6080" target="_blank">[6080]</a></li>
<li>Starting with &quot;hazelcast-wm 3.3&quot;, OSGI Manifest Spring package imports should be optional. <a href="https://github.com/hazelcast/hazelcast/issues/6072" target="_blank">[6072]</a></li>
<li>The new client determines the partition ID for every invocation for data structures like queue and list where the partition ID is static. There is no need for this behavior. It should calculate the partition ID for once  when the proxy is created and continue to re-use it. <a href="https://github.com/hazelcast/hazelcast/issues/5848" target="_blank">[5848]</a></li>
<li><code>Map.Entry</code> supplied to Entry Processor is not Serializable any more. <a href="https://github.com/hazelcast/hazelcast/issues/5611" target="_blank">[5611]</a></li>
<li>The configuration file <code>minimal-json</code> with the provided scope is not picked up by the <em>shade</em> plugin. <a href="https://github.com/hazelcast/hazelcast/issues/5543" target="_blank">[5543]</a></li>
<li>In Spring configuration, when a boolean property is injected for <em>hazelcast</em> bean (<code>&lt;hz:hazelcast:....&lt;/hz:hazelcast</code>)
a <code>SAXParse</code> exception is thrown. <a href="https://github.com/hazelcast/hazelcast/issues/5528" target="_blank">[5528]</a></li>
<li>Currently, key/value pairs are deserialized prior to the execution of entry processor by default.  This leads to the need of domain object at the server side, even if entry processor never uses it. <a href="https://github.com/hazelcast/hazelcast/issues/5301" target="_blank">[5301]</a></li>
<li>In Spring XML configuration, the attributes of <code>socket-options</code> should be of type <code>xs:string</code>. <a href="https://github.com/hazelcast/hazelcast/issues/4700" target="_blank">[4700]</a></li>
<li><code>ClientMembershipEvent</code> does not need to have the <code>member</code> field. <a href="https://github.com/hazelcast/hazelcast/issues/4282" target="_blank">[4282]</a></li>
<li>Hazelcast has <code>lock</code> with lease time feature but does not support <code>tryLock</code> with lease time. <a href="https://github.com/hazelcast/hazelcast/issues/1564" target="_blank">[1564]</a></li>
</ul>
<a name="fixes"></a><h2 id="fixes">Fixes</h2>
<p>The following are the issues solved for Hazelcast 3.6 and 3.6.x releases.</p>
<p><strong>3.6 Fixes</strong></p>
<p>This section lists the fixed issues for 3.6 release.</p>
<ul>
<li>In the manifest file, <code>org.jclouds.*</code> should be marked as optional dependencies. <a href="https://github.com/hazelcast/hazelcast/issues/7318" target="_blank">[7318]</a></li>
<li>Tests are needed for <code>WanReplicationPublisherDelegate</code>, <code>WanReplicationEvent</code>, <code>MapReplicationUpdate</code> and <code>AbstractMultipleEntryBackupOperation</code> in the Open Source WAN API. <a href="https://github.com/hazelcast/hazelcast/issues/7315" target="_blank">[7315]</a></li>
<li>Invocation of quorum listener requires at least an attempt to perform a map operation. But it should not require this; just the crash of nodes should be enough to use the quorum mechanism. <a href="https://github.com/hazelcast/hazelcast/issues/7300" target="_blank">[7300]</a></li>
<li>Owned entry count to be used as the expected near cache hit count should be calculated by checking the partition ownership in the <code>NearCacheTest::testGetAll</code>. <a href="https://github.com/hazelcast/hazelcast/issues/7285" target="_blank">[7285]</a></li>
<li>The parameter <code>minEvictionCheckMillis</code> controls the maximum frequency of evictions. It is 100ms by default. It means at most 1 eviction is executed in a 100ms interval. No other <code>put()</code> operation within this interval triggers an eviction. So, if the put rate is greater than 1 per 100ms, then the number of entries is growing regardless of the <code>max-size-policy</code>. This eventually triggers a forced eviction which will prevent <code>OutOfMemoryException</code>. Forced evictions are only hiding this issue. Another possible solution is to keep the default interval as it is and apply batching: When X eviction cycles are skipped due the <code>minEvictionCheckMillis</code> parameter, then during the next cycle X + 1 entries should be evicted instead of just 1. <a href="https://github.com/hazelcast/hazelcast/issues/7268" target="_blank">[7268]</a></li>
<li>Descriptions of some maximum size policies defined in the <code>com.hazelcast.config.EvictionConfig.MaxSizePolicy</code> and <code>com.hazelcast.config.MaxSizeConfig.MaxSizePolicy</code> are not clear and confusing. They shoule be clarified. <a href="https://github.com/hazelcast/hazelcast/issues/7267" target="_blank">[7267]</a></li>
<li>Tests under <code>TopicOverloadDistributedTest</code> are spuriously failing even on the local machine.
They need to be reviewed. <a href="https://github.com/hazelcast/hazelcast/issues/7266" target="_blank">[7266]</a></li>
</ul>
<p><strong>3.6-RC1 Fixes</strong></p>
<p>This section lists the enhancements and fixed issues for 3.6-RC1 release.</p>
<ul>
<li>Javadoc for <code>IMap.putAll()</code> does not mention the lack of atomicity in the invocation. <a href="https://github.com/hazelcast/hazelcast/issues/7256" target="_blank">[7256]</a></li>
<li>When a WAN Queue overrun occurs (with exception enabled), the source cluster logs an excessive amount of noise. This should to be logged. <a href="https://github.com/hazelcast/hazelcast/issues/7242" target="_blank">[7242]</a></li>
<li>On WAN Replication Queue overrun, a <code>WANReplicationQueueFullException</code> is expected, but instead, the client receives an <code>UndefinedErrorCodeException</code>. <a href="https://github.com/hazelcast/hazelcast/issues/7241" target="_blank">[7241]</a></li>
<li>When using Hazelcast as a JCache provider: As JSR-107 Javadoc states, an update should not reset expiry time for <code>CreatedExpiryPolicy</code>. However, when a cache entry is updated, it does not expire. <a href="https://github.com/hazelcast/hazelcast/issues/7236" target="_blank">[7236]</a></li>
<li>Default WAN acknowledge type should be <code>ACK_ON_RECEIPT</code>. <a href="https://github.com/hazelcast/hazelcast/issues/7160" target="_blank">[7160]</a></li>
<li><code>NullPointerException</code> is thrown in <code>ClientRegressionWithMockNetworkTest</code>. <a href="https://github.com/hazelcast/hazelcast/issues/7148" target="_blank">[7148]</a></li>
<li>Changing clusters in the Management Center does not update/refresh the cluster members in the Scripting tab. <a href="https://github.com/hazelcast/hazelcast/issues/7119" target="_blank">[7119]</a></li>
<li>A fix is needed for operation retries in <code>PartitionCheckIfLoadedOperation</code>. <a href="https://github.com/hazelcast/hazelcast/issues/7114" target="_blank">[7114]</a></li>
<li>WAN Queue counts in the Management Center for Hazelcast 3.6-EA3 are not correct. <a href="https://github.com/hazelcast/hazelcast/issues/7100" target="_blank">[7100]</a></li>
<li>Hazelcast 3.6 Reference Manual is not correct for its Enterprise WAN Replication content. <a href="https://github.com/hazelcast/hazelcast/issues/7099" target="_blank">[7099]</a></li>
</ul>
<p><strong>3.6-EA3 Fixes</strong></p>
<p>This section lists the enhancements and fixed issues for 3.6-EA3 (Early Access 3) release.</p>
<ul>
<li><code>NullPointerException</code> is thrown for the thread <code>cached4</code> in a test which uses <code>MapLoader</code>. <a href="https://github.com/hazelcast/hazelcast/issues/7098" target="_blank">[7098]</a></li>
<li>The method <code>loadInternal</code> of <code>MapProxySupport</code> requires <code>dataKeys</code>. Hence, a serialization step should be added to <code>MapProxy.loadAll()</code>. <a href="https://github.com/hazelcast/hazelcast/issues/7090" target="_blank">[7090]</a></li>
<li>Near cache heap cost calculation is not proper when the cache gets concurrent misses. <a href="https://github.com/hazelcast/hazelcast/issues/7057" target="_blank">[7057]</a></li>
<li><code>IQueue</code> accepts null values from the Hazelcast Java client. <a href="https://github.com/hazelcast/hazelcast/issues/7048" target="_blank">[7048]</a></li>
<li><code>WriteBehindMapStore</code> for a map that has <code>OBJECT</code> as the in-memory format causes the entry processors to serialize the objects. <a href="https://github.com/hazelcast/hazelcast/issues/7040" target="_blank">[7040]</a></li>
<li>Latest code does not include the file <code>com.hazelcast.client.impl.protocol.codec.CacheContainsKeyCodec</code> and build fails.  <a href="https://github.com/hazelcast/hazelcast/issues/7019" target="_blank">[7019]</a></li>
<li>Two members of a cluster become masters and ignore each other. <a href="https://github.com/hazelcast/hazelcast/issues/7016" target="_blank">[7016]</a></li>
<li><code>AbstractCacheRecordStore</code> should update the field <code>isOwner</code> while it is being cleared after migration. <a href="https://github.com/hazelcast/hazelcast/issues/6983" target="_blank">[6983]</a></li>
<li>There are memory leaks in the local map statistics and near cache invalidation queues. The map containers also leak memory caused either by the near cache invalidation mechanism (when re-creating objects to check whether the near cache is enabled) or <code>MapPartitionDestroyOperation</code> (when re-creating objects and trying to the backup count). <a href="https://github.com/hazelcast/hazelcast/issues/6972" target="_blank">[6972]</a></li>
<li>When the <code>lite-member</code> flag is used within the Spring context, its <code>enabled</code> attribute does not work properly. <a href="https://github.com/hazelcast/hazelcast/issues/6945" target="_blank">[6945]</a></li>
<li><code>LoadAllTask</code> for the client and server side cache proxies should also handle the <code>Throwable</code>, not just the <code>Exception</code>. <a href="https://github.com/hazelcast/hazelcast/issues/6944" target="_blank">[6944]</a></li>
<li>The <code>enable</code> attribute of the <code>partition-group</code> element in the <code>Hazelcast-Spring.xsd</code> scheme should have the type <code>string</code>, not <code>boolean</code>. <a href="https://github.com/hazelcast/hazelcast/issues/6927" target="_blank">[6927]</a></li>
<li>There is a left-over method in the Discovery SPI configuration, namely <code>addDiscoveryProviderConfig</code>. <a href="https://github.com/hazelcast/hazelcast/issues/6911" target="_blank">[6911]</a></li>
<li><code>InMemoryFormat.OBJECT</code> does not work with the <code>max-size</code> policies <code>USED_HEAP_SIZE</code> and <code>USED_HEAP_PERCENTAGE</code>. <a href="https://github.com/hazelcast/hazelcast/issues/6875" target="_blank">[6875]</a></li>
<li><code>PublicAddressTest</code> has been ignored due to the running time. <a href="https://github.com/hazelcast/hazelcast/issues/6858" target="_blank">[6858]</a></li>
<li><code>NullPointerException</code> is thrown in <code>ClientExecutionPoolSizeLowTest</code>. <a href="https://github.com/hazelcast/hazelcast/issues/6853" target="_blank">[6853]</a></li>
</ul>
<p><strong>3.6-EA2 Fixes</strong></p>
<p>This section lists the enhancements and fixed issues for 3.6-EA2 (Early Access 2) release.</p>
<ul>
<li>MapLoader may insert null values into IMap causing memory leak. <a href="https://github.com/hazelcast/hazelcast/issues/6830" target="_blank">[6830]</a></li>
<li>When replicated map entries are migrated to a new destination; TTL eviction should be scheduled, eviction should be retried when a failure caused by the migration happens and the sync interval should be increased. <a href="https://github.com/hazelcast/hazelcast/issues/6799" target="_blank">[6799]</a></li>
<li>There is a logical error in the method <code>Ringbuffer.readManyAsync()</code> when <code>minSize = 0</code>. In this case, the Ringbuffer is not read and nothing is returned. <a href="https://github.com/hazelcast/hazelcast/issues/6787" target="_blank">[6787]</a></li>
<li>When a listener&#39;s registration is made from the listener configuration, an error occurs during the listener initialization. <a href="https://github.com/hazelcast/hazelcast/issues/6784" target="_blank">[6784]</a></li>
<li>Remaining cache invalidation messages should be flushed on the <code>ICacheService</code> while the member is in the  <code>SHUTTING_DOWN</code> state. <a href="https://github.com/hazelcast/hazelcast/issues/6778" target="_blank">[6778]</a></li>
<li>When a client cannot send a request to one of the connections, <code>TargetNotMemberException</code> is thrown. This name is confusing the Hazelcast users. <a href="https://github.com/hazelcast/hazelcast/issues/6766" target="_blank">[6766]</a></li>
<li><code>ClassCastException</code> is thrown when using <code>Timestamp</code> within <code>DataSerializable</code>. <a href="https://github.com/hazelcast/hazelcast/issues/6759" target="_blank">[6759]</a></li>
<li>The method <code>destroyDistributedObject()</code> of <code>ReplicatedMapService</code> iterates over partition containers and record stores and destroys them. While destroying, record store calls <code>destroyDistributedObject()</code> which leads to an infinite loop. <a href="https://github.com/hazelcast/hazelcast/issues/6754" target="_blank">[6754]</a></li>
<li>Hazelcast does not inject its instance into <code>HazelcastInstanceAware</code> registered via classname. <a href="https://github.com/hazelcast/hazelcast/pull/6697" target="_blank">[6697]</a></li>
<li>There is a sporadic startup failure in 3.6-EA. <a href="https://github.com/hazelcast/hazelcast/pull/6684" target="_blank">[6684]</a></li>
<li>There is no need to use <code>CacheLoader</code> inside the client/server side cache proxies. <a href="https://github.com/hazelcast/hazelcast/issues/6676" target="_blank">[6676]</a></li>
<li>Fixed wrong calculation of eviction removal size when <code>PER_NODE</code> <code>max-size</code> policy is used. <a href="https://github.com/hazelcast/hazelcast/pull/6675" target="_blank">[6675]</a></li>
<li>If the cluster state is not active <code>RepartitioningTask</code> should not be triggered. Otherwise, it causes infinite retries and prevents the member from shutdown. <a href="https://github.com/hazelcast/hazelcast/pull/6663" target="_blank">[6663]</a></li>
<li>There are broken XML configuration tests in the Hazelcast client package. <a href="https://github.com/hazelcast/hazelcast/issues/6633" target="_blank">[6633]</a></li>
<li>There is a memory leak since the method <code>publishBathcedEvents</code> does not remove the events from <code>batchEvent</code>. <a href="https://github.com/hazelcast/hazelcast/issues/6618" target="_blank">[6618]</a></li>
<li>Custom credentials class is not de-serialized on the server side. <a href="https://github.com/hazelcast/hazelcast/issues/6615" target="_blank">[6615]</a></li>
<li>Lite member element should be added to the Hazelcast Spring configuration. <a href="https://github.com/hazelcast/hazelcast/issues/6605" target="_blank">[6605]</a></li>
<li><code>EntryListener</code> shows the unprocessed value in combination with <code>PostProcessingMapStore</code>. <a href="https://github.com/hazelcast/hazelcast/issues/6588" target="_blank">[6588]</a></li>
<li>Clients cannot submit <code>HazelcastInstanceAware</code> callables. <a href="https://github.com/hazelcast/hazelcast/issues/6570" target="_blank">[6570]</a></li>
</ul>
<p><strong>3.6-EA Fixes</strong></p>
<p>The following are the issues solved for Hazelcast 3.6-EA (Early Access) release.</p>
<ul>
<li>The method <code>map.size()</code> waits indefinitely after the shutdown of a node. <a href="https://github.com/hazelcast/hazelcast/issues/6538" target="_blank">[6538]</a></li>
<li><code>HazelcastCachingProvider</code> does not use the specified instance (by the object) when <code>instance-name</code> is not specified. <a href="https://github.com/hazelcast/hazelcast/issues/6454" target="_blank">[6454]</a></li>
<li><code>onExecutionFailure</code> should be called before returning from <code>run</code>, if backup is not valid. <a href="https://github.com/hazelcast/hazelcast/issues/6420" target="_blank">[6420]</a></li>
<li><code>OperationThread.priorityPendingCount()</code> should return <code>scheduleQueue.prioritySize()</code> instead of <code>scheduleQueue.normalSize()</code>. <a href="https://github.com/hazelcast/hazelcast/issues/6318" target="_blank">[6318]</a></li>
<li>There is a growth in heap usage caused by a memory leak in the following scenario: A node in the cluster regularly creates maps and puts entries into it, again in regular intervals. Another node removes the entries minutes after they were put, and if the map is empty, it destroys the map. <a href="https://github.com/hazelcast/hazelcast/issues/6317" target="_blank">[6317]</a></li>
<li>Currently, there is an <code>EntryEvictedListener</code> that is notified both for expiration and eviction events. There should be a separate listener for expired entries: eviction happens due to size constraints, and expiry is once the entry has expired. <a href="https://github.com/hazelcast/hazelcast/issues/6311" target="_blank">[6311]</a></li>
<li><code>InvocationFuture</code>s async calls do not detect the lost operations. <a href="https://github.com/hazelcast/hazelcast/issues/6250" target="_blank">[6250]</a></li>
<li>When the method <code>setBooleanAttribute</code> of the class <code>Member</code> is run, Null Pointer Exception is occurred on <code>STDOUT</code>. The problem is in the method <code>sendMemberAttributeEvent</code> of the class <code>ClusterServiceImpl</code>. <a href="https://github.com/hazelcast/hazelcast/issues/6223" target="_blank">[6223]</a></li>
<li><code>IOBalancer</code> keeps references of all the socket reader/writers but when destroying the connection, they release the references for only the ones which has endpoints. This causes a memory leak. <a href="https://github.com/hazelcast/hazelcast/issues/6199" target="_blank">[6199]</a></li>
<li><code>ILIKE</code> and <code>Regex</code> examples should be added to the Reference Manual under the &quot;Supported SQL Syntax&quot; section. <a href="https://github.com/hazelcast/hazelcast/issues/6190" target="_blank">[6190]</a></li>
<li><code>GroupProperty</code> defaulting does not work properly when programmatic configuration is used. <a href="https://github.com/hazelcast/hazelcast/issues/6174" target="_blank">[6174]</a></li>
<li>When integrating Hazelcast in Spring Boot: if <code>HazelcastInstance</code> is created using the default <code>newHazelcastInstance</code> static method, then an <code>HazelcastInstance</code> whose <code>Config</code> has a valid <code>configurationUrl</code> property is created. However, <code>XmlBuilder</code> does not set this URL in the configuration it parses. <a href="https://github.com/hazelcast/hazelcast/issues/6061" target="_blank">[6061]</a></li>
<li>Hazelcast&#39;s latest snapshot run fails due to the introduction of <code>ClientExceptionFactory</code> which has been developed for exception processing and working well in that sense. <a href="https://github.com/hazelcast/hazelcast/issues/6010" target="_blank">[6010]</a></li>
<li>The class <code>HazelcastXATest</code> has only fast and slow modes (nothing in between) and possibly due to this, sometimes a transaction is waiting for a timeout. Either the transaction recovery or the test class itself is racy. <a href="https://github.com/hazelcast/hazelcast/issues/5923" target="_blank">[5923]</a></li>
<li>A memory leak occurs when a listener is added and removed from client. A &quot;remove&quot; runnable in the collection that is stored in <code>ClientEndpointImpl</code> is the leftover. This runnable collection is used to cleanup the
listeners when client is disconnected, it should be removed too after the listener is removed. <a href="https://github.com/hazelcast/hazelcast/issues/5893" target="_blank">[5893]</a> </li>
<li>The class <code>CacheRemoveAllOperation</code> does not send the &quot;completed&quot; event in some cases, e.g. if <code>CacheRecordStore</code> for that partition is not created yet or if the filtered keys are empty. <a href="https://github.com/hazelcast/hazelcast/issues/5865" target="_blank">[5865]</a></li>
<li>In the class <code>MapProxyImpl</code>, the methods <code>executeOnKey</code> and <code>submitToKey</code> create an <code>EntryOperation</code> with the thread ID set. This does not happen with the class <code>ClientMapProxy</code>. Therefore, the class <code>MapExecuteOnKeyRequest</code> should take a thread ID and set this on the generated <code>EntryOperation</code>. <a href="https://github.com/hazelcast/hazelcast/issues/5857" target="_blank">[5857]</a></li>
<li>The method <code>IndexImpl.getRecords()</code> fails with Null Pointer Exception due to the inconsistency between the <code>not(...equals())</code> and <code>notEquals()</code>. <a href="https://github.com/hazelcast/hazelcast/issues/5807" target="_blank">[5807]</a></li>
<li>The method <code>HazelcastHttpSession.getAttribute()</code> for WebFilter does not work when <code>deferredWrite</code> is set to <code>true</code>. <a href="https://github.com/hazelcast/hazelcast/issues/5798" target="_blank">[5798]</a></li>
<li>When <code>hazelcast.nio.faststring</code> is enabled, <code>UTFEncoderDecoder</code> tries to create a <code>FastStringCreator</code>. However, if the reflection is not available due to the security manager, <code>buildFastStringCreator</code> returns null and consequently <code>StringCreator</code> becomes null. <a href="https://github.com/hazelcast/hazelcast/issues/5777" target="_blank">[5777]</a></li>
<li><code>hazelcast-jca-rar/pom.xml</code> references to <code>src/main/rar/ra.xml</code> which does not exist. <a href="https://github.com/hazelcast/hazelcast/issues/5760" target="_blank">[5760]</a></li>
<li>The Maven profile <code>mvn clean compile -Pqa</code> does not exist but it is documented in the README of Hazelcast. <a href="https://github.com/hazelcast/hazelcast/issues/5746" target="_blank">[5746]</a></li>
<li><code>PerformanceLogFile</code> only compiles if JDK 1.7 or above is used. <a href="https://github.com/hazelcast/hazelcast/issues/5729" target="_blank">[5729]</a></li>
<li>Currently, for every deserialization a <code>BufferObjectDataInput</code> is created. This generates waste since it is created with an array of data for every deserialization. The <code>BufferObjectDataOutput</code> is already cached; the input should use a similar approach. <a href="https://github.com/hazelcast/hazelcast/issues/5562" target="_blank">[5562]</a></li>
<li>When any entities are defined as read only in the Hibernate L2 cache, an invalidation of the cache (such as caused by executing a native SQLQuery) leads to the error <code>UnsupportedOperationException</code>. <a href="https://github.com/hazelcast/hazelcast/issues/5562" target="_blank">[5562]</a></li>
<li>The performance impacts of TWO_PHASE and LOCAL transaction types should be documented. <a href="https://github.com/hazelcast/hazelcast/issues/5075" target="_blank">[5075]</a></li>
<li>Client requests are very inefficient when determining the partition ID. <a href="https://github.com/hazelcast/hazelcast/issues/4940" target="_blank">[4940]</a></li>
<li>The method <code>keySet()</code> relies on <code>QueryOperation</code>. The <code>QueryOperation</code> does not accept <code>IterationType</code> - it always returns both keys and values. This can lead to unnecessary load and potentially even an OOM exception. <a href="https://github.com/hazelcast/hazelcast/issues/4642" target="_blank">[4642]</a></li>
<li>Hazelcast is stuck in TIMED_WAITING when used as 2nd level cache for Hibernate. <a href="https://github.com/hazelcast/hazelcast/issues/4406" target="_blank">[4406]</a></li>
<li>Management Center license loading problem when REST API is used. <a href="https://github.com/hazelcast/management-center/issues/189" target="_blank">[189]</a></li>
<li>Executor monitoring in Management Center does not show the &quot;cancelled&quot; operations&quot; <a href="https://github.com/hazelcast/management-center/issues/177" target="_blank">[177]</a></li>
<li>When an alert for a data structure (map, queue, etc.) with its specific name is created, a <code>NullPointerException</code> is thrown after the cluster is reset. <a href="https://github.com/hazelcast/management-center/issues/175" target="_blank">[175]</a></li>
<li>Default directory name is hardcoded as &quot;mancenter3.5&quot; and it needs to be maintained for every major release. This process should be dynamic. <a href="https://github.com/hazelcast/management-center/issues/174" target="_blank">[174]</a></li>
<li>Throughput statistics for Map shows nothing when the <code>putAll()</code> method is used. <a href="https://github.com/hazelcast/management-center/issues/159" target="_blank">[159]</a></li>
</ul>
<a name="355"></a><h1 id="3-5-5">3.5.5</h1>
<p>This section lists the new features, enhancements and fixed issues for 3.5 and 3.5.x releases.</p>
<a name="new-features"></a><h2 id="new-features">New Features</h2>
<p>The following are the new features introduced with 3.5 release.</p>
<ul>
<li><strong>Async Back Pressure</strong>: The Back Pressure introduced with Hazelcast 3.4 now supports async operations. For more information, please see the <a href="http://docs.hazelcast.org/docs/3.5/manual/html-single/hazelcast-documentation.html#back-pressure">Back Pressure section</a>.</li>
<li><strong>Client Configuration Import</strong>: Hazelcast now supports replacing variables with system properties in the declarative configuration of Hazelcast client. Moreover, now you can compose the Hazelcast client declarative configuration out of smaller configuration snippets. For more information, please see the <a href="http://docs.hazelcast.org/docs/3.5/manual/html-single/hazelcast-documentation.html#composing-declarative-configuration">Composing Declarative Configuration section</a>.</li>
<li><strong>Cluster Quorum</strong>: This feature enables you to define the minimum number of machines required in a cluster for the cluster to remain in an operational state. For more information, please see  the <a href="http://docs.hazelcast.org/docs/3.5/manual/html-single/hazelcast-documentation.html#cluster-quorum">Cluster Quorum section</a>.</li>
<li><strong>Hazelcast Client Protocol</strong>: Starting with 3.5, Hazelcast introduces the support for different versions of clients in a cluster. Please keep in mind that this support is not valid for the releases before 3.5. Please see the important note at the last paragraph of the <a href="http://docs.hazelcast.org/docs/3.5/manual/html-single/hazelcast-documentation.html#hazelcast-java-client">Hazelcast Java Client chapter&#39;s</a> introduction.</li>
<li><strong>Listener for Lost Partitions</strong>: This feature notifies you for possible data loss occurrences. Please see the <a href="http://docs.hazelcast.org/docs/3.5/manual/html-single/hazelcast-documentation.html#partition-lost-listener">Partition Lost Listener section</a> and <a href="#mappartitionlostlistener">MapPartitionLostListener section</a>.</li>
<li><strong>Increased Visibility of Slow Operations</strong>: With the introduction of the <code>SlowOperationDetector</code> feature, slow operations are logged and can be seen on the Hazelcast Management Center. Please see the <a href="http://docs.hazelcast.org/docs/3.5/manual/html-single/hazelcast-documentation.html#slowoperationdetector">SlowOperationDetector section</a> and <a href="http://docs.hazelcast.org/docs/3.5/manual/html-single/hazelcast-documentation.html#members">Management Center:Members section</a>.</li>
<li><strong>Enterprise WAN Replication</strong>: Hazelcast Enterprise implementation of the WAN Replication. Please see the <a href="http://docs.hazelcast.org/docs/3.5/manual/html-single/hazelcast-documentation.html#enterprise-wan-replication">Enterprise WAN Replication section</a>.</li>
<li><strong>Sub-Listener Interfaces for Map Listener</strong>: This feature enables you to listen to map-wide or entry-based events. With this new feature, the listener formerly known as <code>EntryListener</code> has been changed to <code>MapListener</code> and <code>MapListener</code> has sub-interfaces to catch map/entry related events. Please see the <a href="http://docs.hazelcast.org/docs/3.5/manual/html-single/hazelcast-documentation.html#map-listener">Map Listener section</a> for more information.</li>
<li><strong>Scalable Map Loader</strong>: With this feature, you can load your keys incrementally if the number of your keys is large. Please see the <a href="http://docs.hazelcast.org/docs/3.5/manual/html-single/hazelcast-documentation.html#incremental-key-loading">Incremental Key Loading section</a>.</li>
<li><strong>Near Cache for JCache</strong>: Now you can use a near cache with Hazelcast&#39;s JCache implementation. Please see <a href="http://docs.hazelcast.org/docs/3.5/manual/html-single/hazelcast-documentation.html#jcache-near-cache">JCache Near Cache</a> for details. </li>
<li><strong>Fail Fast on Invalid Configuration</strong>: With this feature, Hazelcast throws a meaningful exception if there is an error in the declarative or programmatic configuration. Please see the note at the end of the <a href="http://docs.hazelcast.org/docs/3.5/manual/html-single/hazelcast-documentation.html#configuration-overview">Configuration Overview section</a>.</li>
<li><strong>Continuous Query Caching</strong>: (Enterprise only, since 3.5) Provides an always up to date view of an IMap according to the given predicate. Please see the <a href="http://docs.hazelcast.org/docs/3.5/manual/html-single/hazelcast-documentation.html#continuous-query-cache">Continuous Query Cache section</a> </li>
<li>Dynamic Selector Rebalancing</li>
<li>Management of Unbounded Return Values</li>
</ul>
<a name="enhancements"></a><h2 id="enhancements">Enhancements</h2>
<p>The following are the the enhancements performed for 3.5 and 3.5.x releases.</p>
<p><strong>3.5.3 Enhancements</strong></p>
<p>The following are the enhancements performed for Hazelcast 3.5.3 release.</p>
<ul>
<li>Cache statistics are only supported at the server side and exposed by <code>CacheProxy</code>. At the client side, cache statistics are not calculated and supported so <code>UnsupportedOperationException</code> is thrown at <code>ClientCacheProxy</code> <a href="https://github.com/hazelcast/hazelcast/issues/6262">[#6262]</a>.</li>
<li>Added <code>iam-role</code> support to Hazelcast Cloud module. So users can use Hazelcast Cloud module without configuring access keys. <a href="https://github.com/hazelcast/hazelcast/issues/2630">[#6262]</a>.</li>
</ul>
<p><strong>3.5.1 Enhancements</strong></p>
<p>The following are the enhancements performed for Hazelcast 3.5.1 release.</p>
<ul>
<li>Client instances should spawn threads with their instance names added as prefix <a href="https://github.com/hazelcast/hazelcast/issues/5671">[#5671]</a>.</li>
<li>The method <code>com.hazelcast.spi.impl.classicscheduler.ResponseThread::process</code> may catch throwables. When this occurs, it logs an unhelpful message, and ignores the actual exception. This method should be improved to additionally log the cause, or at least the exception class and message <a href="https://github.com/hazelcast/hazelcast/issues/5619">[#5619]</a>.</li>
<li>The element <code>min-eviction-check-millis</code> in the map configuration does not exist in documentation <a href="https://github.com/hazelcast/hazelcast/issues/5614">[#5614]</a>.</li>
</ul>
<p><br><br></p>
<p><strong>3.5 Enhancements</strong></p>
<p>This section lists the enhancements performed for Hazelcast 3.5 release.</p>
<ul>
<li><strong>Eventing System Improvements</strong>: RingBuffer and Reliable Topic structures are introduced.</li>
<li><strong>XA Transactions Improvements</strong>: With this improvement, you can now obtain a Hazelcast XA Resource instance through <code>HazelcastInstance</code>. For more information, please see <a href="#xa-transactions">XA Transactions</a>.</li>
<li><strong>Query and Indexing Improvements</strong> </li>
</ul>
<p>The following are the other improvements performed to solve the enhancement issues opened by the Hazelcast customers/team.</p>
<ul>
<li>While configuring JCache, duration of the <code>ExpiryPolicy</code> can be set programmatically but not declaratively <a href="https://github.com/hazelcast/hazelcast/issues/5347">[#5347]</a>.</li>
<li>Since near cache is not supported as embedded but only at client, at the moment, there is no need for <code>NearCacheConfig</code> in <code>CacheConfig</code> <a href="https://github.com/hazelcast/hazelcast/issues/5215">[#5215]</a>.</li>
<li>Support for parametrized test is needed <a href="https://github.com/hazelcast/hazelcast/issues/5182">[#5182]</a>.</li>
<li><code>SlowOperationDetector</code> should have an option to not to log the stacktraces to the log file. There is no need to have the stacktraces written to the normal log file if the Hazelcast Management Center or the performance monitor is being used <a href="https://github.com/hazelcast/hazelcast/issues/5043">[#5043]</a>.</li>
<li>The batch launcher should include the JCache API <a href="https://github.com/hazelcast/hazelcast/issues/4902">[#4902]</a>.</li>
<li>There are no Spring tags available for Native Memory configuration <a href="https://github.com/hazelcast/hazelcast/issues/4772">[#4772]</a>.</li>
<li>In the class <code>BasicInvocationFuture</code>, there is no need to create an additional <code>AtomicInteger</code> object. It should be
replaced with <code>AtomicIntegerFieldUpdater</code> <a href="https://github.com/hazelcast/hazelcast/issues/4408">[#4408]</a>.</li>
<li>There is no need to use the class <code>IsStillExecutingOperation</code> to check if an operation is running locally. One
can directly access to the scheduler <a href="https://github.com/hazelcast/hazelcast/issues/4407">[#4407]</a>.</li>
<li>Configuring NearCache in a Client/Server system only talks about the programmatic configuration of NearCache on the clients. The declarative configuration (XML) of the same is not mentioned <a href="https://github.com/hazelcast/hazelcast/issues/4376">[#4376]</a>.</li>
<li>XML schema and XML configuration validation is not compliant for AWS configuration <a href="https://github.com/hazelcast/hazelcast/issues/4310">[#4310]</a>.</li>
<li>The JavaDoc for the methods <code>KeyValueSource.hasNext/element/key</code> and <code>Iterator.hasNext/next</code> should emphasize the differences between each other, i.e. the state changing behavior should be clarified <a href="https://github.com/hazelcast/hazelcast/issues/4218">[#4218]</a>.</li>
<li>While migration is in progress, the nodes will have different partition state versions. If the query is running
at that time, it can get results from the nodes at different stages of the migration. By adding partition state
version to the query results, it can be checked whether the migration was happening and the query can be
re-run <a href="https://github.com/hazelcast/hazelcast/issues/4206">[#4206]</a>.</li>
<li>XML Config Schema does not allow to set a <code>SecurityInterceptor</code>
Implementation <a href="https://github.com/hazelcast/hazelcast/issues/4118">[#4118]</a>.</li>
<li>Currently, certain types of remote executed calls are stored into the <code>executingCalls</code> map. The key
(and value) is a <code>RemoteCallKey</code> object. The functionality provided is the ability to ask on the remote side
if an operation is still executing. For a partition-aware operation, this is not needed. When an operation is
scheduled by a partition specific operation thread, the operation can be stored in a volatile field in that
thread <a href="https://github.com/hazelcast/hazelcast/issues/4079">[#4079]</a>.</li>
<li>The class <code>TcpIpJoinerOverAWS</code> fails at AWS&#39; recently launched eu-central-1 region. The reason for the fail is that the region requires v4 signatures <a href="https://github.com/hazelcast/hazelcast/issues/3963">[#3963]</a>.</li>
<li>API change in <code>EntryListener</code> breaks the compatibility with the Camel Hazelcast component <a href="https://github.com/hazelcast/hazelcast/issues/3859">[#3859]</a>.</li>
<li>The <code>hazelcast-spring-&lt;</code><em>version</em><code>&gt;.xsd</code> should include the User Defined Services (SPI) elements and
attributes <a href="https://github.com/hazelcast/hazelcast/issues/3565">[#3565]</a>.</li>
<li>XA Transactions run on multiple threads <a href="https://github.com/hazelcast/hazelcast/issues/3385">[#3385]</a>.</li>
<li>Hazelcast client fails to connect when you provide variables from the system properties <a href="https://github.com/hazelcast/hazelcast/issues/3270">[#3270]</a>.</li>
<li>Entry listeners are not called when the entries are modified by WAN replication <a href="https://github.com/hazelcast/hazelcast/issues/2981">[#2981]</a>.</li>
<li>Map wildcard matching is confusing. There should be a pluggable wildcard configuration
resolver <a href="https://github.com/hazelcast/hazelcast/issues/2431">[#2431]</a>.</li>
<li>The method <code>loadAllKeys()</code> in map is not scalable <a href="https://github.com/hazelcast/hazelcast/issues/2266">[#2266]</a>.</li>
<li>Back pressure feature should be added <a href="https://github.com/hazelcast/hazelcast/issues/1781">[#1781]</a>.</li>
</ul>
<a name="fixes"></a><h2 id="fixes">Fixes</h2>
<p>The following are the issues solved for Hazelcast 3.5 and 3.5.x releases.</p>
<p><strong>3.5.5 Fixes</strong></p>
<p>The following are the issues solved for Hazelcast 3.5.5 release.</p>
<ul>
<li>When <code>hazelcast.jmx</code> option is enabled, MBeans are created for every Hazelcast object but they are never removed. When destroying Hazelcast object with the method <code>destroy()</code>, <code>DistributedObjectEvent::getDistributedObject()</code> throws <code>DistributedObjectDestroyedException</code> and stops the process of unregistering MBeans. MBeans are left forever causing memory leaks and they can be seen in VisualVM.  <a href="https://github.com/hazelcast/hazelcast/issues/7329">[#7329]</a></li>
<li><code>IdGenerator</code> sometimes generates duplicate IDs if it is put under stress. <a href="https://github.com/hazelcast/hazelcast/issues/7299">[#7299]</a></li>
<li>The method <code>IAtomicLong.compareAndSet()</code> does not properly backup its updated state. In a two node cluster, if you use this method and then shutdown the owner of the <code>IAtomicLong</code>, the remaining node no longer sees the updated value. <a href="https://github.com/hazelcast/hazelcast/issues/7290">[#7290]</a></li>
<li><code>InvocationMonitor</code> checks for the same invocations continuously. <a href="https://github.com/hazelcast/hazelcast/issues/7170">[#7170]</a></li>
<li>The methods <code>IMap.getAsync</code> and <code>IMap.putAsync</code> should update the statistics <code>getCount</code> and <code>putCount</code>, etc. <a href="https://github.com/hazelcast/hazelcast/issues/7109">[#7109]</a></li>
<li><code>NullPointerException</code> is thrown for <code>CoalescedWriteBehindQueue.removeFirstOccurrence()</code>. <a href="https://github.com/hazelcast/hazelcast/issues/7082">[#7082]</a></li>
<li>The quorum definition in the Spring context is not correct. <a href="https://github.com/hazelcast/hazelcast/issues/6946">[#6946]</a></li>
<li>While publishing events, IMap operations convert the value to data even if the registered listener does not request the value. <a href="https://github.com/hazelcast/hazelcast/issues/6866">[#6866]</a></li>
<li>Map entry event listeners are not invoked on the clients of WAN replication target cluster. <a href="https://github.com/hazelcast/hazelcast/issues/6802">[#6802]</a></li>
<li>The method <code>putAsync</code> does not affect <code>LocalMapStats.getPutOperationCount()</code>. <a href="https://github.com/hazelcast/hazelcast/issues/6731">[#6731]</a></li>
<li>Possible memory leak when using <code>IMap.containsKey</code>. Problem happens when <code>containsKey</code> is used for a value that exists in the <code>MapStore</code>. Entry is loaded from the store but it does not get added to the map (no event is triggered in this case), eventually the system crashes with no memory. <a href="https://github.com/hazelcast/hazelcast/issues/6517">[#6517]</a></li>
<li>Performance test with Spring Batch throws <code>TargetDisconnectedException</code>. <a href="https://github.com/hazelcast/hazelcast/issues/4230">[#4230]</a></li>
<li>Web session replication does not work as expected during a shutdown. <a href="https://github.com/hazelcast/hazelcast/issues/3362">[#3362]</a></li>
<li>The parameter <code>session-ttl-seconds</code> is set after the instance creation. It should be set before the instance is created. <a href="https://github.com/hazelcast/hazelcast/issues/2377">[#2377]</a></li>
</ul>
<p><strong>3.5.4 Fixes</strong></p>
<p>The following are the issues solved for Hazelcast 3.5.4 release.</p>
<ul>
<li>Fixed wrong calculation of eviction removal size when <code>PER_NODE</code> <code>max-size</code> policy is used. <a href="https://github.com/hazelcast/hazelcast/pull/6674">[#6674]</a></li>
<li>Lazy deserialization is required while events are being processed. <a href="https://github.com/hazelcast/hazelcast/issues/6582">[#6582]</a></li>
<li>Thread Dumps freeze in the Management Center. It shows the same thread dumps for all connected members, same traces and same thread IDs. And they are shown on the same line numbers. <a href="https://github.com/hazelcast/hazelcast/issues/6536">[#6536]</a></li>
<li>In Hazelcast 3.4.*, the methods <code>migrationStarted</code>/<code>migrationCompleted</code> were only called once when a partition migration was done. But in 3.5, these methods are called twice for each partition. <a href="https://github.com/hazelcast/hazelcast/issues/6396">[#6396]</a></li>
</ul>
<p><strong>3.5.3 Fixes</strong></p>
<p>The following are the issues solved for Hazelcast 3.5.3 release.</p>
<ul>
<li><code>ClientInvocationFuture</code> may hang when the deserialized response is null. <a href="https://github.com/hazelcast/hazelcast/issues/6363">[#6363]</a>.</li>
<li>The method <code>CacheStatisticsImpl::getAverageRemoveTime()</code> uses the &quot;get&quot; count on the cache but it must use the &quot;remove&quot; count. <a href="https://github.com/hazelcast/hazelcast/issues/6314">[#6314]</a>.</li>
<li>Hazelcast <code>console.sh</code> should support changing namespaces that contain space characters. <a href="https://github.com/hazelcast/hazelcast/issues/6307">[#6307]</a>. </li>
<li>The client fails to properly reconnect to a single node cluster after the Hazelcast server is restarted. <a href="https://github.com/hazelcast/hazelcast/issues/6168">[#6168]</a>. </li>
<li>Transactional Queue ordering on rollback can be violated. The reason is that the <code>QueueContainer</code> does not rollback the changes in the order that is opposite to the order of the items when they were added. It is a random order due to the fact that the changes are stored in a hashmap. <a href="https://github.com/hazelcast/hazelcast/issues/6156">[#6156]</a>.</li>
<li>When a field, that is only available in a subclass of an interface, is indexed, Null Pointer Exception is thrown. <a href="https://github.com/hazelcast/hazelcast/issues/6151">[#6151]</a>.</li>
<li>Extra <code>\r\n</code> in the body of the REST API responses causing warnings. <a href="https://github.com/hazelcast/hazelcast/issues/6144">[#6144]</a>.</li>
<li>Near cache on the client size for replicated map does not get invalidated after replicated map changes. <a href="https://github.com/hazelcast/hazelcast/issues/5508">[#5694]</a>.</li>
<li><code>IList.iterator()</code> and <code>listIterator()</code> do not support the method <code>iterator.remove()</code>. <a href="https://github.com/hazelcast/hazelcast/issues/5508">[#5508]</a>.</li>
</ul>
<p><strong>3.5.2 Fixes</strong></p>
<p>The following are the issues solved for Hazelcast 3.5.2 release.</p>
<ul>
<li>There is a performance issue: Even when the Spring boot application is doing nothing, CPU consumption is very high. A thread named &quot;.hazelcast-wm.ensureInstance&quot; consumes CPU around 70% because of the method <code>ClusteredSessionService.run()</code> <a href="https://github.com/hazelcast/hazelcast/issues/6052">[#6052]</a>.</li>
<li>MapLoader blocks the entire partition when loading a single entry <a href="https://github.com/hazelcast/hazelcast/issues/5818">[#5818]</a>.</li>
<li>The method <code>IMap.getAll</code> by-passes interceptors in the Hazelcast 3.3 and higher versions <a href="https://github.com/hazelcast/hazelcast/issues/5775">[#5775]</a>.</li>
<li><code>AWSJoiner</code> fails for the regions except us-east-1 <a href="https://github.com/hazelcast/hazelcast/issues/5653">[#5653]</a>.</li>
<li>Getting an instance of <code>sun.misc.Unsafe</code> class does not work on HP-UX operating system <a href="https://github.com/hazelcast/hazelcast/issues/5518">[#5518]</a>.</li>
<li><code>AWSAddressTranslator</code> always uses the default region and this causes the HazelcastClient to be unable to join a Hazelcast AWS cluster in a non-default region <a href="https://github.com/hazelcast/hazelcast/issues/5446">[#5446]</a>.</li>
<li>The test code <code>JettyWebFilterTest.java</code> does not fail properly <a href="https://github.com/hazelcast/hazelcast/issues/5188">[#5188]</a>.</li>
<li>Management Center behaves unfriendly when map entries increase <a href="https://github.com/hazelcast/hazelcast/issues/4895">[#4895]</a>.</li>
<li>In <code>hazelcast-client.xml</code>, if the region is configured but <code>host-header</code> is not provided, the configuration gives a default endpoint value of <code>ec2.amazonaws.com</code>. It should give, for example, <code>ec2.eu-west-1.amazonaws.com</code> when the region is eu-west-1 and <code>host-header</code> is not provided <a href="https://github.com/hazelcast/hazelcast/issues/4731">[#4731]</a>.</li>
<li>Too much CPU is used when Hazelcast is idle <a href="https://github.com/hazelcast/hazelcast/issues/81">[#81]</a>.</li>
</ul>
<p><strong>3.5.1 Fixes</strong></p>
<p>The following are the issues solved for Hazelcast 3.5.1 release.</p>
<ul>
<li>Hazelcast Management Center uses <code>UpdateMapConfigOperation</code> to update map configurations. This operation simply replaces the map configuration of the related map container. However, this replacement has no effect for <code>maxIdleSeconds</code> and <code>timeToLiveSeconds</code> properties of the map configuration since they are not used in the map container directly. They are assigned to the final variables during map container creation and never touched again <a href="https://github.com/hazelcast/hazelcast/issues/5593">[#5593]</a>.</li>
<li>Destroying a map just after creating it produces double create/destroy events for <code>DistributedObjectListener</code> <a href="https://github.com/hazelcast/hazelcast/issues/5592">[#5592]</a>.</li>
<li>Map does not allow changing its maximum size, TTL and maximum idle properties. However, these fields are editable in the &quot;Map Config&quot; popup of Management Center. These fields should be disabled to prevent misguiding <a href="https://github.com/hazelcast/hazelcast/issues/5591">[#5591]</a>.</li>
<li>Map is destroyed using <code>IMap.destroy()</code> but then it is immediately recreated <a href="https://github.com/hazelcast/hazelcast/issues/5554">[#5554]</a>.</li>
<li>There should be a better calculation when calling the method <code>getApproximateMaxSize()</code> related to casting. Its return type is <code>int</code> and this causes the map entries to be evicted all the time when, for example, the eviction policy for an IMap is set to heap percentage with the value 1% <a href="https://github.com/hazelcast/hazelcast/issues/5516">[#5516]</a>.</li>
<li>All <code>onResponse()</code> calls on a <code>MultiExecutionCallback</code> should be made before the method <code>onComplete()</code> is called. There exists a race condition in <code>ExecutionCallbackAdapterFactory</code> which permits the method <code>onComplete()</code> to be called before all <code>onResponse()</code> calls are made <a href="https://github.com/hazelcast/hazelcast/issues/5490">[#5490]</a>.</li>
<li>Hazelcast Management Center &quot;Scripting&quot; tab is not refreshed when a new node joins to the cluster <a href="https://github.com/hazelcast/hazelcast/issues/4738">[#4738]</a>.</li>
<li>When updating a map entry which is replicated over WAN, the TTL (time to live) is not honored in the remote cluster map. When the timeout expires, the entry disappears from the cluster in which the key is owned, however it remains in the remote cluster <a href="https://github.com/hazelcast/hazelcast/issues/254">[#254]</a>.</li>
</ul>
<p><br><br></p>
<p><strong>3.5 Fixes</strong></p>
<p>The following are the issues solved for Hazelcast 3.5 release.</p>
<ul>
<li>Operation timeout mechanism is not working <a href="https://github.com/hazelcast/hazelcast/issues/5468">[#5468]</a>.</li>
<li><code>MapLoader</code> exception is not logged: Exception should be logged and propagated back to the client that triggered the loading of the map <a href="https://github.com/hazelcast/hazelcast/issues/5430">[#5430]</a>.</li>
<li>Replicated Map documentation page does not mention that it is in the beta stage <a href="https://github.com/hazelcast/hazelcast/issues/5424">[#5424]</a>.</li>
<li>The method <code>XAResource.rollback()</code> should not need the transaction to be in the prepared state when called from another member/client <a href="https://github.com/hazelcast/hazelcast/issues/5401">[#5401]</a>.</li>
<li>The method <code>XAResource.end()</code> should not need to check <code>threadId</code> <a href="https://github.com/hazelcast/hazelcast/issues/5400">[#5400]</a>.</li>
<li>The method <code>IList::remove()</code> should publish the event <code>REMOVED</code> <a href="https://github.com/hazelcast/hazelcast/issues/5386">[#5386]</a>.</li>
<li><code>IllegalStateException</code> with wrong partition is thrown when the method <code>IMap::getOperation()</code> is invoked <a href="https://github.com/hazelcast/hazelcast/issues/5341">[#5341]</a>.</li>
<li><code>WrongTarget</code> warnings appear in the log since the operations are not sent to the replicas when a map has no backups <a href="https://github.com/hazelcast/hazelcast/issues/5324">[#5324]</a>.</li>
<li>When the method <code>finalizeCombine()</code> is used, Hazelcast throws <code>NullPointerException</code> <a href="https://github.com/hazelcast/hazelcast/issues/5283">[#5283]</a>.</li>
<li><code>WanBatchReplication</code> causes <code>OutOfMemoryException</code> when the default value for WAN Replication Batch Size (50) is used <a href="https://github.com/hazelcast/hazelcast/issues/5280">[#5280]</a>.</li>
<li>When testing Hazelcast, it does not start as an OSGI bundle. After the OSGI package was refactored, the dynamic class loading of the Script engine was missed <a href="https://github.com/hazelcast/hazelcast/issues/5274">[#5274]</a>.</li>
<li>XA Example from Section 11.3.5 in the Reference Manual broken after the latest XA Improvements are committed <a href="https://github.com/hazelcast/hazelcast/issues/5273">[#5273]</a>.</li>
<li>XA Transaction throws <code>TransactionException</code> instead of an <code>XAException</code> on timeout <a href="https://github.com/hazelcast/hazelcast/issues/5260">[#5260]</a>.</li>
<li>The test for unbounded return values runs forever with the new client implementation <a href="https://github.com/hazelcast/hazelcast/issues/5230">[#5230]</a>.</li>
<li>The new client method <code>getAsync()</code> fails with a <code>NegativeArraySizeException</code> <a href="https://github.com/hazelcast/hazelcast/issues/5229">[#5229]</a>.</li>
<li>The method <code>putTransient</code> actuated the MapStore unexpectedly in an environment with multiple instances <a href="https://github.com/hazelcast/hazelcast/issues/5225">[#5225]</a>.</li>
<li>Changes made by the interceptor do not appear in the backup <a href="https://github.com/hazelcast/hazelcast/issues/5211">[#5211]</a>.</li>
<li>The method <code>removeAttribute</code> will prevent any updates by the method <code>setAttribute</code> in the deferred write mode <a href="https://github.com/hazelcast/hazelcast/issues/5186">[#5186]</a>.</li>
<li>Backward compatibility of eviction configuration for cache is broken since <code>CacheEvictionConfig</code> class was renamed to <code>EvictionConfig</code> for general usage <a href="https://github.com/hazelcast/hazelcast/issues/5180">[#5180]</a>.</li>
<li>Value passed into <code>ICompletableFuture.onResponse()</code> is not deserialized <a href="https://github.com/hazelcast/hazelcast/issues/5158">[#5158]</a>.</li>
<li>Map Eviction section in the Reference Manual needs more clarification <a href="https://github.com/hazelcast/hazelcast/issues/5120">[#5120]</a>.</li>
<li>When host names are not registered in DNS or in <code>/etc/hosts</code> and the members are configured manually with IP addresses and while one node is running, a second node joins to the cluster 5 minutes after it started <a href="https://github.com/hazelcast/hazelcast/issues/5072">[#5072]</a>.</li>
<li>The method <code>OperationService.asyncInvokeOnPartition()</code> sometimes fails <a href="https://github.com/hazelcast/hazelcast/issues/5069">[#5069]</a>.</li>
<li>The <code>SlowOperationDTO.operation</code> shows only the class name, not the package. This can lead to ambiguity and the actual class cannot be tracked <a href="https://github.com/hazelcast/hazelcast/issues/5041">[#5041]</a>.</li>
<li>There is no documentation comment for the <code>MessageListener</code> interface of ITopic <a href="https://github.com/hazelcast/hazelcast/issues/5019">[#5019]</a>.</li>
<li>The method <code>InvocationFuture.isDone</code> returns <code>true</code> as soon as there is a response including <code>WAIT_RESPONSE</code>. However, <code>WAIT_RESPONSE</code> is an intermediate response, not a final one <a href="https://github.com/hazelcast/hazelcast/issues/5002">[#5002]</a>.</li>
<li>The method <code>InvocationFuture.andThen</code> does not deal with the null response correctly <a href="https://github.com/hazelcast/hazelcast/issues/5001">[#5001]</a>.</li>
<li><code>CacheCreationTest</code> fails due to the multiple <code>TestHazelcastInstanceFactory</code> creations in the same test <a href="https://github.com/hazelcast/hazelcast/issues/4987">[#4987]</a>.</li>
<li>When Spring dependency is upgraded to 4.1.x, an exception related to the <code>putIfAbsent</code> method is thrown <a href="https://github.com/hazelcast/hazelcast/issues/4981">[#4981]</a>.</li>
<li>HazelcastCacheManager should offer a way to access the underlying cache manager <a href="https://github.com/hazelcast/hazelcast/issues/4978">[#4978]</a>.</li>
<li>Hazelcast Client code allows to use the value <em>0</em> for the <code>connectionAttemptLimit</code> property which internally results in <code>int.maxValue</code>. However, the XSD of the Hazelcast Spring configuration requires it to be at least 1 <a href="https://github.com/hazelcast/hazelcast/issues/4967">[#4967]</a>.</li>
<li>Updates from Entry Processor does not take <code>write-coalescing</code> into account <a href="https://github.com/hazelcast/hazelcast/issues/4957">[#4967]</a>.</li>
<li>CachingProvider does not honor custom URI <a href="https://github.com/hazelcast/hazelcast/issues/4943">[#4943]</a>.</li>
<li>Test for the method <code>getLocalExecutorStats()</code> fails spuriously <a href="https://github.com/hazelcast/hazelcast/issues/4911">[#4911]</a>.</li>
<li>Missing documentation of network configuration for JCache <a href="https://github.com/hazelcast/hazelcast/issues/4905">[#4905]</a>.</li>
<li>Slow operation detector throws a <code>NullPointerException</code> <a href="https://github.com/hazelcast/hazelcast/issues/4855">[#4855]</a>.</li>
<li>Consider use of <code>System.nanoTime</code> in <code>sleepAtLeast</code> test code <a href="https://github.com/hazelcast/hazelcast/issues/4835">[#4835]</a>.</li>
<li>When upgraded to 3.5-SNAPSHOT for testing, Hazelcast project gives a warning that mentions a missing configuration for <code>hazelcastmq.txn-topic</code> <a href="https://github.com/hazelcast/hazelcast/issues/4790">[#4790]</a>.</li>
<li><code>ClassNotFoundException</code> when using WAR classes with JCache API <a href="https://github.com/hazelcast/hazelcast/issues/4775">[#4775]</a>.</li>
<li>When Hazelcast is installed using Maven in Windows environment, the test <code>XmlConfigImportVariableReplacementTest</code> fails <a href="https://github.com/hazelcast/hazelcast/issues/4758">[#4758]</a>.</li>
<li>When a request cannot be executed due to a problem (connection error, etc.), if the operation redo is enabled, request is retried. Retried operations are offloaded to an executor, but after offloading, the user thread still tries to retry the request. This causes anomalies like operations being executed twice or operation responses being handled incorrectly <a href="https://github.com/hazelcast/hazelcast/issues/4693">[#4693]</a>.</li>
<li>Client destroys all connections when a reconnection happens <a href="https://github.com/hazelcast/hazelcast/issues/4692">[#4692]</a>.</li>
<li>The <code>size()</code> method for a replicated map should return <code>0</code> when the entry is removed <a href="https://github.com/hazelcast/hazelcast/issues/4666">[#4666]</a>.</li>
<li><code>NullPointerException</code> on the <code>CachePutBackupOperation</code> class <a href="https://github.com/hazelcast/hazelcast/issues/4660">[#4660]</a>.</li>
<li>When removing keys from a MultiMap with a listener, the method <code>entryRemoved()</code> is called. In order to get the removed value, one must call the <code>event.getValue()</code> instead of <code>event.getOldValue()</code> <a href="https://github.com/hazelcast/hazelcast/issues/4644">[#4644]</a>.</li>
<li>Unnecessary deserialization at the server side when using <code>Cache.get()</code> <a href="https://github.com/hazelcast/hazelcast/issues/4632">[#4632]</a>.</li>
<li>Operation timeout exception during <code>IMap.loadAllKeys()</code> <a href="https://github.com/hazelcast/hazelcast/issues/4618">[#4618]</a>.</li>
<li>There have been Hazelcast AWS exceptions after the version of AWS signer had changed (from v2 to v4) <a href="https://github.com/hazelcast/hazelcast/issues/4571">[#4571]</a>.</li>
<li>In the declarative configuration; when a variable is used to specify the value of an element or attribute, Hazelcast ignores the strings that come before the variable <a href="https://github.com/hazelcast/hazelcast/issues/4533">[#4533]</a>.</li>
<li><code>LocalRegionCache</code> cleanup is working wrongly <a href="https://github.com/hazelcast/hazelcast/issues/4445">[#4445]</a>.</li>
<li>Repeatable-read does not work in a transaction <a href="https://github.com/hazelcast/hazelcast/issues/4414">[#4414]</a>.</li>
<li>Hazelcast instance name with <code>Hibernate</code> still creates multiple instances <a href="https://github.com/hazelcast/hazelcast/issues/4374">[#4374]</a>.</li>
<li>In Hazelcast 3.3.4, <code>FinalizeJoinOperation</code> times out if the method <code>MapStore.loadAllKeys()</code> takes more than 5 seconds <a href="https://github.com/hazelcast/hazelcast/issues/4348">[#4348]</a>.</li>
<li>JCache sync listener completion latch problems: Status of <code>ICompletableFuture</code> while waiting for completion latch in the cache must be checked <a href="https://github.com/hazelcast/hazelcast/issues/4335">[#4335]</a>.</li>
<li>Classloader issue with <code>javax.cache.api</code> and Hazelcast 3.3.1 <a href="https://github.com/hazelcast/hazelcast/issues/3792">[#3792]</a>.</li>
<li>Failed backup operation on transaction commit causes &quot;&quot;Nested transactions are not allowed!&quot; warning <a href="https://github.com/hazelcast/hazelcast/issues/3577">[#3577]</a>.</li>
<li>Hazelcast Client should not ignore the fact that the XML is for server and should not use default XML feature to connect to <code>localhost</code> <a href="https://github.com/hazelcast/hazelcast/issues/3256">[#3256]</a>.</li>
<li>Owner connection <code>read()</code> forever <a href="https://github.com/hazelcast/hazelcast/issues/3401">[#3401]</a>.</li>
</ul>
<a name="345"></a><h1 id="3-4-5">3.4.5</h1>
<p>This section lists the new features, enhancements and fixed issues for 3.4 and 3.4.x releases.</p>
<a name="new-features"></a><h2 id="new-features">New Features</h2>
<p>The following are the new features introduced with 3.4 release.</p>
<ul>
<li><strong>High-Density Memory Store</strong>: Used with the Hazelcast JCache implementation, High-Density Memory Store is introduced with this release. High-Density Memory Store is the enterprise grade backend storage solution. This solution minimizes the garbage collection pressure and thus enables predictable application scaling and boosts performance. For more information, please see <a href="http://docs.hazelcast.org/docs/3.4/manual/html-single/hazelcast-documentation.html#high-density-memory-store">High-Density Memory Store section</a>.</li>
<li><strong>Jetty Based Session Replication</strong>: We have introduced Jetty-based web session replication with this release. This is a feature of Hazelcast Enterprise. It enables session replication for Java EE web applications that are deployed into Jetty servlet containers, without having to perform any changes in those applications. For more information, please see <a href="http://docs.hazelcast.org/docs/3.4/manual/html-single/hazelcast-documentation.html#jetty-based-web-session-replication">Jetty Based Web Session Replication section</a>.</li>
<li><strong>Hazelcast Configuration Import</strong>: This feature, which is an element named <code>&lt;import&gt;</code>, enables you to compose the Hazelcast declarative (XML) configuration file out of smaller configuration snippets. For more information, please see <a href="http://docs.hazelcast.org/docs/3.4/manual/html-single/hazelcast-documentation.html#composing-xml-configuration">Composing XML Configuration section</a>.</li>
<li><strong>Back Pressure</strong>: Starting with this release, Hazelcast provides the back pressure feature which prevents the overload caused by pending asynchronous backups. For more information, please see <a href="http://docs.hazelcast.org/docs/3.4/manual/html-single/hazelcast-documentation.html#back-pressure">Back Pressure section</a>.</li>
</ul>
<a name="enhancements"></a><h2 id="enhancements">Enhancements</h2>
<p>The following are the the enhancements performed for 3.4 and 3.4.x releases.</p>
<p><strong>3.4.3 Enhancements</strong></p>
<p>This section lists the enhancements performed for Hazelcast 3.4.3 release.</p>
<ul>
<li>Expose <code>TcpIpJoiner.MAX_PORT_TRIES</code> as a configurable property <a href="https://github.com/hazelcast/hazelcast/issues/5062">[#5062]</a>.</li>
</ul>
<p><strong>3.4.2 Enhancements</strong></p>
<p>This section lists the enhancements performed for Hazelcast 3.4.2 release.</p>
<ul>
<li>The method <code>contains</code> for ISet scans all the items <a href="https://github.com/hazelcast/hazelcast/issues/4620">[#4620]</a>.</li>
</ul>
<p><strong>3.4.1 Enhancements</strong></p>
<p>This section lists the enhancements performed for Hazelcast 3.4.1 release.</p>
<ul>
<li>When the near cache is used, cached entries from the remote node are evicted by idleness, despite being read <a href="https://github.com/hazelcast/hazelcast/issues/4358">[#4358]</a>.</li>
<li>HazelcastQueryResultsRegion is never expired/evicted. The cleanup() method in LocalRegionCache for the query cache instances is never called, thus the query cache lives forever <a href="https://github.com/hazelcast/hazelcast/issues/3882">[#3882]</a>.</li>
</ul>
<p><strong>3.4 Enhancements</strong></p>
<p>This section lists the enhancements performed for Hazelcast 3.4 release.</p>
<ul>
<li>Event packets sent to the client do not have &quot;partitionId&quot; <a href="https://github.com/hazelcast/hazelcast/issues/4071">[#4071]</a>.</li>
<li>Spring Configuration for ReplicatedMap is Missing <a href="https://github.com/hazelcast/hazelcast/issues/3966">[#3966]</a>.</li>
<li><code>NodeMulticastListener</code> floods log file with INFO-level messages when debug is enabled <a href="https://github.com/hazelcast/hazelcast/issues/3787">[#3787]</a>.</li>
<li>A Hazelcast client should not be a <code>HazelcastInstance</code>. It should be a &quot;factory&quot; and this factory should be able to shut down Hazelcast clients. <a href="https://github.com/hazelcast/hazelcast/issues/3781">[#3781]</a>.</li>
<li><code>InvalidateSessionAttributesEntryProcessor</code> could avoid creating strings at every call to process <a href="https://github.com/hazelcast/hazelcast/issues/3767">[#3767]</a>.</li>
<li>The timeout for <code>SocketConnector</code> cannot be configured <a href="https://github.com/hazelcast/hazelcast/issues/3613">[#3613]</a>.</li>
<li>The method <code>MultiMap.get()</code> returns <code>collection</code>, but this method should return the correct collection type (<code>Set</code> or <code>List</code>) <a href="https://github.com/hazelcast/hazelcast/issues/3214">[#3214]</a>.</li>
<li><code>HazelcastConnection</code> is not aligned with <code>HazelcastInstance</code> <a href="https://github.com/hazelcast/hazelcast/issues/2997">[#2997]</a>.</li>
<li>Support for Log4j 2.x has been implemented <a href="https://github.com/hazelcast/hazelcast/issues/2345">[#2345]</a>.</li>
<li>Management Center console behavior on node shutdown <a href="https://github.com/hazelcast/hazelcast/issues/2215">[#2215]</a>.</li>
<li>When <code>queue-store</code> is not enabled, <code>QueueStoreFactory</code> should not be instantiated <a href="https://github.com/hazelcast/hazelcast/issues/1906">[#1906]</a>.</li>
<li>Management Center should be able to say when cluster is safe and all backups are up to date <a href="https://github.com/hazelcast/hazelcast/issues/963">[#963]</a>.</li>
</ul>
<a name="fixes"></a><h2 id="fixes">Fixes</h2>
<p>The following are the issues solved for Hazelcast 3.4 and 3.4.x releases.</p>
<p><strong>3.4.4 Fixes</strong></p>
<p>This section lists issues solved for Hazelcast 3.4.4 release.</p>
<ul>
<li>MultiMap entry listener provides incorrect null values <a href="https://github.com/hazelcast/hazelcast/issues/5538">[#5538]</a>.</li>
</ul>
<p><strong>3.4.3 Fixes</strong></p>
<p>This section lists issues solved for Hazelcast 3.4.3 release.</p>
<ul>
<li>Subsequent remove operations may cause reading of stale value from the map store <a href="https://github.com/hazelcast/hazelcast/issues/5368">[#5368]</a>.</li>
<li>Write-behind may cause reading of stale value upon migration <a href="https://github.com/hazelcast/hazelcast/issues/5339">[#5339]</a>.</li>
<li>Hazelcast client is unresponsive. <code>OperationTimeoutException</code> is seen in the logs <a href="https://github.com/hazelcast/hazelcast/issues/5338">[#5338]</a>.</li>
<li>Last update time of an entry should not be changed after <code>getAll()</code> is invoked <a href="https://github.com/hazelcast/hazelcast/issues/5333">[#5333]</a>.</li>
<li><code>AtomicReference.alterAndGet()</code> throws <code>HazelcastSerializationException</code> <a href="https://github.com/hazelcast/hazelcast/issues/5265">[#5265]</a>.</li>
<li><code>ICompletableFuture</code> callback from the method <code>getAsync</code> is not always invoked <a href="https://github.com/hazelcast/hazelcast/issues/5133">[#5133]</a>.</li>
<li>Warnings and exceptions are logged when closing the client connection <a href="https://github.com/hazelcast/hazelcast/issues/4966">[#4966]</a>.</li>
<li><code>CacheConfig</code> is not created on the cluster if the executer of <code>CacheCreateConfigOperation</code> has already a <code>CacheConfig</code> <a href="https://github.com/hazelcast/hazelcast/issues/4960">[#4960]</a>.</li>
<li>The schema does not allow for an explicit <code>hz:replicatedMap</code> element to be created. One can be created inside <code>hz:config</code> but not as a definition for a concrete Replicated Map. Therefore, at present it is impossible to define a Replicated Map using Spring. <a href="https://github.com/hazelcast/hazelcast/issues/4958">[#4958]</a>.</li>
<li><code>ResponseThread</code> and <code>InvocationRegistry.InspectionThread</code> reset and retry operations. Since these threads did not implement <code>NIOThread</code>, the <code>OperationExecutor</code> is free to execute tasks on these threads and that is not  desirable <a href="https://github.com/hazelcast/hazelcast/issues/4929">[#4929]</a>.</li>
<li>The method <code>CacheManager.getCache()</code> does not re-open the closed cache. It should let access to the closed cache and re-open it. Cache can be accessed by <code>getCache</code> but it is still closed <a href="https://github.com/hazelcast/hazelcast/issues/4631">[#4631]</a>.</li>
<li>The method <code>close()</code> of a Closeable <code>CacheLoader</code> is called without explicitly calling the method <code>Cache.close()</code> <a href="https://github.com/hazelcast/hazelcast/issues/4617">[#4617]</a>.</li>
<li>The method <code>Cache.close()</code> does not call the method <code>close()</code> of registered Closeable <code>CacheEntryListener</code> <a href="https://github.com/hazelcast/hazelcast/issues/4616">[#4616]</a>.</li>
<li>The method <code>awaitNanos()</code> returns the wrong value for both the <code>ClientConditionProxy</code> and <code>ConditionImpl</code> classes <a href="https://github.com/hazelcast/hazelcast/issues/4603">[#4603]</a>.</li>
<li>The method <code>NotEqualPredicate</code> should return false if entry is null (without index) and also if index is present, it should not throw an exception with null values <a href="https://github.com/hazelcast/hazelcast/issues/4525">[#4525]</a>.</li>
<li>When running Hazelcast with Spring and Hibernate 4 and when an application is started, the error related to <code>org/hibernate/cache/QueryResultsRegion</code> is produced <a href="https://github.com/hazelcast/hazelcast/issues/4519">[#4519]</a>.</li>
<li><code>OperationTimeoutException</code> when calling <code>get</code> on task future after <code>hazelcast.operation.call.timeout.millis</code> <a href="https://github.com/hazelcast/hazelcast/issues/4398">[#4398]</a>.</li>
<li>Predicates with null values throws exception for unordered indexes <a href="https://github.com/hazelcast/hazelcast/issues/4373">[#4373]</a>.</li>
<li>The method <code>queue.take()</code> does not get interrupted on shutdown <a href="https://github.com/hazelcast/hazelcast/issues/4143">[#4143]</a>.</li>
</ul>
<p><strong>3.4.2 Fixes</strong></p>
<p>This section lists issues solved for Hazelcast 3.4.2 release.</p>
<ul>
<li>While executing unit tests, <code>SlowOperationDetectorThread</code> and <code>CleanupThread</code> may not be terminated before the next test is started <a href="https://github.com/hazelcast/hazelcast/issues/4757">[#4757]</a>.</li>
<li>When multiple nodes join sequentially after partitions are assigned/distributed, old nodes fail to clean backup replicas larger than the configured backup count. This causes a memory leak. Also, when multiple nodes leave the cluster at the same time (or in a short period), the new partition owner looses some partition replica versions and this causes backup nodes for those specific replica indexes to fail synchronizing data from the owner node, although the owner node holds the whole partition data <a href="https://github.com/hazelcast/hazelcast/issues/4687">[#4687]</a>.</li>
<li>After cluster merges due to a network-split, Hazelcast infinitely logs <code>WaitNotifyServiceImpl$WaitingOp::WrongTargetException</code> warnings <a href="https://github.com/hazelcast/hazelcast/issues/4676">[#4676]</a>.</li>
<li>A strange <code>mapName</code> parameter occurred when using wildcard configuration for a custom <code>MapStoreFactory</code> <a href="https://github.com/hazelcast/hazelcast/issues/4667">[#4667]</a>.</li>
<li>The method <code>IExecutorService.submitToKeyOwner</code> encountered two errors: the <code>onResponse</code> method is invoked with null and a cast exception is thrown in a Hazelcast thread <a href="https://github.com/hazelcast/hazelcast/issues/4627">[#4627]</a>.</li>
<li>The method <code>init</code> in an implementation of the <code>MapLoaderLifecyleSupport</code> interface is not invoked <a href="https://github.com/hazelcast/hazelcast/issues/4623">[#4623]</a>.</li>
<li>The method <code>readData</code> in <code>NearCacheConfig</code> reads the <code>maxSize</code> twice <a href="https://github.com/hazelcast/hazelcast/issues/4609">[#4609]</a>.</li>
<li>The system property <code>hazelcast.client.request.retry.count</code> is not handled properly <a href="https://github.com/hazelcast/hazelcast/issues/4592">[#4592]</a>.</li>
</ul>
<p><strong>3.4.1 Fixes</strong></p>
<p>This section lists issues solved for Hazelcast 3.4.1 release.</p>
<ul>
<li>IMap.getAll does not put data to RecordStore upon loading from map store <a href="https://github.com/hazelcast/hazelcast/issues/4458">[#4458]</a>.</li>
<li>In the ClientNearCache class, there is a comparator which is used in a TreeSet to find the entries that should be evicted. If there are CacheRecords with the same hit count or lastAccessTime (depending on the policy, i.e. LFU or LRU), all of them should be evicted <a href="https://github.com/hazelcast/hazelcast/issues/4451">[#4451]</a>.</li>
<li>When using write-behind and the entries, which have not been stored yet, are evicted, duplicate calls to the map store is made <a href="https://github.com/hazelcast/hazelcast/issues/4448">[#4448]</a>.</li>
<li>There is a memory leak caused by the empty await queues in WaitNotifyService. When more then one thread try to lock on an IMap key at the same time, a memory leak occurs <a href="https://github.com/hazelcast/hazelcast/issues/4432">[#4432]</a>.</li>
<li>ClientListener is not configurable via ListenerConfig. HazelcastInstanceImpl.initializeListeners(Config config) does not honor ClientListener instances <a href="https://github.com/hazelcast/hazelcast/issues/4429">[#4429]</a>.</li>
<li>The CacheConfig(CacheSimpleConfig simpleConfig) constructor is broken. Variable assignments should be fixed <a href="https://github.com/hazelcast/hazelcast/issues/4423">[#4423]</a>.</li>
<li>In ReplicatedMap, the containsKey method should return false on the removed keys <a href="https://github.com/hazelcast/hazelcast/issues/4420">[#4420]</a>.</li>
<li>During the Hazelcast.shutdownAll() process, LockService is shut down before the MapService and this may cause null pointer exception if there is something like isLocked check in some internal IMap operations <a href="https://github.com/hazelcast/hazelcast/issues/4382">[#4382]</a>.</li>
<li>Hazelcast clients shut down in the case of an IP change of one or more of the configured node (DNS) addresses <a href="https://github.com/hazelcast/hazelcast/issues/4349">[#4349]</a>.</li>
<li>Write-behind system coalesces all operations on a specific key in a configured write-delay-seconds window and it should also store only the latest change on that key in that window. Problem with the current behavior is; a continuously updated key may not be persisted ever due to the shifted store time during the updates <a href="https://github.com/hazelcast/hazelcast/issues/4341">[#4341]</a>.</li>
<li>Issue with contains pattern in Config.getXXXConfig(). Since the actual wildcard search always does a contains matching, you cannot set a configuration for startsWith, for instance <a href="https://github.com/hazelcast/hazelcast/issues/4315">[#4315]</a>.</li>
<li>ReplicatedMapMBean is not present in JMX <a href="https://github.com/hazelcast/hazelcast/issues/4173">[#4173]</a>.</li>
</ul>
<p><strong>3.4 Fixes</strong></p>
<p>This section lists issues solved for <strong>Hazelcast 3.4</strong> release.</p>
<ul>
<li>Deadlock happens in MapReduce implementation when there is a high load on the system. The issue has been solved by offloading Distributed MapReduce result collection to the async executor <a href="https://github.com/hazelcast/hazelcast/issues/4238">[#4238]</a>.</li>
<li>When the class <code>ClientExecutorServiceSubmitTest.java</code> is compiled using the Eclipse compiler, it gives a compile error: &quot;<em>The method submit(Runnable, ExecutionCallback) is ambiguous for the type IExecutorService</em>&quot;. The reason is that the <code>IExecutorService.java</code> class does not have some generics. The issue has been solved by adding these missing generics to the <code>IExecutorService.java</code> class <a href="https://github.com/hazelcast/hazelcast/issues/4234">[#4234]</a>.</li>
<li>JCache declarative listener registration does not work <a href="https://github.com/hazelcast/hazelcast/issues/4215">[#4215]</a>.</li>
<li>JCache evicts the records which are not expired yet. To solve this issue, the <code>clear</code> method should be removed that runs when the size is smaller than the minimum eviction element count (<code>MIN_EVICTION_ELEMENT_COUNT</code>) <a href="https://github.com/hazelcast/hazelcast/issues/4124">[#4124]</a>.</li>
<li>Hazelcast Enterprise Native Memory operations should be updated in relation with the Hazelcast sync listener changes <a href="https://github.com/hazelcast/hazelcast/issues/4089">[#4089]</a>.</li>
<li>The completion listener (JCache) relies on event ordering but if the completion listener is registered in another node then event ordering is not guaranteed <a href="https://github.com/hazelcast/hazelcast/issues/4073">[#4073]</a>.</li>
<li>AWS joiner classname should be fixed since EC2 discovery is not working after the restructure <a href="https://github.com/hazelcast/hazelcast/issues/4025">[#4025]</a>.</li>
<li>If an IMap has a near cache configured, accessing the near cache via the method <code>get(key)</code> does not count as an access to the underlying IMap. The near cache has its own <code>max-idle-seconds</code> element. However, if an entry is expired/evicted in the IMap, it also causes a near cache removal operation for the entry regardless of the <code>max-idle-seconds</code> of that entry in the near cache. The entry expires and is evicted even if the near cache is being hit constantly. When a near cache is hit, the underlying map should reset the idle time for that key <a href="https://github.com/hazelcast/hazelcast/issues/4016">[#4016]</a>.</li>
<li>Getting a pre-configured Cache instance is not working as expected <a href="https://github.com/hazelcast/hazelcast/issues/4009">[#4009]</a>.</li>
<li>Bounded Queue section in the Reference Manual is unclear and wrong <a href="https://github.com/hazelcast/hazelcast/issues/3995">[#3995]</a>.</li>
<li>The method <code>checkFullyProcessed</code> of MapReduce throws null pointer exception. The reason may be that multiple threads attempt to start the final processing state in the JobSupervisor <a href="https://github.com/hazelcast/hazelcast/issues/3952">[#3952]</a>.</li>
<li>Merge operation after a split brain syndrome does not guarantee that the merging is over <a href="https://github.com/hazelcast/hazelcast/issues/3863">[#3863]</a>.</li>
<li>When a client with near cache configuration enabled is shut down, <code>RejectedExecutionException</code> is thrown <a href="https://github.com/hazelcast/hazelcast/issues/3669">[#3669]</a>.</li>
<li>In Hazelcast <code>IMap</code> and <code>TransactionalMap</code>, read-only operations such as <code>get()</code>, <code>containsKey()</code>, <code>keySet()</code>, and <code>containsValue()</code> break the transaction atomicity <a href="https://github.com/hazelcast/hazelcast/issues/3191">[#3191]</a>.</li>
<li>Documentation should clearly list features of and differences between native clients <a href="https://github.com/hazelcast/hazelcast/issues/2385">[#2385]</a>.</li>
<li>Sections of Hazelcast configuration should be able to be imported so that these sections can be shared between other Hazelcast configurations <a href="https://github.com/hazelcast/hazelcast/issues/406">[#406]</a>.</li>
</ul>
<a name="335"></a><h1 id="3-3-5">3.3.5</h1>
<p>This section lists the new features, enhancements and fixed issues for 3.3 and 3.3.x releases.</p>
<a name="new-features"></a><h2 id="new-features">New Features</h2>
<p>The following are the new features introduced with 3.3 release.</p>
<ul>
<li>Heartbeat for Java client: Before this release, a Java client could not detect a node as dead, if the client is not trying to connect to it. With this heartbeat feature, each node will be pinged periodically. If no response is returned from a node, it will be deemed as dead. Main goal of this feature is to decrease the time for detection of dead (disconnected) nodes by Java clients, so that the user operations will be sent directly to a responsive one. For more information, please see <a href="http://docs.hazelcast.org/docs/3.3/manual/html-single/#client-properties">Client Properties</a>.</li>
<li>Tomcat 6 and 7 Web Sessions Clustering: Please see <a href="http://docs.hazelcast.org/docs/3.3/manual/html-single/hazelcast-documentation.html#web-session-replication">Web Session Replication</a>.</li>
<li>Replicated Map implemented: Please see <a href="http://docs.hazelcast.org/docs/3.3/manual/html-single/hazelcast-documentation.html#replicated-map">Replicated Map</a></li>
<li>WAN Replication improved: Added configurable replication queue size <a href="http://docs.hazelcast.org/docs/3.3/manual/html-single/hazelcast-documentation.html#wan-replication-queue-size">WAN Replication Queue Size</a>.</li>
<li>Data Aggregation implemented: Added common data aggregations, please find <a href="http://docs.hazelcast.org/docs/3.3/manual/html-single/hazelcast-documentation.html#aggregators">Aggregators</a> documentation.</li>
<li>EvictAll and LoadAll features for IMap: <code>evictAll</code> and <code>loadAll</code> methods have been introduced to be able to evict all entries except the locked ones and that loads all or a set of keys from a configured map store, respectively. Please see <a href="http://docs.hazelcast.org/docs/3.3/manual/html-single/hazelcast-documentation.html#evicting-all-entries">Evicting All Entries</a> and <a href="http://docs.hazelcast.org/docs/3.3/manual/html-single/hazelcast-documentation.html#forcing-all-keys-to-be-loaded">Forcing All Keys to be Loaded</a> sections for more information.</li>
<li>Hazelcast JCache implementation introduced: Starting with release 3.3.1, Hazelcast offers its JCache implementation. Please see <a href="http://docs.hazelcast.org/docs/3.3/manual/html-single/hazelcast-documentation.html#hazelcast-jcache-implementation">Hazelcast JCache Implementation</a> for details.</li>
</ul>
<a name="fixes"></a><h2 id="fixes">Fixes</h2>
<p>The following are the issues solved for Hazelcast 3.3 and 3.3.x releases.</p>
<p><strong>3.3.5 Fixes</strong></p>
<p>This section lists issues solved for  3.3.5 release.</p>
<ul>
<li>Make write-coalescing configurable for write-behind map-stores <a href="https://github.com/hazelcast/hazelcast/issues/4438">[#4438]</a>.</li>
</ul>
<p><strong>3.3.4 Fixes</strong></p>
<p>This section lists issues solved for 3.3.4 release.</p>
<ul>
<li>Predicate with short values is not working <a href="https://github.com/hazelcast/hazelcast/issues/4293">[#4293]</a>.</li>
<li>Hits statistics copy and paste error in the method <code>ReplicatedRecord</code> <a href="https://github.com/hazelcast/hazelcast/issues/4254">[#4254]</a>.</li>
<li>Serialization error on the ReplicatedMap when in-memory format is set to <code>BINARY</code> <a href="https://github.com/hazelcast/hazelcast/issues/4205">[#4205]</a>.</li>
<li>Too long exception stacktraces if the Hazelcast client fails to receive data, and this leads to a failure on the client <a href="https://github.com/hazelcast/hazelcast/issues/4192">[#4192]</a>.</li>
<li>Hazelcast client registers the translated public address instead of its own private address to the list of connections. This causes the client not to be able to remove the connection correctly <a href="https://github.com/hazelcast/hazelcast/issues/4190">[#4190]</a>.</li>
<li><code>TransactionType:Local</code> emits exceptions while committing. The normal behavior should be throwing the exceptions to the user <a href="https://github.com/hazelcast/hazelcast/issues/4160">[#4160]</a>.</li>
<li>Map replication should mark expirable recordstore. Otherwise, in some situations, if one does not set the map wide expiration or map wide TTL, the key based TTL expiration may not work <a href="https://github.com/hazelcast/hazelcast/issues/4144">[#4144]</a>.</li>
<li>The method <code>BasicInvocationFuture.response</code> should be cleared when <code>BasicInvocation.WAIT_RESPONSE</code> is read by the waiter thread. Otherwise, when the retry operation takes too much time, the waiting thread sees the same wait response multiple times and the operation may not timeout forever <a href="https://github.com/hazelcast/hazelcast/issues/4123">[#4123]</a>.</li>
<li>Topic listeners should be unregistered when topic is destroyed <a href="https://github.com/hazelcast/hazelcast/issues/4117">[#4117]</a>.</li>
<li>Invocations (and their operations) remain in the invocations map forever if the operation timeouts without a response <a href="https://github.com/hazelcast/hazelcast/issues/4113">[#4113]</a>.</li>
<li>Timeout is needed for parallel query operations <a href="https://github.com/hazelcast/hazelcast/issues/4074">[#4074]</a>.</li>
<li>Initial map load and <code>max-size-policy</code> conflict <a href="https://github.com/hazelcast/hazelcast/issues/4066">[#4066]</a>.</li>
<li>MapStore operations should be retried and performed eventually after a temporary failure <a href="https://github.com/hazelcast/hazelcast/issues/4061">[#4061]</a>.</li>
<li>The class <code>SynchronizedWriteBehindQueue</code> (from <code>com.hazelcast.map.mapstore.writebehind</code>
package) is declared threadsafe in JavaDocs, but it is not <a href="https://github.com/hazelcast/hazelcast/issues/4039">[#4039]</a>.</li>
<li>The method <code>RemoveIfSameOperation</code> does not set <code>dataOldValue</code> for the <code>entryRemoved</code> event  <a href="https://github.com/hazelcast/hazelcast/issues/4037">[#4037]</a>.</li>
<li>When a new node with a new field is added to a cluster and when a query over this node is attempted, the old nodes throw an exception (<code>com.hazelcast.query.QueryException: Unknown Portable field: newFieldName</code>) and the query fails by throwing the same exception. <a href="https://github.com/hazelcast/hazelcast/issues/3927">[#3927]</a>.</li>
<li>At the moment, the internal state fields of a <code>Reducer</code> are required to be volatile to ensure the memory visibility effects after the suspension and continuation of a reducer. This requirement should be moved to be handled by the framework itself since it is tend to be forgotten <a href="https://github.com/hazelcast/hazelcast/issues/3866">[#3866]</a>.</li>
<li>The method <code>executeOnKey</code> hangs when the server fails to handle a query <a href="https://github.com/hazelcast/hazelcast/issues/3842">[#3842]</a>.</li>
<li>The <code>GlobalSerializerConfig#setImplementation()</code> parameter should be compatible with the implementation field <a href="https://github.com/hazelcast/hazelcast/issues/3569">[#3569]</a>.</li>
<li><code>ClientConsoleApp</code> should not define the file <code>hazelcast-client.xml</code> <a href="https://github.com/hazelcast/hazelcast/issues/3554">[#3554]</a>.</li>
<li>When using a custom partitioning strategy and the configured backup count of a map cannot be fulfilled since a node defined in the custom partition group is down, a JMX service call is blocked in the while-loop at <code>com.hazelcast.map.MapService.createLocalMapStats</code> <a href="https://github.com/hazelcast/hazelcast/issues/3526">[#3526]</a>.</li>
</ul>
<p><strong>3.3.3 Fixes</strong></p>
<p>This section lists issues solved for 3.3.3 release.</p>
<ul>
<li>JCache average put time statistic is not calculated correctly <a href="https://github.com/hazelcast/hazelcast/issues/4029">[#4029]</a>.</li>
<li>When sending backup, the replica address can be seen as null <a href="https://github.com/hazelcast/hazelcast/issues/4001">[#4001]</a>.</li>
<li>Evicted events are sent before the added events to EntryListeners <a href="https://github.com/hazelcast/hazelcast/issues/3992">[#3992]</a>.</li>
<li>In Management Center, the default login credentials cannot be deleted <a href="https://github.com/hazelcast/hazelcast/issues/3990">[#3990]</a>.</li>
<li>Logger for <code>NodeMulticastListener</code> does not belong to <code>com.hazelcast</code> hierarchy <a href="https://github.com/hazelcast/hazelcast/issues/3941">[#3941]</a>.</li>
<li>MapInterceptors are not removed when a node leaves the cluster <a href="https://github.com/hazelcast/hazelcast/issues/3932">[#3932]</a>.</li>
<li>MapInterceptors of same type (<code>Class</code>) are chained <a href="https://github.com/hazelcast/hazelcast/issues/3931">[#3931]</a>.</li>
<li>Expiration Time should not be updated. Its value is updated on every set operation on a map, but Hazelcast uses only the first value set for ExpirationTime. So a <code>getExpirationTime()</code> operation returns a wrong and misleading value. <a href="https://github.com/hazelcast/hazelcast/issues/3923">[#3923]</a>.</li>
<li>When using the XML file to configure a Queue to use a <code>QueueStoreFactory</code>, a null pointer exception is thrown at <code>QueueStoreWrapper</code> <a href="https://github.com/hazelcast/hazelcast/issues/3907">[#3907]</a>.</li>
<li>Excess logging on startup <a href="https://github.com/hazelcast/hazelcast/issues/3869">[#3869]</a>.</li>
<li><code>LifecycleService</code> should be terminated after the node cannot join to the cluster <a href="https://github.com/hazelcast/hazelcast/issues/3843">[#3843]</a>.</li>
<li>The method <code>MapProxyImpl.aggregate</code> hangs sporadically <a href="https://github.com/hazelcast/hazelcast/issues/3824">[#3824]</a>.</li>
<li>Currently, there is no class named <code>com.hazelcast.nio.utf8.EnterpriseStringCreator</code> in Hazelcast. So the class and its log messages should be removed from the code <a href="https://github.com/hazelcast/hazelcast/issues/3819">[#3819]</a>.</li>
<li>Bad user interface experience in the management center. Maps menu item that contains maps with longer names cannot be expanded <a href="https://github.com/hazelcast/hazelcast/issues/3815">[#3815]</a>.</li>
<li>When the shutdown button in the management center is hit multiple times, the nodes are shutdown again, after they are shutdown at the first place and restarted <a href="https://github.com/hazelcast/hazelcast/issues/3718">[#3718]</a>.</li>
<li>Alert e-mails from the management center are not sent to the e-mail address <a href="https://github.com/hazelcast/hazelcast/issues/3693">[#3693]</a>.</li>
<li>Instances with private IPs cannot be discovered on Amazon EC2 <a href="https://github.com/hazelcast/hazelcast/issues/3666">[#3666]</a>.</li>
<li>Null pointer exception in the method <code>Records.buildRecordInfo</code> from the stabilizer <code>MapStoreTest</code> <a href="https://github.com/hazelcast/hazelcast/issues/2956">[#2956]</a>.</li>
</ul>
<p><strong>3.3.2 Fixes</strong></p>
<p>This section lists issues solved for 3.3.2 release.</p>
<ul>
<li>Reject multicast messages if the group configuration is not matching <a href="https://github.com/hazelcast/hazelcast/issues/3806">[#3806]</a>.</li>
<li><code>Map#getEntryView</code> should check expiration of a key <a href="https://github.com/hazelcast/hazelcast/issues/3801">[#3801]</a>.</li>
<li>Hazelcast gets stuck in <code>HazelcastInstanceNotActiveException</code> loop during multicast join <a href="https://github.com/hazelcast/hazelcast/issues/3732">[#3732]</a>.</li>
<li>Hazelcast fails to comply with <code>maxIdleTime</code> expiration when running EntryProcessors. A delay should be added to expiration times on backups <a href="https://github.com/hazelcast/hazelcast/issues/3710">[#3710]</a>.</li>
<li><code>containsKey()</code> in transactional context returns wrong value for keys deleted within transaction <a href="https://github.com/hazelcast/hazelcast/issues/3682">[#3682]</a>.</li>
<li><code>TransactionalMap.values()</code> returns stale values that was updated within the transaction boundary <a href="https://github.com/hazelcast/hazelcast/issues/3668">[#3668]</a>.</li>
<li>Number of loaded keys should not exceed map&#39;s maximum size <a href="https://github.com/hazelcast/hazelcast/issues/3608">[#3608]</a>.</li>
<li>During client node shutdown, if the cluster happens to be down, Hazelcast logs some extra messages at SEVERE level <a href="https://github.com/hazelcast/hazelcast/issues/3493">[#3493]</a>.</li>
</ul>
<p><strong>3.3.1 Fixes</strong></p>
<p>This section lists issues solved for 3.3.1 release.</p>
<ul>
<li>MapReduce Combiner creation is not threadsafe, but certain operations on mapping phase might need a concurrent creation of the combiners <a href="https://github.com/hazelcast/hazelcast/issues/3625">[#3625]</a>.</li>
<li>When <code>connectionTimeout</code> property in ClientNetworkConfig is set to <code>Integer.MAX_VALUE</code>, the client could not connect to cluster since a default 2000 ms. extra value is added to <code>connectionTimeout</code> while connecting <a href="https://github.com/hazelcast/hazelcast/issues/3615">[#3615]</a>.</li>
<li>User provided list results from combiner is colliding with the internally used multi-result list <a href="https://github.com/hazelcast/hazelcast/issues/3614">[#3614]</a>.</li>
<li>While committing collection transactions, the collection item is being added to the collection container. However, this gives the warning &quot;There is no suitable de-serializer for type&quot; warning. Instead of collection item, transactional item should be added to the container <a href="https://github.com/hazelcast/hazelcast/issues/3603">[#3603]</a>.</li>
<li><code>MaxSizeConfig</code> constructor should convert zero size to <code>Integer.MAX_VALUE</code> <a href="https://github.com/hazelcast/hazelcast/issues/3579">[#3579]</a>.</li>
<li>If deserialization of the client request fails, the exception is not propagated back to the client  <a href="https://github.com/hazelcast/hazelcast/issues/3557">[#3557]</a>.</li>
<li>&quot;Lock is not owned by by the transaction&quot; exception. This exception was received while testing how transactions are working with Map and MultiMap for some last Hazelcast releases <a href="https://github.com/hazelcast/hazelcast/issues/3545">[#3545]</a>.</li>
<li>Main classes in <code>manifest.mf</code> files are not correctly set <a href="https://github.com/hazelcast/hazelcast/issues/3537">#3537</a>.</li>
<li>Count of evicted events may exceed the map size when &quot;read backup data&quot; feature is enabled <a href="https://github.com/hazelcast/hazelcast/issues/3515">#3515</a>.</li>
<li><code>mancenter.war</code> from Hazelcast release 3.2.5 cannot be deployed to Glassfish 3.1.2.2 and it fails to deploy <a href="https://github.com/hazelcast/hazelcast/issues/3501">#3501</a>.</li>
<li>While evicting entries from a map with the method <code>evictAll</code>, locked keys should stay in the map <a href="https://github.com/hazelcast/hazelcast/issues/3473">#3473</a>.</li>
<li>In <code>hazelcast-vm</code> module, before every test, new server container is started. And after every test, running server is terminated. This behavior causes a long test execution time. Server start-up and termination should be done before and after test class initialization and finalization <a href="https://github.com/hazelcast/hazelcast/issues/3473">#3473</a>.</li>
<li>The method <code>IQueue.take()</code> method should throw InterruptedException, but throws HazelcastException instead <a href="https://github.com/hazelcast/hazelcast/issues/3133">#3133</a>.</li>
<li>Multicast discovery doesn&#39;t work without network <a href="https://github.com/hazelcast/hazelcast/issues/2594">#2594</a>.</li>
</ul>
<p><strong>3.3 Fixes</strong></p>
<p>This section lists issues solved for 3.3 release.</p>
<ul>
<li>TxQueue cannot find reserved items upon ownership changes <a href="https://github.com/hazelcast/hazelcast/issues/3432">[#3432]</a>.</li>
<li>Documentation update is needed to tell that PagingPredicate is only supported for Comparable objects if there is no comparator <a href="https://github.com/hazelcast/hazelcast/issues/3432">[#3428]</a>.</li>
<li><code>java.lang.NullPointerException</code> is thrown when publishing an event in ClientEndPointImpl <a href="https://github.com/hazelcast/hazelcast/issues/3407">[#3407]</a>.</li>
<li>The <code>entryUpdated()</code> callback of a listener during a transaction always has a null <code>oldValue</code> in the EntryEvent <a href="https://github.com/hazelcast/hazelcast/issues/3406">[#3406]</a>.</li>
<li>Documentation update with the links to code samples for integration modules <a href="https://github.com/hazelcast/hazelcast/issues/3389">[#3389]</a>.</li>
<li>Hazelcast write-behind with <code>map.replace()</code> stores replaced items <a href="https://github.com/hazelcast/hazelcast/issues/3386">[#3386]</a>.</li>
<li>XAResource&#39;s <code>setTransactionTimeout()</code> method is not correctly implemented <a href="https://github.com/hazelcast/hazelcast/issues/3384">[#3384]</a>.</li>
<li>Hazelcast web session replication filter may die if response committed <a href="https://github.com/hazelcast/hazelcast/issues/3360">[#3360]</a>.</li>
<li>Resource adapter state is never reset to <code>isStarted == false</code>, resulting in errors down the line <a href="https://github.com/hazelcast/hazelcast/issues/3350">[#3350]</a>.</li>
<li><code>PagingPredicate.getAnchor</code> does not return the correct value <a href="https://github.com/hazelcast/hazelcast/issues/3241">[#3241]</a>.</li>
<li>If deserialization fails, calling node is not informed <a href="https://github.com/hazelcast/hazelcast/issues/2509">[#2509]</a>.</li>
<li>CallerNotMemberException and WrongTargetException exceptions are thrown at random intervals <a href="https://github.com/hazelcast/hazelcast/issues/2253">[#2253]</a>.</li>
</ul>
<p><strong>RC3 Fixes</strong></p>
<p>This section lists issues solved for 3.3-RC3 release.</p>
<ul>
<li>Parallel execution of <code>MapStore#store</code> method for the same key triggered by <code>IMap#flush</code> <a href="https://github.com/hazelcast/hazelcast/issues/3338">[#3338]</a>.</li>
<li>When offering null argument in queue throws an exception but it adds null argument to collection, then <code>addAll()</code> performed on this list does not throw an exception <a href="https://github.com/hazelcast/hazelcast/issues/3330">[#3330]</a>.</li>
<li><code>java.io.FileNotFoundException</code> thrown by MapLoaderTest <a href="https://github.com/hazelcast/hazelcast/issues/3324">[#3324]</a>.</li>
<li>MapMaxSizeTest Stabilizer test with SoftKill <a href="https://github.com/hazelcast/hazelcast/issues/3291">[#3291]</a>.</li>
<li>Incompatible Spring and Hazelcast configuration XSDs <a href="https://github.com/hazelcast/hazelcast/issues/3275">[#3275]</a>.</li>
<li><code>ExpirationManager</code> partition sorting can fail <a href="https://github.com/hazelcast/hazelcast/issues/3271">[#3271]</a>.</li>
<li>Configuration validation is broken <a href="https://github.com/hazelcast/hazelcast/issues/3257">[#3257]</a>.</li>
<li>Code Samples for Spring Security and WebFilter Integration <a href="https://github.com/hazelcast/hazelcast/issues/3252">[#3252]</a>.</li>
<li>WebFilter Test Cases are slow <a href="https://github.com/hazelcast/hazelcast/issues/3250">[#3250]</a>.</li>
<li>Management Center and Weblogic Deployment Problem <a href="https://github.com/hazelcast/hazelcast/issues/3247">[#3247]</a>.</li>
<li>Enabling Multicast and TCP/IP node discovery methods freeze the instances <a href="https://github.com/hazelcast/hazelcast/issues/3246">[#3246]</a>.</li>
<li><code>getOldValue</code> and <code>getValue</code> returns the same value when removing item from IMap <a href="https://github.com/hazelcast/hazelcast/issues/3198">[#3198]</a>.</li>
<li>MapTransactionContextTest: member SoftKill and then HazelcastSerializationException and IegalStateException: Nested are thrown <a href="https://github.com/hazelcast/hazelcast/issues/3196">[#3196]</a>.</li>
<li><code>IMap.delete()</code> should not call <code>MapLoader.load()</code><a href="https://github.com/hazelcast/hazelcast/issues/3178">[#3178]</a>.</li>
<li>3.3-RC3+: NPE in the method <code>connectionMarkedAsNotResponsive</code> <a href="https://github.com/hazelcast/hazelcast/issues/3169">[#3169]</a>.</li>
<li><code>WebFilter.HazelcastHttpSession.isNew()</code> does not check the Hazelcast Session Cache <a href="https://github.com/hazelcast/hazelcast/issues/3132">[#3132]</a>.</li>
<li>Hazelcast Spring XSD files are not version agnostic <a href="https://github.com/hazelcast/hazelcast/issues/3131">[#3131]</a>.</li>
<li><code>ClassCastException: java.lang.Integer</code> cannot be cast to <code>java.lang.String</code> Query <a href="https://github.com/hazelcast/hazelcast/issues/3091">[#3091]</a>.</li>
<li>Predicate returns a value not matching the predicate <a href="https://github.com/hazelcast/hazelcast/issues/3090">[#3090]</a>.</li>
<li>Modifications made by Entry Processor are lost in 3.3-RC-2 <a href="https://github.com/hazelcast/hazelcast/issues/3062">[#3062]</a>.</li>
<li>Hazelcast Session Clustering with Spring Security Problem <a href="https://github.com/hazelcast/hazelcast/issues/3049">[#3049]</a>.</li>
<li>PagingPredicate returning duplicated elements results in an infinite loop <a href="https://github.com/hazelcast/hazelcast/issues/3047">[#3047]</a>.</li>
<li><code>expirationTime</code> on EntryView is not set <a href="https://github.com/hazelcast/hazelcast/issues/3038">[#3038]</a>.</li>
<li><code>BasicRecordStoreLoader</code> cannot handle retry responses <a href="https://github.com/hazelcast/hazelcast/issues/3033">[#3033]</a>. </li>
<li>Short <code>await()</code> on condition of contended lock causes IllegalStateException <a href="https://github.com/hazelcast/hazelcast/issues/3025">[#3025]</a>. </li>
<li>Indices and Comparable<T>: not documented <a href="https://github.com/hazelcast/hazelcast/issues/3024">[#3024]</a>. </li>
<li>Marking Heartbeat as healthy is too late <a href="https://github.com/hazelcast/hazelcast/issues/3014">[#3014]</a>.</li>
<li>3.3-RC2: <code>IMap#keySet</code> triggers value deserialization <a href="https://github.com/hazelcast/hazelcast/issues/3008">[#3008]</a>.</li>
<li><code>map.destroy()</code> throws DistributedObjectDestroyedException <a href="https://github.com/hazelcast/hazelcast/issues/3001">[#3001]</a>.</li>
<li>Stabilizer tests Final profile, Xlarge cluster OperationTimeoutException <a href="https://github.com/hazelcast/hazelcast/issues/2999">[#2999]</a>.</li>
<li><code>com.hazelcast.jca.HazelcastConnection::getExecutorService</code> returns plain ExecutorService <a href="https://github.com/hazelcast/hazelcast/issues/2986">[#2986]</a>.</li>
<li>Serialization NPE in MapStoreTest stabilizer, 3.3-RC3-SNAPSHOT <a href="https://github.com/hazelcast/hazelcast/issues/2985">[#2985]</a>.</li>
<li>Bug with <code>IMap.getAll()</code> <a href="https://github.com/hazelcast/hazelcast/issues/2982">[#2982]</a>.</li>
<li>Client deadlock on single core machines <a href="https://github.com/hazelcast/hazelcast/issues/2971">[#2971]</a>.</li>
<li>Retrieve number of futures in loop in calling thread <a href="https://github.com/hazelcast/hazelcast/issues/2964">[#2964]</a>.</li>
</ul>
<p><strong>RC2 Fixes</strong></p>
<p>This section lists issues solved for 3.3-RC2 release.</p>
<ul>
<li><code>evictAll</code> should flush to staging area <a href="https://github.com/hazelcast/hazelcast/issues/2969">#2969</a>.</li>
<li>NPE exception in MapStoreTest <a href="https://github.com/hazelcast/hazelcast/issues/2956">[#2956]</a>.</li>
<li>Fixed <code>AddSessionEntryProcessor</code> <a href="https://github.com/hazelcast/hazelcast/issues/2955">[#2955]</a>.</li>
<li>Added <code>StripedExecutor</code> to WanReplicationService <a href="https://github.com/hazelcast/hazelcast/issues/2947">[#2947]</a>.</li>
<li>All read operations of map should respect expired keys <a href="https://github.com/hazelcast/hazelcast/issues/2946">[#2946]</a>.</li>
<li>Fix test EvictionTest#testMapWideEviction <a href="https://github.com/hazelcast/hazelcast/issues/2944">[#2944]</a>.</li>
<li>Heartbeat check of clients from nodes <a href="https://github.com/hazelcast/hazelcast/issues/2936">[#2936]</a>.</li>
<li>WebFilter does not clean up timed-    out sessions <a href="https://github.com/hazelcast/hazelcast/issues/2930">[#2930]</a>.</li>
<li>Fix leaking empty concurrent hashmaps <a href="https://github.com/hazelcast/hazelcast/issues/2929">[#2929]</a>.</li>
<li>Data loss fix in <em>hazelcast-wm</em> module <a href="https://github.com/hazelcast/hazelcast/issues/2927">[#2927]</a>.</li>
<li>Configured event queue capacity <a href="https://github.com/hazelcast/hazelcast/issues/2924">[#2924]</a>.</li>
<li>Client closes owner connection when a connection to the same address is closed <a href="https://github.com/hazelcast/hazelcast/issues/2921">[#2921]</a>.</li>
<li>Close the owner connection if heartbeat timeout when client is smart <a href="https://github.com/hazelcast/hazelcast/issues/2916">[#2916]</a>.</li>
<li>Set application buffer size to not exceed <code>tls</code> record size <a href="https://github.com/hazelcast/hazelcast/issues/2914">[#2914]</a>.</li>
<li>EntryProcessor makes unnecessary serialization <a href="https://github.com/hazelcast/hazelcast/issues/2913">[#2913]</a>.</li>
<li>Make evictable time window configurable <a href="https://github.com/hazelcast/hazelcast/issues/2910">[#2910]</a>.</li>
<li>Fixes data loss issue when partition table is being synced and a node is gracefully shutdown <a href="https://github.com/hazelcast/hazelcast/issues/2908">[#2908]</a>.</li>
<li>MapStoreConfig; implementation instance is not set, when configured via XML <a href="https://github.com/hazelcast/hazelcast/issues/2898">[#2898]</a>.</li>
<li>LocalMapStats does not record stats about locked entries in 3.x <a href="https://github.com/hazelcast/hazelcast/issues/2876">[#2876]</a>.</li>
<li>Concurrency security interceptor <a href="https://github.com/hazelcast/hazelcast/issues/2874">[#2874]</a>.</li>
<li>Client hangs during split, if split occurs due to network error <a href="https://github.com/hazelcast/hazelcast/issues/2850">[#2850]</a>.</li>
<li>Network connection loss does not release lock <a href="https://github.com/hazelcast/hazelcast/issues/2818">[#2818]</a>.</li>
</ul>
<p><strong>RC1 Fixes</strong></p>
<p>This section lists issues solved for 3.3-RC1 release.</p>
<ul>
<li>It is not possible to copy the link from <em><a href="http://hazelcast.org/download/">http://hazelcast.org/download/</a></em> and run <code>wget</code> on it <a href="https://github.com/hazelcast/hazelcast/issues/2814">[#2814]</a>.</li>
<li><code>mapCleared</code> method for EntryListener is needed <a href="https://github.com/hazelcast/hazelcast/issues/2789">[#2789]</a>.</li>
<li>The method <code>keySet</code> with predicate should trigger loading of MapStore <a href="https://github.com/hazelcast/hazelcast/issues/2692">[#2692]</a>.</li>
<li>MapStore with write-behind: The method <code>IMap.remove()</code> followed by <code>IMap.putIfAbsent(key,value)</code> still returns the old value <a href="https://github.com/hazelcast/hazelcast/issues/2685">[#2685]</a>.</li>
<li>Hazelcast cannot read UTF-8 String if &quot;multiple-byte&quot; characters end up at position that is an even multiple of buffer size <a href="https://github.com/hazelcast/hazelcast/issues/2674">[#2674]</a>.</li>
<li>Current implementation of record expiration relies on undefined behavior of <code>System.nanoTime()</code> <a href="https://github.com/hazelcast/hazelcast/issues/2666">[#2666]</a>.</li>
<li>Inconsistency at Hazelcast Bootup &quot;Editions&quot; message <a href="https://github.com/hazelcast/hazelcast/issues/2641">[#2641]</a>.</li>
<li><code>AbstractReachabilityHandler</code> writes to standard output <a href="https://github.com/hazelcast/hazelcast/issues/2591">[#2591]</a>.</li>
<li><code>IMap.set()</code> does not not remove a key from write behind deletions queue <a href="https://github.com/hazelcast/hazelcast/issues/2588">[#2588]</a>.</li>
<li><code>com.hazelcast.core.EntryView#getLastAccessTime</code> is invalid<a href="https://github.com/hazelcast/hazelcast/issues/2581">[#2581]</a>.</li>
</ul>
<a name="326"></a><h1 id="3-2-6">3.2.6</h1>
<p>This section lists the new features, enhancements and fixed issues for 3.2 and 3.2.x releases.</p>
<a name="new-features"></a><h2 id="new-features">New Features</h2>
<p>This section provides the new features introduced with Hazelcast 3.2 release. </p>
<ul>
<li><strong>NIO Client</strong>: New architecture based on NIO introduced to support more scalable and concurrent client usage.</li>
<li><strong>MapReduce Framework</strong>: MapReduce implemented for your key-value collections that need to be reduced by grouping the keys. Please see <a href="http://www.infoq.com/news/2014/02/hazelcast-mapreduce-api">the interview</a> and <a href="http://docs.hazelcast.org/docs/3.2/manual/html-single/hazelcast-documentation.html#mapreduce">MapReduce</a> section.</li>
<li><strong>Order/Limit Support</strong>: Now you can order and limit results returned by queries performed on Hazelcast Distributed Map.</li>
<li><strong>C++ Client</strong>: Native C++ client developed for C++ users which can connect to a Hazelcast cluster and realize almost all operations that a node can perform. Please see <a href="http://docs.hazelcast.org/docs/3.2/manual/html-single/hazelcast-documentation.html#native-clients">Native Clients</a>.</li>
<li><strong>C# Client</strong>: Also, Native C# client that has a very similar API with Native Java client developed. Please see <a href="http://docs.hazelcast.org/docs/3.2/manual/html-single/hazelcast-documentation.html#native-clients">Native Clients</a>.</li>
</ul>
<a name="enhancements"></a><h2 id="enhancements">Enhancements</h2>
<p>This section provides the improvements performed for 3.2 release.</p>
<ul>
<li>Size of a distributed queue via REST API can be returned. <a href="https://github.com/hazelcast/hazelcast/pull/1809">[#1809]</a>    </li>
<li>InitialLoadMode configuration parameter (having Lazy and Eager as values) added to MapStoreConfig. <a href="https://github.com/hazelcast/hazelcast/pull/1751">[#1751]</a></li>
<li>Tagging support for Executor Service introduced such that nodes can be tagged for IExecutorService. <a href="https://github.com/hazelcast/hazelcast/issues/1457">[1457]</a></li>
<li><code>getForUpdate()</code> operation for transactional map introduced. <a href="https://github.com/hazelcast/hazelcast/issues/1033">[#1033]</a></li>
<li>Entry processor can run on a set of keys with the introduction of <code>executeOnKeys(keys,entryprocessor)</code> method for IMap. <a href="https://github.com/hazelcast/hazelcast/pull/1423">[1423]</a></li>
<li><code>getNearCacheStats()</code> introduced. Statistics for near cache can be retrieved. <a href="https://github.com/hazelcast/hazelcast/issues/30">[#30]</a></li>
</ul>
<p>Please see the list of all enhancement issues <a href="https://github.com/hazelcast/hazelcast/issues?labels=enhancement&amp;milestone=29&amp;page=3&amp;state=closed">here</a>.</p>
<a name="fixes"></a><h2 id="fixes">Fixes</h2>
<p><strong>3.2.6 Fixes</strong></p>
<p>This section lists issues solved for 3.2.6 release.</p>
<ul>
<li>MapStore in write-behind mode throws Exception (Spring configured) <a href="https://github.com/hazelcast/hazelcast/issues/3397">[#3397]</a>.</li>
<li>Wildcard pattern of the map (map is configured with a wildcard in its name) should be respected during evictions <a href="https://github.com/hazelcast/hazelcast/issues/3345">[#3345]</a>.</li>
<li>Map eviction does not work when the policy is &quot;USED_HEAP_PERCENTAGE&quot; or &quot;USED_HESAP SIZE&quot; <a href="https://github.com/hazelcast/hazelcast/issues/3321">[#3321]</a>.</li>
<li>Exceptions when using Portable serialization <a href="https://github.com/hazelcast/hazelcast/issues/3313">[#3313]</a>.</li>
<li>When Hazelcast is used as drop-in replacement for Memcached, it causes errors <a href="https://github.com/hazelcast/hazelcast/issues/3182">[#3182]</a>.</li>
<li>Null Pointer Exception is thrown by <code>MapService.dispatchEvent</code> <a href="https://github.com/hazelcast/hazelcast/issues/3101">[#3101]</a>.</li>
<li>PagingPredicate returns duplicated elements which result in an infinite loop <a href="https://github.com/hazelcast/hazelcast/issues/3047">[#3047]</a>.</li>
<li><code>ContextClassLoader</code> is by default only set on some cached operation threads, not on most others <a href="https://github.com/hazelcast/hazelcast/issues/2721">[#2721]</a>.</li>
</ul>
<p><strong>3.2.5 Fixes</strong></p>
<p>This section lists issues solved for 3.2.5 release.</p>
<ul>
<li>Txn map keyset and values with portable entries is not working correctly. <a href="https://github.com/hazelcast/hazelcast/issues/3152">[#3152]</a></li>
<li><code>TransactionalMap.{putIfAbsent(k, v), replace(k, v), replace(k, v1, v2), remove(k, v)}</code> methods never release lock after transaction ends. <a href="https://github.com/hazelcast/hazelcast/issues/3149">[#3149]</a></li>
<li>Test failure at <code>ClientMapTest.testMapStatistics</code>. <a href="https://github.com/hazelcast/hazelcast/issues/3138">[#3138]</a></li>
<li><code>NetworkConfig.setReuseAddress</code> is not available in the XML. <a href="https://github.com/hazelcast/hazelcast/issues/3122">[#3122]</a></li>
<li>When a selector fails to open, the <code>AbstractSelector</code> does not throw an exception, but logs it and then continues. Also, when <code>select</code> throws an IOException, this exception is not dealt correctly. <a href="https://github.com/hazelcast/hazelcast/issues/3105">[#3105]</a></li>
<li>Test failure at <code>QueryBasicTest.testInPredicateWithEmptyArray</code>. <a href="https://github.com/hazelcast/hazelcast/issues/3060">[#3060]</a></li>
<li>Hibernate cache flush leaves ClientMapProxy in an inconsistent state. This cache flush triggers <code>IMapRegionCache.clear()</code> and the implementation here does not look correct since it leaves the &quot;map&quot; field in the inconsistent state (<em>context = null</em>) and prevents any further use of it. <a href="https://github.com/hazelcast/hazelcast/issues/3004">[#3004]</a></li>
<li>Fixes operation execution/invocation on IO threads issue. <a href="https://github.com/hazelcast/hazelcast/pull/2994">[#2994]</a></li>
<li>Node cannot recover from <code>MergeOperation</code> if target node exits the cluster. <a href="https://github.com/hazelcast/hazelcast/issues/2937">[#2937]</a></li>
<li>Client fails to run due to the lack of <code>ClientTestApp</code> class. <a href="https://github.com/hazelcast/hazelcast/issues/2817">[#2817]</a></li>
<li>Using Hazelcast Queue, assume that there is a system in which messages are actively being consumed by one consumer. When a second Hazelcast instance is started (i.e. second consumer for the same queue), Hazelcast throws an exception, then continues normally and there are two competing consumers on the same queue. <a href="https://github.com/hazelcast/hazelcast/issues/2805">[#2805]</a></li>
<li><code>IMap.submitToKey</code> and <code>IMap.executeOnKey</code> in combination with nodes joining/leaving the cluster result in data loss. <a href="https://github.com/hazelcast/hazelcast/issues/2785">[#2785]</a></li>
<li>Too much delay for deciding heartbeat timeout. <a href="https://github.com/hazelcast/hazelcast/issues/2766">[#2766]</a></li>
<li>When multiple predicates are combined by an <code>AndPredicate</code>, the first <code>IndexAwarePredicate</code> that is not indexed will be added to the &quot;no index&quot; list twice. <a href="https://github.com/hazelcast/hazelcast/issues/2531">[#2531]</a></li>
<li>There appears to be a leak in the memory in <code>SecondsBasedEntryTaskScheduler</code> when idle timeout is enabled on a map. <a href="https://github.com/hazelcast/hazelcast/issues/2343">[#2343]</a></li>
</ul>
<p><strong>3.2.2 Fixes</strong></p>
<p>This section lists issues solved for 3.2.2 release.</p>
<ul>
<li>Client security callable fix: <a href="https://github.com/hazelcast/hazelcast/pull/2561">[#2561]</a></li>
<li>Updating a key in a transaction gives listeners an entryAdded() callback instead of entryUpdated(). <a href="https://github.com/hazelcast/hazelcast/issues/2542">[#2542]</a></li>
<li>Client ssl engine doesn&#39;t need keyStore and keyStorePassword. <a href="https://github.com/hazelcast/hazelcast/pull/2525">[#2525]</a></li>
<li>Added support for Mapper, Combiner, Reducer, KeyValueSource to implement HazelcastInstanceAware. <a href="https://github.com/hazelcast/hazelcast/pull/2502">[#2502]</a></li>
<li>Fixed alter function. <a href="https://github.com/hazelcast/hazelcast/pull/2496">[#2496]</a></li>
<li>Return cached value upon IMap.get() if near cache is enabled. <a href="https://github.com/hazelcast/hazelcast/pull/2482">[#2482]</a></li>
<li>Exception initializing hz:client. <a href="https://github.com/hazelcast/hazelcast/issues/2480">[#2480]</a></li>
<li>Fixed portable serialization between different services versions. <a href="https://github.com/hazelcast/hazelcast/pull/2478">[#2478]</a></li>
<li>Resolves a data race in the client proxy that can lead to an NPE. <a href="https://github.com/hazelcast/hazelcast/pull/2474">[#2474]</a></li>
<li>Fixed partition group hostname matching. <a href="https://github.com/hazelcast/hazelcast/pull/2470">[#2470]</a></li>
<li>Client shutdown issue: Improve logging. <a href="https://github.com/hazelcast/hazelcast/issues/2442">[#2442]</a></li>
<li>Unnecessary synchronized lock when invoking com.hazelcast.instance.LifecycleServiceImpl.isRunning(). <a href="https://github.com/hazelcast/hazelcast/issues/2454">[#2454]</a></li>
<li>If MapStoreFactory throws exception, instance hangs. <a href="https://github.com/hazelcast/hazelcast/issues/2445">[#2445]</a></li>
<li>Semaphore is given to the thread that is coming late. <a href="https://github.com/hazelcast/hazelcast/issues/2443">[#2443]</a></li>
<li>Lots of exceptions when shutting down connection. <a href="https://github.com/hazelcast/hazelcast/issues/2441">[#2441]</a></li>
<li>Migration fails when statistics are disabled. <a href="https://github.com/hazelcast/hazelcast/issues/2436">[#2436]</a></li>
<li>3.2.1 regression: nested transactions are not caught and prevented. <a href="https://github.com/hazelcast/hazelcast/issues/2404">[#2404]</a></li>
<li>Client proxy init synced. <a href="https://github.com/hazelcast/hazelcast/pull/2376">[#2376]</a></li>
<li>Fixes hostname matching problem when interface has wildcards. <a href="https://github.com/hazelcast/hazelcast/pull/2398">[#2398]</a></li>
<li>Fix weblogic shutdown backport. <a href="https://github.com/hazelcast/hazelcast/pull/2391">[#2391]</a></li>
<li>NotWritablePropertyException connectionAttemptLimit with ssl client config. <a href="https://github.com/hazelcast/hazelcast/issues/2335">[#2335]</a></li>
<li>Map-Reduce Operation fails, when another instance tries to form a cluster with an instance running a map reduce task. <a href="https://github.com/hazelcast/hazelcast/issues/2354">[#2354]</a></li>
<li>EntryEvent getMember returning null when a node leaves the cluster. <a href="https://github.com/hazelcast/hazelcast/issues/2358">[#2358]</a></li>
<li>NullPointerException in Bundle Activator. <a href="https://github.com/hazelcast/hazelcast/issues/2489">[#2489]</a></li>
</ul>
<p>Please see <a href="https://github.com/hazelcast/hazelcast/issues?labels=&amp;milestone=46&amp;page=1&amp;state=closed">here</a> for the full list of solved issues.</p>
<p><strong>3.2.1 Fixes</strong></p>
<p>This section lists issues solved for 3.2.1 release.</p>
<ul>
<li>JCA problems have been fixed <a href="https://github.com/hazelcast/hazelcast/issues/2025">#2025</a>.</li>
<li>C++ client compilation problems are fixed.</li>
<li>Redo problem about Java dummy client is fixed.</li>
<li>Round robin load balancer of Java client is improved.</li>
<li>Initial timeout is for the initial connections in Java clients.</li>
<li>Wildcard configuration improvement in near cache configuration.</li>
<li>Unneeded serializations in EntryProcessor should be removed when the object format is <em>In-Memory</em> <a href="https://github.com/hazelcast/hazelcast/issues/2139">#2139</a>.</li>
<li>Race condition in near cache has been solved, immediate invalidation of local near cache was needed <a href="https://github.com/hazelcast/hazelcast/issues/2163">#2163</a>.</li>
<li>Predicate issue seen in transactions is solved.</li>
<li>Comparator issue in map eviction is solved.</li>
<li>Map eviction part has been refactored due to a race condition on map listener <a href="https://github.com/hazelcast/hazelcast/issues/2324">#2324</a>.</li>
<li>Stale data problem in client near cache has been solved <a href="https://github.com/hazelcast/hazelcast/issues/2065">#2065</a>.</li>
<li>Many checkstyle and findbugs issues are solved.</li>
</ul>
<p>Please see <a href="https://github.com/hazelcast/hazelcast/issues?labels=defect&amp;milestone=43&amp;page=1&amp;state=open">here</a> for the full list of solved issues.</p>
<p><strong>3.2 Fixes</strong></p>
<p>This section lists issues solved for 3.2 release.</p>
<ul>
<li><code>LocalMapStats.getNearCacheStats()</code> can return null when it is called before a map get that calls <code>initNearCache()</code>. <a href="https://github.com/hazelcast/hazelcast/issues/2009">[#2009]</a></li>
<li><code>testMapWithIndexAfterShutDown</code> fails in OpenJDK. <a href="https://github.com/hazelcast/hazelcast/issues/2001">[#2001]</a></li>
<li>Portable Serialization needs objects to be shared between client and server. <a href="https://github.com/hazelcast/hazelcast/issues/1957">[#1957]</a></li>
<li>Near cache entries should be locally invalidate on <code>IMap.executeOnKey()</code>. <a href="https://github.com/hazelcast/hazelcast/issues/1951">[#1951]</a></li>
<li>OperationTimeoutException is thrown when executing task that runs longer than <code>hazelcast.operation.call.timeout.millis</code>. <a href="https://github.com/hazelcast/hazelcast/issues/1949">[#1949]</a></li>
<li><code>MapStore#store</code> was called when executing AbstractEntryProcessor on backup. <a href="https://github.com/hazelcast/hazelcast/issues/1940">[#1940]</a></li>
<li>After an OperationTimeoutException is thrown from `ILock.tryLock()     (and after the system is back in a normal state), the named lock remains locked. <a href="https://github.com/hazelcast/hazelcast/issues/1937">[#1937]</a></li>
<li>Hazelcast client needs OutOfMemoryErrorDispatcher. <a href="https://github.com/hazelcast/hazelcast/issues/1933">[#1933]</a></li>
<li>Near Cache: Caching of local entries may lead to race condition. <a href="https://github.com/hazelcast/hazelcast/issues/1905">[#1905]</a></li>
<li>After key owner node dies, it takes too much time for threads to wakeup from <code>condition.await()</code>. <a href="https://github.com/hazelcast/hazelcast/issues/1879">[#1879]</a></li>
<li>Possible improvements/fixes for NearCache. <a href="https://github.com/hazelcast/hazelcast/issues/1863">[#1863]</a></li>
<li><code>MultipleEntryBackupOperation</code> does not handle deletion of entries. <a href="https://github.com/hazelcast/hazelcast/issues/1854">[#1854]</a></li>
<li>If topics are created/destroyed, then the statistics for that topic are not destroyed and this can cause a memory leak. <a href="https://github.com/hazelcast/hazelcast/issues/1847">[#1847]</a></li>
<li>PartitionService backup/replication fixes. <a href="https://github.com/hazelcast/hazelcast/issues/1840">[#1840]</a></li>
<li>Cached null values remain in near cache after <code>evict</code> is called. <a href="https://github.com/hazelcast/hazelcast/issues/1829">[#1829]</a></li>
<li>NullPointerException in MultiMap when the service is shutdown before the migration is processed. <a href="https://github.com/hazelcast/hazelcast/issues/1823">[#1823]</a></li>
<li>Network interruption causes node to continually warn with WrongTargetException. <a href="https://github.com/hazelcast/hazelcast/issues/1815">[#1815]</a></li>
<li><code>DefaultRecordStore#removeAll</code> should be modified so that it keeps &quot;key objects to delete&quot; as a list, not a set. <a href="https://github.com/hazelcast/hazelcast/issues/1795">[#1795]</a></li>
<li>Very long <code>operation.run()</code> call stack especially when high partition count is used. <a href="https://github.com/hazelcast/hazelcast/issues/1745">[#1745]</a></li>
<li>When executing an entry processor with an index aware predicate, the index is not used, instead the predicate is applied to the entire entry set. <a href="https://github.com/hazelcast/hazelcast/issues/1719">[#1719]</a></li>
<li>When one node goes down in a cluster with 2 nodes (where near cache is enabled), <code>containsKey</code> call hangs in the second node. <a href="https://github.com/hazelcast/hazelcast/issues/1688">[#1688]</a></li>
<li>When deleting an entry from an entry processor by setting the value to null, it is not removed from the backup store. <a href="https://github.com/hazelcast/hazelcast/issues/1687">[#1687]</a></li>
<li>Client calls executed at server side cause unwanted (de)serialization. <a href="https://github.com/hazelcast/hazelcast/issues/1669">[#1669]</a></li>
<li>In <code>TrackableJobFuture.get(long, TimeUnit)</code>, there is a 100 ms of sleep-spin while waiting for the result of a MapReduce task to be set. <a href="https://github.com/hazelcast/hazelcast/issues/1648">[#1648]</a></li>
<li>If <code>storeAll</code> takes much time and if instance terminates while map store is running, data can be lost. <a href="https://github.com/hazelcast/hazelcast/issues/1644">[#1644]</a></li>
<li>A missing Spring 4 Cache method added to hazelcast-spring package (namely <code>public T get(Object key, Class type)</code>). <a href="https://github.com/hazelcast/hazelcast/issues/1627">[#1627]</a></li>
<li>When eviction tasks are canceled, <code>scheduledExecutorService</code> is not cleaned. <a href="https://github.com/hazelcast/hazelcast/issues/1595">[#1595]</a></li>
<li><code>storeAll()</code> with new value for the same key should not be executed until any previous <code>storeAll()</code> operations with the same key are not completed. <a href="https://github.com/hazelcast/hazelcast/issues/1592">[#1592]</a></li>
<li>When using native client to interact with Hazelcast cluster, some JMX MBean attribute values on cluster nodes are not set/updated. <a href="https://github.com/hazelcast/hazelcast/issues/1576">[#1576]</a></li>
<li><code>IMap.getAll(keys)</code> method does not read from near cache. <a href="https://github.com/hazelcast/hazelcast/issues/1532">[#1532]</a></li>
<li>Near Cache <em>cache-local-entries</em> attribute is missing in <code>hazelcast-spring-3.2</code> XSD. <a href="https://github.com/hazelcast/hazelcast/issues/1524">[#1524]</a></li>
<li>Exception while executing script in OpenJDK 8. <a href="https://github.com/hazelcast/hazelcast/issues/1518">[#1518]</a></li>
<li>Infinite waiting on merge operations when cluster shuts down. <a href="https://github.com/hazelcast/hazelcast/issues/1504">[#1504]</a></li>
<li>Client side socket interceptor is not needed to be MemberSocketInterceptor. <a href="https://github.com/hazelcast/hazelcast/issues/1444">[#1444]</a></li>
<li>Near cache on the local node should be enabled if its InMemoryFormat is different from that of the map. <a href="https://github.com/hazelcast/hazelcast/issues/1438">[#1438]</a></li>
<li>Async EntryProcessor does not deserialize the value before it is called back. <a href="https://github.com/hazelcast/hazelcast/issues/1433">[#1433]</a></li>
<li>A submitted task cannot be canceled via the native client. <a href="https://github.com/hazelcast/hazelcast/issues/1394">[#1394]</a></li>
<li><code>executeOnKeys(keys,entryprocessor)</code> introduced on IMap. With this feature entry processor can be run on a set of keys. <a href="https://github.com/hazelcast/hazelcast/issues/1339">[#1339]</a></li>
<li>FINEST logging should be guarded where appropriate. <a href="https://github.com/hazelcast/hazelcast/issues/1332">[#1332]</a></li>
<li>False errors reported in Eclipse due to schema definition. <a href="https://github.com/hazelcast/hazelcast/issues/1330">[#1330]</a></li>
<li>Index based operations are not synchronized with partition changes. <a href="https://github.com/hazelcast/hazelcast/issues/1297">[#1297]</a></li>
<li>Management Center: InvocationTargetException in Tomcat console when a node is started and then stopped. <a href="https://github.com/hazelcast/hazelcast/issues/1267">[#1267]</a></li>
<li>The system property <code>hazelcast.map.load.chunk.size</code> is being ignored in Hazelcast 3.1. <a href="https://github.com/hazelcast/hazelcast/issues/1110">[#1110]</a></li>
<li>Master should fire repartitioning after getting confirmation from nodes. <a href="https://github.com/hazelcast/hazelcast/issues/1058">[#1058]</a></li>
<li>SqlPredicate does not Implement equals/hashCode. <a href="https://github.com/hazelcast/hazelcast/issues/960">[#960]</a></li>
<li><code>DelegatingFuture.isDone</code> seems to always return false until the method <code>DelegatingFuture.get</code> is called. <a href="https://github.com/hazelcast/hazelcast/issues/850">[#850]</a></li>
<li>Predicate support for entry processor. <a href="https://github.com/hazelcast/hazelcast/issues/826">[#826]</a></li>
</ul>
<p><strong>RC2 Fixes</strong></p>
<p>This section lists issues solved for 3.2-RC2 release.</p>
<ul>
<li><code>ClientService.getConnectedClients</code> returns all end points <a href="https://github.com/hazelcast/hazelcast/issues/1883">[#1883]</a>.</li>
<li>MultiMap is throwing <code>ConcurrentModificationExceptions</code> <a href="https://github.com/hazelcast/hazelcast/issues/1882">[#1882]</a>.</li>
<li><code>executorPoolSize</code> field of ClientConfig cannot be configured using XML <a href="https://github.com/hazelcast/hazelcast/issues/1867">[#1867]</a>.</li>
<li>Partition processing cannot be postponed <a href="https://github.com/hazelcast/hazelcast/pull/1856">[#1856]</a>.</li>
<li>Memory leak at client endpoints <a href="https://github.com/hazelcast/hazelcast/pull/1842">[#1842]</a>.</li>
<li>Errors related to management center configuration on startup <a href="https://github.com/hazelcast/hazelcast/pull/1821">[#1821]</a>.</li>
<li>XML parsing error by client <a href="https://github.com/hazelcast/hazelcast/pull/1818">[#1818]</a>.</li>
<li><code>ClientReAuthOperation</code> cannot return response without call ID <a href="https://github.com/hazelcast/hazelcast/issues/1816">[#1816]</a>.</li>
<li><code>MemberAttributeOperationType</code> should be introduced to remove the dependency to <code>MapOperationType</code> <a href="https://github.com/hazelcast/hazelcast/pull/1811">[#1811]</a>.</li>
<li>Entry listener removal from MultiMap <a href="https://github.com/hazelcast/hazelcast/pull/1810">[#1810]</a>.</li>
<li>Change <code>DefaultRecordStore#removeAll</code> to keep &quot;key objects to delete&quot; as a list, not a set <a href="https://github.com/hazelcast/hazelcast/issues/1795">[#1795]</a>.</li>
</ul>
<p><strong>RC1 Fixes</strong></p>
<p>This section lists issues solved for 3.2-RC1 release.</p>
<ul>
<li><em>TransactionalMap</em> does not support <code>put(K,V,long,TimeUnit)</code> <a href="https://github.com/hazelcast/hazelcast/issues/1718">[#1718]</a>.</li>
<li>Entry is not removed from backup store when it is deleted using entry processor <a href="https://github.com/hazelcast/hazelcast/issues/1687">[#1687]</a>.</li>
<li>Possibility of losing data when MapStore takes a long time <a href="https://github.com/hazelcast/hazelcast/issues/1644">[#1644]</a>.</li>
<li>When eviction tasks are cancelled, <code>scheduledExecutorService</code> should be cleaned    <a href="https://github.com/hazelcast/hazelcast/issues/1595">[#1595]</a>.</li>
<li>A fix related to <em>StoreAll</em> is needed in a write-behind scenario <a href="https://github.com/hazelcast/hazelcast/issues/1592">[#1592]</a>.</li>
<li>Update problem at map statistics <a href="https://github.com/hazelcast/hazelcast/issues/1576">[#1576]</a>.</li>
<li>Exception while executing script in OpenJDK 8 <a href="https://github.com/hazelcast/hazelcast/issues/1518">[#1518]</a>.</li>
<li>StackOverflowError at <code>AndResultSet</code> <a href="https://github.com/hazelcast/hazelcast/issues/1501">[#1501]</a>.</li>
<li>Near Cache using <code>InMemoryFormat.OBJECT</code> also for local node <a href="https://github.com/hazelcast/hazelcast/issues/1438">[#1438]</a>.</li>
<li>Async entry processor is not deserializing the value before returning <a href="https://github.com/hazelcast/hazelcast/issues/1433">[#1433]</a>.</li>
<li>Distributed Executor; <em>Future Cancel</em> is not working <a href="https://github.com/hazelcast/hazelcast/issues/1394">[#1394]</a>.</li>
<li><code>HazelcastInstanceFactory$InstanceFuture.get()</code> never returns when <code>newHazelcastInstance()</code> method fails/throws exception <a href="https://github.com/hazelcast/hazelcast/issues/1253">[#1253]</a>.</li>
<li>Changes for <em>Vertx</em> on Openshift <a href="https://github.com/hazelcast/hazelcast/pull/1176">[#1176]</a>.</li>
<li>Serialization should be performed after database interaction for MapStore <a href="https://github.com/hazelcast/hazelcast/issues/1115">[#1115]</a>.</li>
<li>System property related to chunk size is passed over in Hazelcast 3.1 <a href="https://github.com/hazelcast/hazelcast/issues/1110">[#1110]</a>.</li>
<li>Map backups lack eviction of some specific data <a href="https://github.com/hazelcast/hazelcast/issues/1085">[#1085]</a>.</li>
<li><code>DelegatingFuture.isDone</code> always returns false until get is called <a href="https://github.com/hazelcast/hazelcast/issues/850">[#850]</a>.</li>
<li>Predicate support for entry processor <a href="https://github.com/hazelcast/hazelcast/issues/826">[#826]</a>.</li>
<li>Full replication of Maps should be performed <a href="https://github.com/hazelcast/hazelcast/issues/360">[#360]</a>.</li>
</ul>
<a name="318"></a><h1 id="3-1-8">3.1.8</h1>
<p>This section lists the new features, enhancements and fixed issues for 3.1 and 3.1.x releases.</p>
<a name="new-features"></a><h2 id="new-features">New Features</h2>
<p>This section provides the new features introduced with Hazelcast 3.1 release.</p>
<ul>
<li>Elastic Memory (Enterprise Extensions Only) is now available.</li>
<li>Hazelcast Security is now available.</li>
<li>Hazelcast JCA integration is back.</li>
<li>Controlled Partitioning: Controlled Partitioning is the ability to control the partition of certain DistributedObjects like the IQueue, IAtomicLong or ILock. This will make collocating related data easier. Hazelcast map also supports custom partitioning strategies. A PartitioningStrategy can be defined in map configuration.</li>
<li>TransactionalMap now supports <code>keySet()</code>, <code>keySet(predicate)</code>, <code>values()</code> and <code>values(predicate)</code> methods.</li>
<li>Eviction based on USED_HEAP_PERCENTAGE or USED_HEAP_SIZE now takes account real heap memory size consumed by map.</li>
<li>SqlPredicate now supports &#39;\&#39; as escape character.</li>
<li>SqlPredicate now supports regular expressions using REGEX keyword. For example, <code>map.values(new SqlPredicate(&quot;name REGEX .*earl$&quot;))</code>.</li>
<li>Hazelcast queue now supports QueueStoreFactory that will be used to create custom QueueStores for persistent queues. QueueStoreFactory is similar to map&#39;s MapStoreFactory.</li>
<li>TransactionalQueue now supports <code>peek()</code> and <code>peek(timeout, timeunit)</code> methods.</li>
<li>Client now has SSL support.</li>
<li>Client also supports custom socket implementations using SocketFactory API. A custom socket factory can be defined in ClientConfig.</li>
<li>Hazelcast IList and ISet now have their own configurations. They can be configured using config API, XML and Spring.</li>
<li><code>HazelcastInstance.shutdown()</code> method added back.</li>
<li>OSGI compatibility is improved significantly.</li>
</ul>
<a name="fixes"></a><h2 id="fixes">Fixes</h2>
<p>This section lists issues solved for 3.1 and 3.1.x releases.</p>
<ul>
<li><code>ClassCastException</code> when using near cache. <a href="https://github.com/hazelcast/hazelcast/issues/1941">[#1941]</a></li>
<li>Hazelcast management console does not allow update of map configuration in runtime. <a href="https://github.com/hazelcast/hazelcast/issues/1898">[#1898]</a></li>
<li>MultiMap ConcurrentModificationExceptions. <a href="https://github.com/hazelcast/hazelcast/issues/1882">[#1882]</a></li>
<li>Near Cache: Race Condition. <a href="https://github.com/hazelcast/hazelcast/issues/1861">[#1861]</a></li>
<li>ClientReAuthOperation cannot return response without call ID. <a href="https://github.com/hazelcast/hazelcast/issues/1816">[#1816]</a></li>
<li>REST put overrides TTL from the configuration. <a href="https://github.com/hazelcast/hazelcast/issues/1783">[#1783]</a></li>
<li>Management Center usage should not trigger loading of map. <a href="https://github.com/hazelcast/hazelcast/issues/1770">[#1770]</a></li>
<li>ResourceAdaptor fix to handle external HazelcastInstance breaking scheme. <a href="https://github.com/hazelcast/hazelcast/issues/1727">[#1727]</a></li>
<li>There is no <code>executeOnAllKey</code> for IMap, the documentation should be changed. <a href="https://github.com/hazelcast/hazelcast/issues/1711">[#1711]</a></li>
<li>Memory leak; <code>backupCalls</code> record is not removed if <code>Future.get()</code> is not called during <code>IMap.putAsync()</code> or <code>IMap.removeAsync()</code>. <a href="https://github.com/hazelcast/hazelcast/issues/1693">[#1693]</a></li>
<li><code>ClassCastException</code> when removing from Multimap. <a href="https://github.com/hazelcast/hazelcast/issues/1667">[#1667]</a></li>
<li>com.hazelcast.spi.exception.RetryableHazelcastException: Map is not ready. <a href="https://github.com/hazelcast/hazelcast/issues/1593">[#1593]</a></li>
<li>Member join while loading persistent maps throws NPEs. <a href="https://github.com/hazelcast/hazelcast/issues/1577">[#1577]</a></li>
<li>Near cache does not work properly for null values. <a href="https://github.com/hazelcast/hazelcast/issues/1570">[#1570]</a></li>
<li>Memory Leak on operation timeout. <a href="https://github.com/hazelcast/hazelcast/issues/1559">[#1559]</a></li>
<li>EOFException: Remote socket is closed. <a href="https://github.com/hazelcast/hazelcast/issues/1551">[#1551]</a></li>
<li>Severe NullPointerException but then everything works fine. <a href="https://github.com/hazelcast/hazelcast/issues/1548">[#1548]</a></li>
<li><code>IMap.putTransient(K,V)</code> method (without TTL) is missing. <a href="https://github.com/hazelcast/hazelcast/issues/1526">[#1526]</a></li>
<li>Object is not an instance of declaring the class com.hazelcast.query.impl.QueryException. <a href="https://github.com/hazelcast/hazelcast/issues/1503">[#1503]</a></li>
<li>Setting socket timeout, Hazelcast client will throw SocketTimeoutException. <a href="https://github.com/hazelcast/hazelcast/issues/1435">[#1435]</a></li>
<li><code>QueueStore.store(Long, Object)</code> is called multiple times from <code>TransactionalQueue.offer</code>. <a href="https://github.com/hazelcast/hazelcast/issues/1412">[#1412]</a></li>
<li>Warning: No transaction item for itemId: <identifier>. <a href="https://github.com/hazelcast/hazelcast/issues/1393">[#1393]</a></li>
<li>StackOverflow in <code>AndResultSet</code>. <a href="https://github.com/hazelcast/hazelcast/issues/1349">[#1349]</a></li>
<li><code>maxIdleSeconds</code> is set to DEFAULT_TTL_SECONDS in <code>com.hazelcast.config.MapConfig</code>. <a href="https://github.com/hazelcast/hazelcast/issues/1308">[#1308]</a></li>
<li>Serializer implementation registration with Spring config fails. <a href="https://github.com/hazelcast/hazelcast/issues/1294">[#1294]</a></li>
<li><code>ReadBackupData</code> on Map exposes internally stored value. <a href="https://github.com/hazelcast/hazelcast/issues/1292">[#1292]</a></li>
<li>Multimap: Lock is not owned by the transaction. <a href="https://github.com/hazelcast/hazelcast/issues/1276">[#1276]</a></li>
<li>Java deserialization of non-static inner classes fails. <a href="https://github.com/hazelcast/hazelcast/issues/1265">[#1265]</a></li>
<li>HazelcastInstance is not injected into MapInterceptor when HazelcastInstanceAware is implemented. <a href="https://github.com/hazelcast/hazelcast/issues/1233">[#1233]</a></li>
<li>Remove <code>compare</code> optimization from map put. <a href="https://github.com/hazelcast/hazelcast/issues/1231">[#1231]</a></li>
<li>Unneeded deserialization in EntryOperation. <a href="https://github.com/hazelcast/hazelcast/issues/1182">[#1182]</a></li>
<li>Adding an InitialMembershipListener to ClientConfig using <code>ClientConfig.addListenerConfig</code> throws NullPointerException. <a href="https://github.com/hazelcast/hazelcast/issues/1181">[#1181]</a></li>
<li>Insufficient calculation of next key/value when doing a restore of message queue from database. <a href="https://github.com/hazelcast/hazelcast/issues/1165">[#1165]</a></li>
<li>Case insensitivity of configurations in XML. <a href="https://github.com/hazelcast/hazelcast/issues/1152">[#1152]</a></li>
<li>The scheme <code>hazelcast-spring3.1.xsd</code> throws SAXParseException when <code>hz:interfaces</code> have multiple <code>hz:interface</code> elements. <a href="https://github.com/hazelcast/hazelcast/issues/1145">[#1145]</a></li>
<li>Bundle start fails due to <code>OSGiScriptEngineManager</code>. <a href="https://github.com/hazelcast/hazelcast/issues/1136">[#1136]</a></li>
<li>Apparent memory leak when using near cache. <a href="https://github.com/hazelcast/hazelcast/issues/1087">[#1087]</a></li>
<li>Semaphore can be initialized multiple times if permit-count = 0. <a href="https://github.com/hazelcast/hazelcast/issues/1080">[#1080]</a></li>
<li>Exception when running continuous query. And non-existent key is deleted under transaction. <a href="https://github.com/hazelcast/hazelcast/issues/1076">[#1076]</a></li>
<li>Race condition between first map operation and re-populating a map after a cluster restart. <a href="https://github.com/hazelcast/hazelcast/issues/1070">[#1070]</a></li>
<li>Eviction tasks should be cancelled on <code>remove()</code>, <code>evict()</code>. <a href="https://github.com/hazelcast/hazelcast/issues/1068">[#1068]</a></li>
<li>Stale cache issues when using <code>HazelcastLocalCacheRegionFactory</code>. <a href="https://github.com/hazelcast/hazelcast/issues/1039">[#1039]</a></li>
<li>When multiple nodes start simultaneously, post join process duplicates some event registrations and causes warning logs on each publish. <a href="https://github.com/hazelcast/hazelcast/issues/1024">[#1024]</a></li>
<li>Multimap entry listener is called twice. <a href="https://github.com/hazelcast/hazelcast/issues/993">[#993]</a></li>
<li>Clear logic on <code>ByteArrayObjectDataOutput</code> can create memory leak with large objects. <a href="https://github.com/hazelcast/hazelcast/issues/989">[#989]</a></li>
<li>TransactionException: Lock is not owned by the transaction. <a href="https://github.com/hazelcast/hazelcast/issues/988">[#988]</a></li>
<li>Spring schema declaration is missing. <a href="https://github.com/hazelcast/hazelcast/issues/982">[#982]</a></li>
<li>Null object indexing exception. <a href="https://github.com/hazelcast/hazelcast/issues/978">[#978]</a></li>
<li>Entries not changed by an EntryProcessor should not render an EntryListener event. <a href="https://github.com/hazelcast/hazelcast/issues/969">[#969]</a></li>
<li>Unlock parameter in TxnSetOperation backup operation is not serialized. <a href="https://github.com/hazelcast/hazelcast/issues/956">[#956]</a></li>
<li>PartitioningStrategy is not set in HazelcastClient. <a href="https://github.com/hazelcast/hazelcast/issues/923">[#923]</a></li>
<li>Enhancement request: Consider extending SqlPredicate to allow using regexes. <a href="https://github.com/hazelcast/hazelcast/issues/914">[#914]</a></li>
<li>Map <code>getAll()</code> is blocked with &quot;Map is not ready exception&quot;. <a href="https://github.com/hazelcast/hazelcast/issues/887">[#887]</a></li>
<li>QueueStoreConfig needs a factory to support wildcard creation. <a href="https://github.com/hazelcast/hazelcast/issues/884">[#884]</a></li>
<li>Data is lost when transaction manager node terminates/crashes without preparing transaction. <a href="https://github.com/hazelcast/hazelcast/issues/863">[#863]</a></li>
<li>Make <code>cache-null-value-seconds</code> customizable. <a href="https://github.com/hazelcast/hazelcast/issues/806">[#806]</a></li>
<li>Reintroduce the <code>Instanceof</code> predicate. <a href="https://github.com/hazelcast/hazelcast/issues/790">[#790]</a></li>
<li>Add <code>IMap.addEntryListener()</code> without key (continuous query). <a href="https://github.com/hazelcast/hazelcast/issues/710">[#710]</a></li>
<li>The calculation <code>used_heap_percentage</code> should take backups into account. <a href="https://github.com/hazelcast/hazelcast/issues/403">[#403]</a></li>
</ul>
<a name="303"></a><h1 id="3-0-3">3.0.3</h1>
<p>This section lists the new features, enhancements and fixed issues for 3.0 and 3.0.x releases.</p>
<a name="new-features"></a><h2 id="new-features">New Features</h2>
<p>This section provides the new features introduced with Hazelcast 3.0 release.</p>
<ul>
<li>Multi-thread execution: Operations are now executed by multiple threads (by factor of processor cores). With Hazelcast 2, there was a only single thread.</li>
<li>SPI: Service Programming Interface for developing new partitioned services, data structures. All Hazelcast data structures like Map, Queue are reimplemented with SPI.</li>
<li>IdentifiedDataSerializable: A slightly optimized version of DataSerializable that does not use class name and reflection for de-serialization.</li>
<li>Portable Serialization: Another Serialization interface that does not use reflection and can navigate through binary data and fetch/query/index individual field without having any reflection or whole object de-serialization.</li>
<li>Custom Serialization: Support for custom serialization that can be plugged into Hazelcast.</li>
<li>Entry Processor: Executing an EntryProcessor on the key or on all entries. Hazelcast implicitly locks the entree and guarantees no migration while the execution of the Processor.</li>
<li>In-Memory Format: Support for storing entries in Binary, Object and Cached format.</li>
<li>Continuous Query: Support for listeners that register with a query and are notified when there is a change on the Map that matches the Query.</li>
<li>Interceptors: Ability to intercept the Map operation before/after it is actually executed.</li>
<li>Lazy Indexing:Ability to index existing items in the map. No need to add indexes at the very beginning.</li>
<li>Queue: No more dependency on the distributed map</li>
<li>Queue: Scales really well as you have thousands of separate queues.</li>
<li>Queue: Persistence Support for persistence with QueueStore.</li>
<li>Multimap: Values can be Set/List/Queue.</li>
<li>Topic: Support for global ordering where all Nodes receive all messages in the same order.</li>
<li>Distributed Transaction: Support for both 1-phase (local) and 2 phase transactions with a totally new API.</li>
<li>New Binary Protocol: A new binary protocol based on portable serialization. The same protocol is used for Java/C/C# and other clients.</li>
<li>Smart client: Support for dummy and smart client. A dummy client will maintain a connection to only one member, whereas the smart client can route the operations to the node that owns the data.</li>
</ul>
<a name="fixes"></a><h2 id="fixes">Fixes</h2>
<p>This section lists issues solved for 3.0 and 3.0.x releases.</p>
<ul>
<li>A class cannot be LifecycleListener and MigrationListener at the same time. <a href="https://github.com/hazelcast/hazelcast/issues/970">[#970]</a></li>
<li>EntryProcessor does not fire entry events. <a href="https://github.com/hazelcast/hazelcast/issues/950">[#950]</a></li>
<li><code>IMap.localKeySet()</code> is very slow after upgrade to 3.0. <a href="https://github.com/hazelcast/hazelcast/issues/946">[#946]</a></li>
<li>Eviction logic error for <code>USED_HEAP_PERCENTAGE</code> and <code>USED_HEAP_SIZE</code>. <a href="https://github.com/hazelcast/hazelcast/issues/891">[#891]</a></li>
<li>Failed to execute SqlPredicate with LIKE and OR keywords on the same field of the class. <a href="https://github.com/hazelcast/hazelcast/issues/885">[#885]</a></li>
<li>Infinite loop in native client when cluster is gone. <a href="https://github.com/hazelcast/hazelcast/issues/821">[#821]</a></li>
<li>TransactionalMap: DistributedObjectListener is not working. <a href="https://github.com/hazelcast/hazelcast/issues/812">[#812]</a></li>
<li>Could not find PortableFactory for factoryId: -3. <a href="https://github.com/hazelcast/hazelcast/issues/800">[#800]</a></li>
<li>Eviction occurs when it is not expected to occur. <a href="https://github.com/hazelcast/hazelcast/issues/776">[#776]</a></li>
<li>Possible dead-lock while updating an entry which loaded by map-loader. <a href="https://github.com/hazelcast/hazelcast/issues/768">[#768]</a></li>
<li><code>IMap.destroy()</code> clears map instead of destroy. <a href="https://github.com/hazelcast/hazelcast/issues/764">[#764]</a></li>
<li><code>IMap.destroy()</code> throws an exception on client. <a href="https://github.com/hazelcast/hazelcast/issues/726">[#726]</a></li>
<li>Client replace method issue. <a href="https://github.com/hazelcast/hazelcast/issues/724">[#724]</a></li>
<li>Classloader issue in deserialization. <a href="https://github.com/hazelcast/hazelcast/issues/723">[#723]</a></li>
<li>JMX preDeregister of some beans throws HazelcastIsNotActiveException during <code>shutdownAll()</code>. <a href="https://github.com/hazelcast/hazelcast/issues/713">[#713]</a></li>
<li>Optional sequencing support for Hazelcast write-behind implementation is needed. <a href="https://github.com/hazelcast/hazelcast/issues/712">[#712]</a></li>
<li>ManagementService.destroy fails to find HazelcastMBean on shutdown. <a href="https://github.com/hazelcast/hazelcast/issues/683">[#683]</a></li>
<li>Client <code>getDistributedObject()</code> does not work. <a href="https://github.com/hazelcast/hazelcast/issues/678">[#678]</a></li>
<li>Spring ManagedContext does not run on the local node when a task is executed. <a href="https://github.com/hazelcast/hazelcast/issues/659">[#659]</a></li>
<li>MemberLeftException during SqlPredicate search. <a href="https://github.com/hazelcast/hazelcast/issues/654">[#654]</a></li>
<li>NearCacheConfig: maxSize = 0 is no longer interpreted as <code>Integer.MAX_VALUE</code>. <a href="https://github.com/hazelcast/hazelcast/issues/650">[#650]</a></li>
<li><code>statistics-enabled</code> is missing for most items in the XSD scheme. <a href="https://github.com/hazelcast/hazelcast/issues/642">[#642]</a></li>
<li>Could not find PortableFactory for factoryId: 1095521605 on SqlPredicate query. <a href="https://github.com/hazelcast/hazelcast/issues/617">[#617]</a></li>
<li><code>Map.containsKey()</code> should delay eviction. <a href="https://github.com/hazelcast/hazelcast/issues/614">[#614]</a></li>
<li>Error when serializing portable nested inside other types: Could not find PortableFactory for factoryId: 0. <a href="https://github.com/hazelcast/hazelcast/issues/600">[#600]</a></li>
<li>Client related configuration improvements. <a href="https://github.com/hazelcast/hazelcast/issues/599">[#599]</a></li>
<li>Index on <code>enum</code> properties does not work. <a href="https://github.com/hazelcast/hazelcast/issues/597">[#597]</a></li>
<li>Executing Query operation with a heavy CRUD load throws an IllegalArgumentException. <a href="https://github.com/hazelcast/hazelcast/issues/596">[#596]</a></li>
<li><code>Map.set()</code> always calls the <code>onAdded</code> entry event. <a href="https://github.com/hazelcast/hazelcast/issues/589">[#589]</a></li>
<li>Client throws &#39;Could not register listener&#39; often - Near Cache entries get never invalidated after. <a href="https://github.com/hazelcast/hazelcast/issues/584">[#584]</a></li>
<li>Unexpected authentication exception. <a href="https://github.com/hazelcast/hazelcast/issues/576">[#576]</a></li>
<li>Map <code>clear</code> does not call MapStore. <a href="https://github.com/hazelcast/hazelcast/issues/572">[#572]</a></li>
<li>Transactional collections should check the transaction state to validate proper access. <a href="https://github.com/hazelcast/hazelcast/issues/568">[#568]</a></li>
<li>Client threads are not destroyed on authentication failures. <a href="https://github.com/hazelcast/hazelcast/issues/555">[#555]</a></li>
<li>Map index from configuration is not working. <a href="https://github.com/hazelcast/hazelcast/issues/553">[#553]</a></li>
<li>Client disconnects and never tries to reconnect. <a href="https://github.com/hazelcast/hazelcast/issues/538">[#538]</a></li>
<li>Map local entry listener gives no Value on <code>entryEvicted</code>. <a href="https://github.com/hazelcast/hazelcast/issues/537">[#537]</a></li>
<li>The method <code>map.getAll()</code> is not working if entry does not exist via Client. <a href="https://github.com/hazelcast/hazelcast/issues/535">[#535]</a></li>
<li>EC2 Auto discovery bug: Instances do not see each other. <a href="https://github.com/hazelcast/hazelcast/issues/516">[#516]</a></li>
<li>Custom types (other than primitives, string, date, enum, etc) can not be queried. <a href="https://github.com/hazelcast/hazelcast/issues/503">[#503]</a></li>
<li>OOME is thrown when queues are not explicitly destroyed. <a href="https://github.com/hazelcast/hazelcast/issues/417">[#417]</a></li>
<li>The method <code>loadAll</code> is called redundantly on a new node joining the cluster. <a href="https://github.com/hazelcast/hazelcast/issues/341">[#341]</a></li>
<li>Support for Hibernate 4.0 cache is needed. <a href="https://github.com/hazelcast/hazelcast/issues/72">[#72]</a></li>
<li>Add a functionality that performs entry processings. <a href="https://github.com/hazelcast/hazelcast/issues/71">[#71]</a></li>
<li>Support for JVM system property reference in Hazelcast XML is needed. <a href="https://github.com/hazelcast/hazelcast/issues/59">[#59]</a></li>
<li>Support <code>invalidation-only</code> 2nd level cache for Hibernate. <a href="https://github.com/hazelcast/hazelcast/issues/57">[#57]</a></li>
<li>Hazelcast resource adapter does not work on WebSphere 6.1/7. <a href="https://github.com/hazelcast/hazelcast/issues/37">[#37]</a></li>
</ul>
<a name="upgrading-from-3x"></a><h1 id="upgrading-from-3-x">Upgrading from 3.x</h1>
<ul>
<li><p><strong>Introducing the <code>spring-aware</code> element:</strong>
Before the release 3.5, Hazelcast uses <code>SpringManagedContext</code> to scan <code>SpringAware</code> annotations by default. This may cause some performance overhead for the users who do not use <code>SpringAware</code>.
This behavior has been changed with the release of Hazelcast 3.5. <code>SpringAware</code> annotations are disabled by default. By introducing the <code>spring-aware</code> element, now it is possible to enable it by adding the <code>&lt;hz:spring-aware /&gt;</code> tag to the configuration. Please see the <a href="#spring-integration">Spring Integration section</a>.</p>
</li>
<li><p><strong>Introducing new configuration options for WAN replication:</strong>
Starting with the release 3.6, WAN replication related system properties, that are configured per member basis, can now be configured per target cluster.
Below 4 system properties are no more valid;</p>
<ul>
<li><p><code>hazelcast.enterprise.wanrep.batch.size</code>, please see the <a href="http://docs.hazelcast.org/docs/latest-dev/manual/html-single/index.html#batch-size">WAN Replication Batch Size</a>. </p>
</li>
<li><p><code>hazelcast.enterprise.wanrep.batchfrequency.seconds</code>, please see the <a href="http://docs.hazelcast.org/docs/latest-dev/manual/html-single/index.html#batch-maximum-delay">WAN Replication Batch Maximum Delay</a>.</p>
</li>
<li><p><code>hazelcast.enterprise.wanrep.optimeout.millis</code>, please see the <a href="http://docs.hazelcast.org/docs/latest-dev/manual/html-single/index.html#response-timeout">WAN Replication Response Timeout</a>.</p>
</li>
<li><p><code>hazelcast.enterprise.wanrep.queue.capacity</code>, please see the <a href="http://docs.hazelcast.org/docs/latest-dev/manual/html-single/index.html#queue-capacity">WAN Replication Queue Capacity</a>.</p>
</li>
</ul>
</li>
</ul>
<ul>
<li><strong>Removal of deprecated getId() method</strong>: 
The method <code>getId()</code> in the interface <code>DistributedObject</code> has been removed. Please use the method <code>getName()</code> instead.</li>
</ul>
<a name="upgrading-from-2x"></a><h1 id="upgrading-from-2-x">Upgrading from 2.x</h1>
<ul>
<li><strong>Removal of deprecated static methods:</strong>
The static methods of Hazelcast class reaching Hazelcast data components have been removed. The functionality of these methods can be reached from HazelcastInstance interface. Namely you should replace following:</li>
</ul>
<pre><code class="lang-java">Map&lt;Integer, String&gt; customers = Hazelcast.getMap( &quot;customers&quot; );
</code></pre>
<p>with</p>
<pre><code class="lang-java">HazelcastInstance hazelcastInstance = Hazelcast.newHazelcastInstance();
// or if you already started an instance named &quot;instance1&quot;
// HazelcastInstance hazelcastInstance = Hazelcast.getHazelcastInstanceByName( &quot;instance1&quot; );
Map&lt;Integer, String&gt; customers = hazelcastInstance.getMap( &quot;customers&quot; );
</code></pre>
<ul>
<li><strong>Renaming &quot;instance&quot; to &quot;distributed object&quot;:</strong>
Before 3.0 there was a confusion for the term &quot;instance&quot;. It was used for both the cluster members and the distributed objects (map, queue, topic, etc. instances). Starting 3.0, the term instance will be only used for Hazelcast instances, namely cluster members. We will use the term &quot;distributed object&quot; for map, queue, etc. instances. So you should replace the related methods with the new renamed ones. As 3.0 clients are smart client that they know in which node the data is located, you can replace your lite members with native clients.</li>
</ul>
<pre><code class="lang-java">public static void main( String[] args ) throws InterruptedException {
  HazelcastInstance hazelcastInstance = Hazelcast.newHazelcastInstance();
  IMap map = hazelcastInstance.getMap( &quot;test&quot; );
  Collection&lt;Instance&gt; instances = hazelcastInstance.getInstances();
  for ( Instance instance : instances ) {
    if ( instance.getInstanceType() == Instance.InstanceType.MAP ) {
      System.out.println( &quot;There is a map with name: &quot; + instance.getId() );
    }
  }
}
</code></pre>
<p>with</p>
<pre><code class="lang-java">public static void main( String[] args ) throws InterruptedException {
  HazelcastInstance hazelcastInstance = Hazelcast.newHazelcastInstance();
  IMap map = hz.getMap( &quot;test&quot; );
  Collection&lt;DistributedObject&gt; objects = hazelcastInstance.getDistributedObjects();
  for ( DistributedObject distributedObject : objects ) {
    if ( distributedObject instanceof IMap ) {
      System.out.println( &quot;There is a map with name: &quot; + distributedObject.getName() );
    }
  }
}
</code></pre>
<ul>
<li><strong>Package structure change:</strong>
PartitionService has been moved to package <code>com.hazelcast.core</code> from <code>com.hazelcast.partition</code>.</li>
</ul>
<ul>
<li><strong>Listener API change:</strong>
Before 3.0, <code>removeListener</code> methods was taking the Listener object as parameter. But, it causes confusion as same listener object may be used as parameter for different listener registrations. So we have changed the listener API. <code>addListener</code> methods return you an unique ID and you can remove listener by using this ID. So you should do following replacement if needed:</li>
</ul>
<pre><code class="lang-java">IMap map = hazelcastInstance.getMap( &quot;map&quot; );
map.addEntryListener( listener, true );
map.removeEntryListener( listener );
</code></pre>
<p>with</p>
<pre><code class="lang-java">IMap map = hazelcastInstance.getMap( &quot;map&quot; );
String listenerId = map.addEntryListener( listener, true );
map.removeEntryListener( listenerId );
</code></pre>
<ul>
<li><strong>IMap changes:</strong></li>
<li><code>tryRemove(K key, long timeout, TimeUnit timeunit)</code> returns boolean indicating whether operation is successful.</li>
<li><code>tryLockAndGet(K key, long time, TimeUnit timeunit)</code> is removed.</li>
<li><code>putAndUnlock(K key, V value)</code> is removed.</li>
<li><code>lockMap(long time, TimeUnit timeunit)</code> and <code>unlockMap()</code> are removed.</li>
<li><code>getMapEntry(K key)</code> is renamed as <code>getEntryView(K key)</code>. The returned object&#39;s type, MapEntry class is renamed as EntryView.</li>
<li>There is no predefined names for merge policies. You just give the full class name of the merge policy implementation.</li>
</ul>
<pre><code class="lang-xml">&lt;merge-policy&gt;com.hazelcast.map.merge.PassThroughMergePolicy&lt;/merge-policy&gt;
</code></pre>
<p>Also MergePolicy interface has been renamed to MapMergePolicy and also returning null from the implemented <code>merge()</code> method causes the existing entry to be removed.</p>
<ul>
<li><strong>IQueue changes:</strong>
There is no change on IQueue API but there are changes on how <code>IQueue</code> is configured. With Hazelcast 3.0 there will not be backing map configuration for queue. Settings like backup count will be directly configured on queue config. For queue configuration details, please see the <a href="#queue">Queue section</a>.</li>
<li><strong>Transaction API change:</strong>
In Hazelcast 3.0, transaction API is completely different. Please see the <a href="#transactions">Transactions chapter</a>.</li>
<li><strong>ExecutorService API change:</strong>
Classes MultiTask and DistributedTask have been removed. All the functionality is supported by the newly presented interface IExecutorService. Please see the <a href="#executor-service">Executor Service section</a>.</li>
<li><strong>LifeCycleService API:</strong>
The lifecycle has been simplified. <code>pause()</code>, <code>resume()</code>, <code>restart()</code> methods have been removed.</li>
<li><strong>AtomicNumber:</strong>
<code>AtomicNumber</code> class has been renamed to <code>IAtomicLong</code>.</li>
<li><strong>ICountDownLatch:</strong>
<code>await()</code> operation has been removed. We expect users to use <code>await()</code> method with timeout parameters.</li>
<li><strong>ISemaphore API:</strong>
The <code>ISemaphore</code> has been substantially changed. <code>attach()</code>, <code>detach()</code> methods have been removed.</li>
<li>In 2.x releases, the default value for <code>max-size</code> eviction policy was <strong>cluster_wide_map_size</strong>. In 3.x releases, default is <strong>PER_NODE</strong>. After upgrading, the <code>max-size</code> should be set according to this new default, if it is not changed. Otherwise, it is likely that OutOfMemory exception may be thrown.</li>
</ul>





	        </div>	
	        </div>		
    </div>
</body>
</html>
